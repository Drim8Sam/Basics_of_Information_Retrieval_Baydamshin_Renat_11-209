<!DOCTYPE html>
<html class="client-nojs vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-1 vector-feature-appearance-pinned-clientpref-1 skin-theme-clientpref-day vector-sticky-header-enabled vector-toc-available" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<title>Red–black tree - Wikipedia</title>
<script>(function(){var className="client-js vector-feature-language-in-header-enabled vector-feature-language-in-main-page-header-disabled vector-feature-page-tools-pinned-disabled vector-feature-toc-pinned-clientpref-1 vector-feature-main-menu-pinned-disabled vector-feature-limited-width-clientpref-1 vector-feature-limited-width-content-enabled vector-feature-custom-font-size-clientpref-1 vector-feature-appearance-pinned-clientpref-1 skin-theme-clientpref-day vector-sticky-header-enabled vector-toc-available";var cookie=document.cookie.match(/(?:^|; )enwikimwclientpreferences=([^;]+)/);if(cookie){cookie[1].split('%2C').forEach(function(pref){className=className.replace(new RegExp('(^| )'+pref.replace(/-clientpref-\w+$|[^\w-]+/g,'')+'-clientpref-\\w+( |$)'),'$1'+pref+'$2');});}document.documentElement.className=className;}());RLCONF={"wgBreakFrames":false,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"fdb87497-4907-44a5-a3ae-548374a4354a","wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Red–black_tree","wgTitle":"Red–black tree","wgCurRevisionId":1339266301,"wgRevisionId":1339266301,"wgArticleId":26397,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Articles with short description","Short description matches Wikidata","All articles with unsourced statements","Articles with unsourced statements from April 2024","Pages using multiple image with unknown parameters","Articles containing proofs","Articles with example C code","Binary trees","Search trees","Amortized data structures","1972 in computing"],"wgPageViewLanguage":"en","wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Red–black_tree","wgRelevantArticleId":26397,"wgTempUserName":null,"wgIsProbablyEditable":true,"wgRelevantPageIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgNoticeProject":"wikipedia","wgFlaggedRevsParams":{"tags":{"status":{"levels":1}}},"wgConfirmEditCaptchaNeededForGenericEdit":"hcaptcha","wgConfirmEditHCaptchaVisualEditorOnLoadIntegrationEnabled":false,"wgConfirmEditHCaptchaSiteKey":"5d0c670e-a5f4-4258-ad16-1f42792c9c62","wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgPopupsFlags":0,"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","pageVariantFallbacks":"en"},"wgMFDisplayWikibaseDescriptions":{"search":true,"watchlist":true,"tagline":false,"nearby":true},"wgWMESchemaEditAttemptStepOversample":false,"wgWMEPageLength":80000,"wgEditSubmitButtonLabelPublish":true,"wgVisualEditorPageIsDisambiguation":false,"wgULSPosition":"interlanguage","wgULSisCompactLinksEnabled":false,"wgVector2022LanguageInHeader":true,"wgULSisLanguageSelectorEmpty":false,"wgWikibaseItemId":"Q506496","wgCheckUserClientHintsHeadersJsApi":["brands","architecture","bitness","fullVersionList","mobile","model","platform","platformVersion"],"GEHomepageSuggestedEditsEnableTopics":true,"wgGESuggestedEditsTaskTypes":{"taskTypes":["copyedit","link-recommendation"],"unavailableTaskTypes":[]},"wgGETopicsMatchModeEnabled":false,"wgGELevelingUpEnabledForUser":false,"wgGEUseTestKitchenExtension":true,"wgMetricsPlatformUserExperiments":{"active_experiments":[],"overrides":[],"enrolled":[],"assigned":[],"subject_ids":[],"sampling_units":[],"coordinator":[]},"wgTestKitchenUserExperiments":{"active_experiments":[],"overrides":[],"enrolled":[],"assigned":[],"subject_ids":[],"sampling_units":[],"coordinator":[]}};
RLSTATE={"ext.globalCssJs.user.styles":"ready","site.styles":"ready","user.styles":"ready","ext.globalCssJs.user":"ready","user":"ready","user.options":"loading","ext.wikimediamessages.styles":"ready","ext.math.styles":"ready","ext.cite.styles":"ready","ext.pygments":"ready","mediawiki.page.gallery.styles":"ready","skins.vector.search.codex.styles":"ready","skins.vector.styles":"ready","skins.vector.icons":"ready","jquery.tablesorter.styles":"ready","jquery.makeCollapsible.styles":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.interlanguage":"ready","wikibase.client.init":"ready","ext.wikimediaBadges":"ready"};RLPAGEMODULES=["ext.math.polyfills","ext.cite.ux-enhancements","ext.pygments.view","mediawiki.page.media","ext.scribunto.logs","site","mediawiki.page.ready","jquery.tablesorter","jquery.makeCollapsible","mediawiki.toc","skins.vector.js","ext.centralNotice.geoIP","ext.centralNotice.startUp","ext.gadget.ReferenceTooltips","ext.gadget.switcher","ext.urlShortener.toolbar","ext.centralauth.centralautologin","mmv.bootstrap","ext.popups","ext.visualEditor.desktopArticleTarget.init","ext.echo.centralauth","ext.eventLogging","ext.wikimediaEvents","ext.navigationTiming","ext.uls.interface","ext.cx.eventlogging.campaigns","ext.cx.uls.quick.actions","wikibase.client.vector-2022","wikibase.databox.fromWikidata","ext.checkUser.clientHints","ext.growthExperiments.SuggestedEditSession","ext.xLab","ext.testKitchen"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.impl(function(){return["user.options@12s5i",function($,jQuery,require,module){mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
}];});});</script>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.cite.styles%7Cext.math.styles%7Cext.pygments%2CwikimediaBadges%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cext.wikimediamessages.styles%7Cjquery.makeCollapsible.styles%7Cjquery.tablesorter.styles%7Cmediawiki.page.gallery.styles%7Cskins.vector.icons%2Cstyles%7Cskins.vector.search.codex.styles%7Cwikibase.client.init&amp;only=styles&amp;skin=vector-2022">
<script async="" src="/w/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector-2022"></script>
<meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector-2022">
<meta name="generator" content="MediaWiki 1.46.0-wmf.16">
<meta name="referrer" content="origin">
<meta name="referrer" content="origin-when-cross-origin">
<meta name="robots" content="max-image-preview:standard">
<meta name="format-detection" content="telephone=no">
<meta property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Red-black_tree_example_with_sockets.svg/1280px-Red-black_tree_example_with_sockets.svg.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="499">
<meta name="viewport" content="width=1120">
<meta property="og:title" content="Red–black tree - Wikipedia">
<meta property="og:type" content="website">
<link rel="preconnect" href="//upload.wikimedia.org">
<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit">
<link rel="apple-touch-icon" href="/static/apple-touch/wikipedia.png">
<link rel="icon" href="/static/favicon/wikipedia.ico">
<link rel="search" type="application/opensearchdescription+xml" href="/w/rest.php/v1/search" title="Wikipedia (en)">
<link rel="EditURI" type="application/rsd+xml" href="//en.wikipedia.org/w/api.php?action=rsd">
<link rel="canonical" href="https://en.wikipedia.org/wiki/Red%E2%80%93black_tree">
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">
<link rel="alternate" type="application/atom+xml" title="Wikipedia Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="dns-prefetch" href="//meta.wikimedia.org" />
<link rel="dns-prefetch" href="auth.wikimedia.org">
</head>
<body class="skin--responsive skin-vector skin-vector-search-vue mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-Red–black_tree rootpage-Red–black_tree skin-vector-2022 action-view">
<div id="mw-aria-live-region" class="mw-aria-live-region" aria-live="polite"></div><a class="mw-jump-link" href="#bodyContent">Jump to content</a>
<div class="vector-header-container">
	<header class="vector-header mw-header no-font-mode-scale">
		<div class="vector-header-start">
			<nav class="vector-main-menu-landmark" aria-label="Site">
				
<div id="vector-main-menu-dropdown" class="vector-dropdown vector-main-menu-dropdown vector-button-flush-left vector-button-flush-right"  title="Main menu" >
	<input type="checkbox" id="vector-main-menu-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-main-menu-dropdown" class="vector-dropdown-checkbox "  aria-label="Main menu"  >
	<label id="vector-main-menu-dropdown-label" for="vector-main-menu-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-menu mw-ui-icon-wikimedia-menu"></span>

<span class="vector-dropdown-label-text">Main menu</span>
	</label>
	<div class="vector-dropdown-content">


				<div id="vector-main-menu-unpinned-container" class="vector-unpinned-container">
		
<div id="vector-main-menu" class="vector-main-menu vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-main-menu-pinnable-header vector-pinnable-header-unpinned"
	data-feature-name="main-menu-pinned"
	data-pinnable-element-id="vector-main-menu"
	data-pinned-container-id="vector-main-menu-pinned-container"
	data-unpinned-container-id="vector-main-menu-unpinned-container"
>
	<div class="vector-pinnable-header-label">Main menu</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-main-menu.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-main-menu.unpin">hide</button>
</div>

	
<div id="p-navigation" class="vector-menu mw-portlet mw-portlet-navigation"  >
	<div class="vector-menu-heading">
		Navigation
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-mainpage-description" class="mw-list-item"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z"><span>Main page</span></a></li><li id="n-contents" class="mw-list-item"><a href="/wiki/Wikipedia:Contents" title="Guides to browsing Wikipedia"><span>Contents</span></a></li><li id="n-currentevents" class="mw-list-item"><a href="/wiki/Portal:Current_events" title="Articles related to current events"><span>Current events</span></a></li><li id="n-randompage" class="mw-list-item"><a href="/wiki/Special:Random" title="Visit a randomly selected article [x]" accesskey="x"><span>Random article</span></a></li><li id="n-aboutsite" class="mw-list-item"><a href="/wiki/Wikipedia:About" title="Learn about Wikipedia and how it works"><span>About Wikipedia</span></a></li><li id="n-contactpage" class="mw-list-item"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia"><span>Contact us</span></a></li>
		</ul>
		
	</div>
</div>

	
<div id="p-interaction" class="vector-menu mw-portlet mw-portlet-interaction"  >
	<div class="vector-menu-heading">
		Contribute
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="n-help" class="mw-list-item"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia"><span>Help</span></a></li><li id="n-introduction" class="mw-list-item"><a href="/wiki/Help:Introduction" title="Learn how to edit Wikipedia"><span>Learn to edit</span></a></li><li id="n-portal" class="mw-list-item"><a href="/wiki/Wikipedia:Community_portal" title="The hub for editors"><span>Community portal</span></a></li><li id="n-recentchanges" class="mw-list-item"><a href="/wiki/Special:RecentChanges" title="A list of recent changes to Wikipedia [r]" accesskey="r"><span>Recent changes</span></a></li><li id="n-upload" class="mw-list-item"><a href="/wiki/Wikipedia:File_upload_wizard" title="Add images or other media for use on Wikipedia"><span>Upload file</span></a></li><li id="n-specialpages" class="mw-list-item"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q"><span>Special pages</span></a></li>
		</ul>
		
	</div>
</div>

</div>

				</div>

	</div>
</div>

		</nav>
			
<a href="/wiki/Main_Page" class="mw-logo">
	<img class="mw-logo-icon" src="/static/images/icons/enwiki-25.svg" alt="" aria-hidden="true" height="50" width="50">
	<span class="mw-logo-container skin-invert">
		<img class="mw-logo-wordmark" alt="Wikipedia" src="/static/images/mobile/copyright/wikipedia-wordmark-en-25.svg" style="width: 8.75em; height: 1.375em;">
		<img class="mw-logo-tagline" alt="The Free Encyclopedia" src="/static/images/mobile/copyright/wikipedia-tagline-en-25.svg" width="140" height="11" style="width: 8.75em; height: 0.6875em;">
	</span>
</a>

		</div>
		<div class="vector-header-end">
			
<div id="p-search" role="search" class="vector-search-box-vue  vector-search-box-collapses vector-search-box-show-thumbnail vector-search-box-auto-expand-width vector-search-box">
	<a href="/wiki/Special:Search" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only search-toggle" title="Search Wikipedia [f]" accesskey="f"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
	</a>
	<div class="vector-typeahead-search-container">
		<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail cdx-typeahead-search--auto-expand-width">
			<form action="/w/index.php" id="searchform" class="cdx-search-input cdx-search-input--has-end-button">
				<div id="simpleSearch" class="cdx-search-input__input-wrapper"  data-search-loc="header-moved">
					<div class="cdx-text-input cdx-text-input--has-start-icon">
						<input
							class="cdx-text-input__input mw-searchInput" autocomplete="off"
							 type="search" name="search" placeholder="Search Wikipedia" aria-label="Search Wikipedia" autocapitalize="none" spellcheck="false" title="Search Wikipedia [f]" accesskey="f" id="searchInput"
							>
						<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
					</div>
					<input type="hidden" name="title" value="Special:Search">
				</div>
				<button class="cdx-button cdx-search-input__end-button">Search</button>
			</form>
		</div>
	</div>
</div>

			<nav class="vector-user-links vector-user-links-wide" aria-label="Personal tools">
	<div class="vector-user-links-main">
	
<div id="p-vector-user-menu-preferences" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-userpage" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	<nav class="vector-appearance-landmark" aria-label="Appearance">
		
<div id="vector-appearance-dropdown" class="vector-dropdown "  title="Change the appearance of the page&#039;s font size, width, and color" >
	<input type="checkbox" id="vector-appearance-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-appearance-dropdown" class="vector-dropdown-checkbox "  aria-label="Appearance"  >
	<label id="vector-appearance-dropdown-label" for="vector-appearance-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-appearance mw-ui-icon-wikimedia-appearance"></span>

<span class="vector-dropdown-label-text">Appearance</span>
	</label>
	<div class="vector-dropdown-content">


			<div id="vector-appearance-unpinned-container" class="vector-unpinned-container">
				
			</div>
		
	</div>
</div>

	</nav>
	
<div id="p-vector-user-menu-notifications" class="vector-menu mw-portlet emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

	
<div id="p-vector-user-menu-overflow" class="vector-menu mw-portlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			<li id="pt-sitesupport-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw-interface  href="https://donate.wikimedia.org/?wmf_source=donate&amp;wmf_medium=sidebar&amp;wmf_campaign=en.wikipedia.org&amp;uselang=en" class=""><span>Donate</span></a>
</li>
<li id="pt-createaccount-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw-interface  href="/w/index.php?title=Special:CreateAccount&amp;returnto=Red%E2%80%93black+tree" title="You are encouraged to create an account and log in; however, it is not mandatory" class=""><span>Create account</span></a>
</li>
<li id="pt-login-2" class="user-links-collapsible-item mw-list-item user-links-collapsible-item"><a data-mw-interface  href="/w/index.php?title=Special:UserLogin&amp;returnto=Red%E2%80%93black+tree" title="You&#039;re encouraged to log in; however, it&#039;s not mandatory. [o]" accesskey="o" class=""><span>Log in</span></a>
</li>

			
		</ul>
		
	</div>
</div>

	</div>
	
<div id="vector-user-links-dropdown" class="vector-dropdown vector-user-menu vector-button-flush-right vector-user-menu-logged-out user-links-collapsible-item"  title="Log in and more options" >
	<input type="checkbox" id="vector-user-links-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-user-links-dropdown" class="vector-dropdown-checkbox "  aria-label="Personal tools"  >
	<label id="vector-user-links-dropdown-label" for="vector-user-links-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-ellipsis mw-ui-icon-wikimedia-ellipsis"></span>

<span class="vector-dropdown-label-text">Personal tools</span>
	</label>
	<div class="vector-dropdown-content">


		
<div id="p-personal" class="vector-menu mw-portlet mw-portlet-personal user-links-collapsible-item"  title="User menu" >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="pt-sitesupport" class="user-links-collapsible-item mw-list-item"><a href="https://donate.wikimedia.org/?wmf_source=donate&amp;wmf_medium=sidebar&amp;wmf_campaign=en.wikipedia.org&amp;uselang=en"><span>Donate</span></a></li><li id="pt-createaccount" class="user-links-collapsible-item mw-list-item"><a href="/w/index.php?title=Special:CreateAccount&amp;returnto=Red%E2%80%93black+tree" title="You are encouraged to create an account and log in; however, it is not mandatory"><span class="vector-icon mw-ui-icon-userAdd mw-ui-icon-wikimedia-userAdd"></span> <span>Create account</span></a></li><li id="pt-login" class="user-links-collapsible-item mw-list-item"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Red%E2%80%93black+tree" title="You&#039;re encouraged to log in; however, it&#039;s not mandatory. [o]" accesskey="o"><span class="vector-icon mw-ui-icon-logIn mw-ui-icon-wikimedia-logIn"></span> <span>Log in</span></a></li>
		</ul>
		
	</div>
</div>

	
	</div>
</div>

</nav>

		</div>
	</header>
</div>
<div class="mw-page-container">
	<div class="mw-page-container-inner">
		<div class="vector-sitenotice-container">
			<div id="siteNotice"><!-- CentralNotice --></div>
		</div>
		<div class="vector-column-start">
			<div class="vector-main-menu-container">
		<div id="mw-navigation">
			<nav id="mw-panel" class="vector-main-menu-landmark" aria-label="Site">
				<div id="vector-main-menu-pinned-container" class="vector-pinned-container">
				
				</div>
		</nav>
		</div>
	</div>
	<div class="vector-sticky-pinned-container">
				<nav id="mw-panel-toc" aria-label="Contents" data-event-name="ui.sidebar-toc" class="mw-table-of-contents-container vector-toc-landmark">
					<div id="vector-toc-pinned-container" class="vector-pinned-container">
					<div id="vector-toc" class="vector-toc vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-toc-pinnable-header vector-pinnable-header-pinned"
	data-feature-name="toc-pinned"
	data-pinnable-element-id="vector-toc"
	
	
>
	<h2 class="vector-pinnable-header-label">Contents</h2>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-toc.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-toc.unpin">hide</button>
</div>


	<ul class="vector-toc-contents" id="mw-panel-toc-list">
		<li id="toc-mw-content-text"
			class="vector-toc-list-item vector-toc-level-1">
			<a href="#" class="vector-toc-link">
				<div class="vector-toc-text">(Top)</div>
			</a>
		</li>
		<li id="toc-History"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#History">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">1</span>
				<span>History</span>
			</div>
		</a>
		
		<ul id="toc-History-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Terminology"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Terminology">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">2</span>
				<span>Terminology</span>
			</div>
		</a>
		
		<ul id="toc-Terminology-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Properties"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Properties">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">3</span>
				<span>Properties</span>
			</div>
		</a>
		
		<ul id="toc-Properties-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Analogy_to_2–3–4_trees"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Analogy_to_2–3–4_trees">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">4</span>
				<span>Analogy to 2–3–4 trees</span>
			</div>
		</a>
		
		<ul id="toc-Analogy_to_2–3–4_trees-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Applications_and_related_data_structures"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Applications_and_related_data_structures">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">5</span>
				<span>Applications and related data structures</span>
			</div>
		</a>
		
		<ul id="toc-Applications_and_related_data_structures-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Implementation"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Implementation">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">6</span>
				<span>Implementation</span>
			</div>
		</a>
		
			<button aria-controls="toc-Implementation-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Implementation subsection</span>
			</button>
		
		<ul id="toc-Implementation-sublist" class="vector-toc-list">
			<li id="toc-Notes_to_the_sample_code_and_diagrams_of_insertion_and_removal"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Notes_to_the_sample_code_and_diagrams_of_insertion_and_removal">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.1</span>
					<span>Notes to the sample code and diagrams of insertion and removal</span>
				</div>
			</a>
			
			<ul id="toc-Notes_to_the_sample_code_and_diagrams_of_insertion_and_removal-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Insertion"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Insertion">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2</span>
					<span>Insertion</span>
				</div>
			</a>
			
			<ul id="toc-Insertion-sublist" class="vector-toc-list">
				<li id="toc-Notes_to_the_insert_diagrams"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Notes_to_the_insert_diagrams">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.1</span>
					<span>Notes to the insert diagrams</span>
				</div>
			</a>
			
			<ul id="toc-Notes_to_the_insert_diagrams-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Insert_case_1"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Insert_case_1">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.2</span>
					<span>Insert case 1</span>
				</div>
			</a>
			
			<ul id="toc-Insert_case_1-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Insert_case_2"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Insert_case_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.3</span>
					<span>Insert case 2</span>
				</div>
			</a>
			
			<ul id="toc-Insert_case_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Insert_case_3"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Insert_case_3">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.4</span>
					<span>Insert case 3</span>
				</div>
			</a>
			
			<ul id="toc-Insert_case_3-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Insert_case_4"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Insert_case_4">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.5</span>
					<span>Insert case 4</span>
				</div>
			</a>
			
			<ul id="toc-Insert_case_4-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Insert_case_5"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Insert_case_5">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.6</span>
					<span>Insert case 5</span>
				</div>
			</a>
			
			<ul id="toc-Insert_case_5-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Insert_case_6"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Insert_case_6">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.2.7</span>
					<span>Insert case 6</span>
				</div>
			</a>
			
			<ul id="toc-Insert_case_6-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Removal"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Removal">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3</span>
					<span>Removal</span>
				</div>
			</a>
			
			<ul id="toc-Removal-sublist" class="vector-toc-list">
				<li id="toc-Simple_cases"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Simple_cases">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.1</span>
					<span>Simple cases</span>
				</div>
			</a>
			
			<ul id="toc-Simple_cases-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Removal_of_a_black_non-root_leaf"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Removal_of_a_black_non-root_leaf">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.2</span>
					<span>Removal of a black non-root leaf</span>
				</div>
			</a>
			
			<ul id="toc-Removal_of_a_black_non-root_leaf-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Notes_to_the_delete_diagrams"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Notes_to_the_delete_diagrams">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.3</span>
					<span>Notes to the delete diagrams</span>
				</div>
			</a>
			
			<ul id="toc-Notes_to_the_delete_diagrams-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Delete_case_1"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Delete_case_1">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.4</span>
					<span>Delete case 1</span>
				</div>
			</a>
			
			<ul id="toc-Delete_case_1-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Delete_case_2"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Delete_case_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.5</span>
					<span>Delete case 2</span>
				</div>
			</a>
			
			<ul id="toc-Delete_case_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Delete_case_3"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Delete_case_3">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.6</span>
					<span>Delete case 3</span>
				</div>
			</a>
			
			<ul id="toc-Delete_case_3-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Delete_case_4"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Delete_case_4">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.7</span>
					<span>Delete case 4</span>
				</div>
			</a>
			
			<ul id="toc-Delete_case_4-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Delete_case_5"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Delete_case_5">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.8</span>
					<span>Delete case 5</span>
				</div>
			</a>
			
			<ul id="toc-Delete_case_5-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Delete_case_6"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Delete_case_6">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">6.3.9</span>
					<span>Delete case 6</span>
				</div>
			</a>
			
			<ul id="toc-Delete_case_6-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-Proof_of_bounds"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Proof_of_bounds">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">7</span>
				<span>Proof of bounds</span>
			</div>
		</a>
		
		<ul id="toc-Proof_of_bounds-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Set_operations_and_bulk_operations"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Set_operations_and_bulk_operations">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">8</span>
				<span>Set operations and bulk operations</span>
			</div>
		</a>
		
		<ul id="toc-Set_operations_and_bulk_operations-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Parallel_algorithms"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Parallel_algorithms">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">9</span>
				<span>Parallel algorithms</span>
			</div>
		</a>
		
			<button aria-controls="toc-Parallel_algorithms-sublist" class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-toc-toggle">
				<span class="vector-icon mw-ui-icon-wikimedia-expand"></span>
				<span>Toggle Parallel algorithms subsection</span>
			</button>
		
		<ul id="toc-Parallel_algorithms-sublist" class="vector-toc-list">
			<li id="toc-Parallel_bulk_operations"
			class="vector-toc-list-item vector-toc-level-2">
			<a class="vector-toc-link" href="#Parallel_bulk_operations">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.1</span>
					<span>Parallel bulk operations</span>
				</div>
			</a>
			
			<ul id="toc-Parallel_bulk_operations-sublist" class="vector-toc-list">
				<li id="toc-Join-based"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Join-based">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.1.1</span>
					<span>Join-based</span>
				</div>
			</a>
			
			<ul id="toc-Join-based-sublist" class="vector-toc-list">
				<li id="toc-Execution_time"
			class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Execution_time">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.1.1.1</span>
					<span>Execution time</span>
				</div>
			</a>
			
			<ul id="toc-Execution_time-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Work"
			class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Work">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.1.1.2</span>
					<span>Work</span>
				</div>
			</a>
			
			<ul id="toc-Work-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
		<li id="toc-Pipelining"
			class="vector-toc-list-item vector-toc-level-3">
			<a class="vector-toc-link" href="#Pipelining">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.1.2</span>
					<span>Pipelining</span>
				</div>
			</a>
			
			<ul id="toc-Pipelining-sublist" class="vector-toc-list">
				<li id="toc-Execution_time_2"
			class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Execution_time_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.1.2.1</span>
					<span>Execution time</span>
				</div>
			</a>
			
			<ul id="toc-Execution_time_2-sublist" class="vector-toc-list">
			</ul>
		</li>
		<li id="toc-Work_2"
			class="vector-toc-list-item vector-toc-level-4">
			<a class="vector-toc-link" href="#Work_2">
				<div class="vector-toc-text">
					<span class="vector-toc-numb">9.1.2.2</span>
					<span>Work</span>
				</div>
			</a>
			
			<ul id="toc-Work_2-sublist" class="vector-toc-list">
			</ul>
		</li>
	</ul>
		</li>
	</ul>
		</li>
	</ul>
	</li>
	<li id="toc-See_also"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#See_also">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">10</span>
				<span>See also</span>
			</div>
		</a>
		
		<ul id="toc-See_also-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-References_and_notes"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#References_and_notes">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">11</span>
				<span>References and notes</span>
			</div>
		</a>
		
		<ul id="toc-References_and_notes-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-Further_reading"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#Further_reading">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">12</span>
				<span>Further reading</span>
			</div>
		</a>
		
		<ul id="toc-Further_reading-sublist" class="vector-toc-list">
		</ul>
	</li>
	<li id="toc-External_links"
		class="vector-toc-list-item vector-toc-level-1">
		<a class="vector-toc-link" href="#External_links">
			<div class="vector-toc-text">
				<span class="vector-toc-numb">13</span>
				<span>External links</span>
			</div>
		</a>
		
		<ul id="toc-External_links-sublist" class="vector-toc-list">
		</ul>
	</li>
</ul>
</div>

					</div>
		</nav>
			</div>
		</div>
		<div class="mw-content-container">
			<main id="content" class="mw-body">
				<header class="mw-body-header vector-page-titlebar no-font-mode-scale">
					<nav aria-label="Contents" class="vector-toc-landmark">
						
<div id="vector-page-titlebar-toc" class="vector-dropdown vector-page-titlebar-toc vector-button-flush-left"  title="Table of Contents" >
	<input type="checkbox" id="vector-page-titlebar-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-titlebar-toc" class="vector-dropdown-checkbox "  aria-label="Toggle the table of contents"  >
	<label id="vector-page-titlebar-toc-label" for="vector-page-titlebar-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
	</label>
	<div class="vector-dropdown-content">


							<div id="vector-page-titlebar-toc-unpinned-container" class="vector-unpinned-container">
			</div>
		
	</div>
</div>

					</nav>
					<h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Red–black tree</span></h1>
							
<div id="p-lang-btn" class="vector-dropdown mw-portlet mw-portlet-lang"  >
	<input type="checkbox" id="p-lang-btn-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-p-lang-btn" class="vector-dropdown-checkbox mw-interlanguage-selector" aria-label="Go to an article in another language. Available in 33 languages"   >
	<label id="p-lang-btn-label" for="p-lang-btn-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive mw-portlet-lang-heading-33" aria-hidden="true"  ><span class="vector-icon mw-ui-icon-language-progressive mw-ui-icon-wikimedia-language-progressive"></span>

<span class="vector-dropdown-label-text">33 languages</span>
	</label>
	<div class="vector-dropdown-content">

		<div class="vector-menu-content">
			
			<ul class="vector-menu-content-list">
				
				<li class="interlanguage-link interwiki-als mw-list-item"><a href="https://als.wikipedia.org/wiki/Rot-Schwarz-Baum" title="Rot-Schwarz-Baum – Alemannic" lang="gsw" hreflang="gsw" data-title="Rot-Schwarz-Baum" data-language-autonym="Alemannisch" data-language-local-name="Alemannic" class="interlanguage-link-target"><span>Alemannisch</span></a></li><li class="interlanguage-link interwiki-ar mw-list-item"><a href="https://ar.wikipedia.org/wiki/%D8%B4%D8%AC%D8%B1%D8%A9_%D8%AD%D9%85%D8%B1%D8%A7%D8%A1_%D9%88%D8%B3%D9%88%D8%AF%D8%A7%D8%A1" title="شجرة حمراء وسوداء – Arabic" lang="ar" hreflang="ar" data-title="شجرة حمراء وسوداء" data-language-autonym="العربية" data-language-local-name="Arabic" class="interlanguage-link-target"><span>العربية</span></a></li><li class="interlanguage-link interwiki-az mw-list-item"><a href="https://az.wikipedia.org/wiki/Qara-q%C4%B1rm%C4%B1z%C4%B1_a%C4%9Fac" title="Qara-qırmızı ağac – Azerbaijani" lang="az" hreflang="az" data-title="Qara-qırmızı ağac" data-language-autonym="Azərbaycanca" data-language-local-name="Azerbaijani" class="interlanguage-link-target"><span>Azərbaycanca</span></a></li><li class="interlanguage-link interwiki-bg mw-list-item"><a href="https://bg.wikipedia.org/wiki/%D0%A7%D0%B5%D1%80%D0%B2%D0%B5%D0%BD%D0%BE-%D1%87%D0%B5%D1%80%D0%BD%D0%BE_%D0%B4%D1%8A%D1%80%D0%B2%D0%BE" title="Червено-черно дърво – Bulgarian" lang="bg" hreflang="bg" data-title="Червено-черно дърво" data-language-autonym="Български" data-language-local-name="Bulgarian" class="interlanguage-link-target"><span>Български</span></a></li><li class="interlanguage-link interwiki-cs mw-list-item"><a href="https://cs.wikipedia.org/wiki/%C4%8Cerveno-%C4%8Dern%C3%BD_strom" title="Červeno-černý strom – Czech" lang="cs" hreflang="cs" data-title="Červeno-černý strom" data-language-autonym="Čeština" data-language-local-name="Czech" class="interlanguage-link-target"><span>Čeština</span></a></li><li class="interlanguage-link interwiki-da mw-list-item"><a href="https://da.wikipedia.org/wiki/R%C3%B8d-sort_tr%C3%A6" title="Rød-sort træ – Danish" lang="da" hreflang="da" data-title="Rød-sort træ" data-language-autonym="Dansk" data-language-local-name="Danish" class="interlanguage-link-target"><span>Dansk</span></a></li><li class="interlanguage-link interwiki-de badge-Q17437798 badge-goodarticle mw-list-item" title="good article"><a href="https://de.wikipedia.org/wiki/Rot-Schwarz-Baum" title="Rot-Schwarz-Baum – German" lang="de" hreflang="de" data-title="Rot-Schwarz-Baum" data-language-autonym="Deutsch" data-language-local-name="German" class="interlanguage-link-target"><span>Deutsch</span></a></li><li class="interlanguage-link interwiki-es mw-list-item"><a href="https://es.wikipedia.org/wiki/%C3%81rbol_rojo-negro" title="Árbol rojo-negro – Spanish" lang="es" hreflang="es" data-title="Árbol rojo-negro" data-language-autonym="Español" data-language-local-name="Spanish" class="interlanguage-link-target"><span>Español</span></a></li><li class="interlanguage-link interwiki-fa mw-list-item"><a href="https://fa.wikipedia.org/wiki/%D8%AF%D8%B1%D8%AE%D8%AA_%D8%B3%D8%B1%D8%AE-%D8%B3%DB%8C%D8%A7%D9%87" title="درخت سرخ-سیاه – Persian" lang="fa" hreflang="fa" data-title="درخت سرخ-سیاه" data-language-autonym="فارسی" data-language-local-name="Persian" class="interlanguage-link-target"><span>فارسی</span></a></li><li class="interlanguage-link interwiki-fi mw-list-item"><a href="https://fi.wikipedia.org/wiki/Punamusta_puu" title="Punamusta puu – Finnish" lang="fi" hreflang="fi" data-title="Punamusta puu" data-language-autonym="Suomi" data-language-local-name="Finnish" class="interlanguage-link-target"><span>Suomi</span></a></li><li class="interlanguage-link interwiki-fr mw-list-item"><a href="https://fr.wikipedia.org/wiki/Arbre_bicolore" title="Arbre bicolore – French" lang="fr" hreflang="fr" data-title="Arbre bicolore" data-language-autonym="Français" data-language-local-name="French" class="interlanguage-link-target"><span>Français</span></a></li><li class="interlanguage-link interwiki-he mw-list-item"><a href="https://he.wikipedia.org/wiki/%D7%A2%D7%A5_%D7%90%D7%93%D7%95%D7%9D_%D7%A9%D7%97%D7%95%D7%A8" title="עץ אדום שחור – Hebrew" lang="he" hreflang="he" data-title="עץ אדום שחור" data-language-autonym="עברית" data-language-local-name="Hebrew" class="interlanguage-link-target"><span>עברית</span></a></li><li class="interlanguage-link interwiki-hr mw-list-item"><a href="https://hr.wikipedia.org/wiki/Crveno-crno_stablo" title="Crveno-crno stablo – Croatian" lang="hr" hreflang="hr" data-title="Crveno-crno stablo" data-language-autonym="Hrvatski" data-language-local-name="Croatian" class="interlanguage-link-target"><span>Hrvatski</span></a></li><li class="interlanguage-link interwiki-hu mw-list-item"><a href="https://hu.wikipedia.org/wiki/Piros-fekete_fa" title="Piros-fekete fa – Hungarian" lang="hu" hreflang="hu" data-title="Piros-fekete fa" data-language-autonym="Magyar" data-language-local-name="Hungarian" class="interlanguage-link-target"><span>Magyar</span></a></li><li class="interlanguage-link interwiki-id mw-list-item"><a href="https://id.wikipedia.org/wiki/Pohon_merah-hitam" title="Pohon merah-hitam – Indonesian" lang="id" hreflang="id" data-title="Pohon merah-hitam" data-language-autonym="Bahasa Indonesia" data-language-local-name="Indonesian" class="interlanguage-link-target"><span>Bahasa Indonesia</span></a></li><li class="interlanguage-link interwiki-it mw-list-item"><a href="https://it.wikipedia.org/wiki/RB-Albero" title="RB-Albero – Italian" lang="it" hreflang="it" data-title="RB-Albero" data-language-autonym="Italiano" data-language-local-name="Italian" class="interlanguage-link-target"><span>Italiano</span></a></li><li class="interlanguage-link interwiki-ja mw-list-item"><a href="https://ja.wikipedia.org/wiki/%E8%B5%A4%E9%BB%92%E6%9C%A8" title="赤黒木 – Japanese" lang="ja" hreflang="ja" data-title="赤黒木" data-language-autonym="日本語" data-language-local-name="Japanese" class="interlanguage-link-target"><span>日本語</span></a></li><li class="interlanguage-link interwiki-ko mw-list-item"><a href="https://ko.wikipedia.org/wiki/%EB%A0%88%EB%93%9C-%EB%B8%94%EB%9E%99_%ED%8A%B8%EB%A6%AC" title="레드-블랙 트리 – Korean" lang="ko" hreflang="ko" data-title="레드-블랙 트리" data-language-autonym="한국어" data-language-local-name="Korean" class="interlanguage-link-target"><span>한국어</span></a></li><li class="interlanguage-link interwiki-lmo mw-list-item"><a href="https://lmo.wikipedia.org/wiki/RB-alber" title="RB-alber – Lombard" lang="lmo" hreflang="lmo" data-title="RB-alber" data-language-autonym="Lombard" data-language-local-name="Lombard" class="interlanguage-link-target"><span>Lombard</span></a></li><li class="interlanguage-link interwiki-lt mw-list-item"><a href="https://lt.wikipedia.org/wiki/Raudonai_juodas_medis" title="Raudonai juodas medis – Lithuanian" lang="lt" hreflang="lt" data-title="Raudonai juodas medis" data-language-autonym="Lietuvių" data-language-local-name="Lithuanian" class="interlanguage-link-target"><span>Lietuvių</span></a></li><li class="interlanguage-link interwiki-nl mw-list-item"><a href="https://nl.wikipedia.org/wiki/Rood-zwartboom" title="Rood-zwartboom – Dutch" lang="nl" hreflang="nl" data-title="Rood-zwartboom" data-language-autonym="Nederlands" data-language-local-name="Dutch" class="interlanguage-link-target"><span>Nederlands</span></a></li><li class="interlanguage-link interwiki-no mw-list-item"><a href="https://no.wikipedia.org/wiki/R%C3%B8d-svart_tre" title="Rød-svart tre – Norwegian Bokmål" lang="nb" hreflang="nb" data-title="Rød-svart tre" data-language-autonym="Norsk bokmål" data-language-local-name="Norwegian Bokmål" class="interlanguage-link-target"><span>Norsk bokmål</span></a></li><li class="interlanguage-link interwiki-pl mw-list-item"><a href="https://pl.wikipedia.org/wiki/Drzewo_czerwono-czarne" title="Drzewo czerwono-czarne – Polish" lang="pl" hreflang="pl" data-title="Drzewo czerwono-czarne" data-language-autonym="Polski" data-language-local-name="Polish" class="interlanguage-link-target"><span>Polski</span></a></li><li class="interlanguage-link interwiki-pt mw-list-item"><a href="https://pt.wikipedia.org/wiki/%C3%81rvore_rubro-negra" title="Árvore rubro-negra – Portuguese" lang="pt" hreflang="pt" data-title="Árvore rubro-negra" data-language-autonym="Português" data-language-local-name="Portuguese" class="interlanguage-link-target"><span>Português</span></a></li><li class="interlanguage-link interwiki-ru mw-list-item"><a href="https://ru.wikipedia.org/wiki/%D0%9A%D1%80%D0%B0%D1%81%D0%BD%D0%BE-%D1%87%D1%91%D1%80%D0%BD%D0%BE%D0%B5_%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%BE" title="Красно-чёрное дерево – Russian" lang="ru" hreflang="ru" data-title="Красно-чёрное дерево" data-language-autonym="Русский" data-language-local-name="Russian" class="interlanguage-link-target"><span>Русский</span></a></li><li class="interlanguage-link interwiki-sr mw-list-item"><a href="https://sr.wikipedia.org/wiki/%D0%A6%D1%80%D0%B2%D0%B5%D0%BD%D0%BE-%D1%86%D1%80%D0%BD%D0%BE_%D1%81%D1%82%D0%B0%D0%B1%D0%BB%D0%BE" title="Црвено-црно стабло – Serbian" lang="sr" hreflang="sr" data-title="Црвено-црно стабло" data-language-autonym="Српски / srpski" data-language-local-name="Serbian" class="interlanguage-link-target"><span>Српски / srpski</span></a></li><li class="interlanguage-link interwiki-sv mw-list-item"><a href="https://sv.wikipedia.org/wiki/R%C3%B6d-svart_tr%C3%A4d" title="Röd-svart träd – Swedish" lang="sv" hreflang="sv" data-title="Röd-svart träd" data-language-autonym="Svenska" data-language-local-name="Swedish" class="interlanguage-link-target"><span>Svenska</span></a></li><li class="interlanguage-link interwiki-th mw-list-item"><a href="https://th.wikipedia.org/wiki/%E0%B8%95%E0%B9%89%E0%B8%99%E0%B9%84%E0%B8%A1%E0%B9%89%E0%B9%81%E0%B8%94%E0%B8%87%E0%B8%94%E0%B8%B3" title="ต้นไม้แดงดำ – Thai" lang="th" hreflang="th" data-title="ต้นไม้แดงดำ" data-language-autonym="ไทย" data-language-local-name="Thai" class="interlanguage-link-target"><span>ไทย</span></a></li><li class="interlanguage-link interwiki-tr mw-list-item"><a href="https://tr.wikipedia.org/wiki/K%C4%B1rm%C4%B1z%C4%B1-siyah_a%C4%9Fa%C3%A7" title="Kırmızı-siyah ağaç – Turkish" lang="tr" hreflang="tr" data-title="Kırmızı-siyah ağaç" data-language-autonym="Türkçe" data-language-local-name="Turkish" class="interlanguage-link-target"><span>Türkçe</span></a></li><li class="interlanguage-link interwiki-uk mw-list-item"><a href="https://uk.wikipedia.org/wiki/%D0%A7%D0%B5%D1%80%D0%B2%D0%BE%D0%BD%D0%BE-%D1%87%D0%BE%D1%80%D0%BD%D0%B5_%D0%B4%D0%B5%D1%80%D0%B5%D0%B2%D0%BE" title="Червоно-чорне дерево – Ukrainian" lang="uk" hreflang="uk" data-title="Червоно-чорне дерево" data-language-autonym="Українська" data-language-local-name="Ukrainian" class="interlanguage-link-target"><span>Українська</span></a></li><li class="interlanguage-link interwiki-vi mw-list-item"><a href="https://vi.wikipedia.org/wiki/C%C3%A2y_%C4%91%E1%BB%8F_%C4%91en" title="Cây đỏ đen – Vietnamese" lang="vi" hreflang="vi" data-title="Cây đỏ đen" data-language-autonym="Tiếng Việt" data-language-local-name="Vietnamese" class="interlanguage-link-target"><span>Tiếng Việt</span></a></li><li class="interlanguage-link interwiki-zh-min-nan mw-list-item"><a href="https://zh-min-nan.wikipedia.org/wiki/%C3%82ng-o%CD%98-chhi%C5%AB" title="Âng-o͘-chhiū – Minnan" lang="nan" hreflang="nan" data-title="Âng-o͘-chhiū" data-language-autonym="閩南語 / Bân-lâm-gí" data-language-local-name="Minnan" class="interlanguage-link-target"><span>閩南語 / Bân-lâm-gí</span></a></li><li class="interlanguage-link interwiki-zh mw-list-item"><a href="https://zh.wikipedia.org/wiki/%E7%BA%A2%E9%BB%91%E6%A0%91" title="红黑树 – Chinese" lang="zh" hreflang="zh" data-title="红黑树" data-language-autonym="中文" data-language-local-name="Chinese" class="interlanguage-link-target"><span>中文</span></a></li>
			</ul>
			<div class="after-portlet after-portlet-lang"><span class="wb-langlinks-edit wb-langlinks-link"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q506496#sitelinks-wikipedia" title="Edit interlanguage links" class="wbc-editpage">Edit links</a></span></div>
		</div>

	</div>
</div>
</header>
				<div class="vector-page-toolbar vector-feature-custom-font-size-clientpref--excluded">
					<div class="vector-page-toolbar-container">
						<div id="left-navigation">
							<nav aria-label="Namespaces">
								
<div id="p-associated-pages" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-associated-pages"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-nstab-main" class="selected vector-tab-noicon mw-list-item"><a href="/wiki/Red%E2%80%93black_tree" title="View the content page [c]" accesskey="c"><span>Article</span></a></li><li id="ca-talk" class="vector-tab-noicon mw-list-item"><a href="/wiki/Talk:Red%E2%80%93black_tree" rel="discussion" title="Discuss improvements to the content page [t]" accesskey="t"><span>Talk</span></a></li>
		</ul>
		
	</div>
</div>

								
<div id="vector-variants-dropdown" class="vector-dropdown emptyPortlet"  >
	<input type="checkbox" id="vector-variants-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-variants-dropdown" class="vector-dropdown-checkbox " aria-label="Change language variant"   >
	<label id="vector-variants-dropdown-label" for="vector-variants-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"  ><span class="vector-dropdown-label-text">English</span>
	</label>
	<div class="vector-dropdown-content">


					
<div id="p-variants" class="vector-menu mw-portlet mw-portlet-variants emptyPortlet"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			
		</ul>
		
	</div>
</div>

				
	</div>
</div>

							</nav>
						</div>
						<div id="right-navigation" class="vector-collapsible">
							<nav aria-label="Views">
								
<div id="p-views" class="vector-menu vector-menu-tabs mw-portlet mw-portlet-views"  >
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-view" class="selected vector-tab-noicon mw-list-item"><a href="/wiki/Red%E2%80%93black_tree"><span>Read</span></a></li><li id="ca-edit" class="vector-tab-noicon mw-list-item"><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit" title="Edit this page [e]" accesskey="e"><span>Edit</span></a></li><li id="ca-history" class="vector-tab-noicon mw-list-item"><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=history" title="Past revisions of this page [h]" accesskey="h"><span>View history</span></a></li>
		</ul>
		
	</div>
</div>

							</nav>
				
							<nav class="vector-page-tools-landmark" aria-label="Page tools">
								
<div id="vector-page-tools-dropdown" class="vector-dropdown vector-page-tools-dropdown"  >
	<input type="checkbox" id="vector-page-tools-dropdown-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-page-tools-dropdown" class="vector-dropdown-checkbox "  aria-label="Tools"  >
	<label id="vector-page-tools-dropdown-label" for="vector-page-tools-dropdown-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet" aria-hidden="true"  ><span class="vector-dropdown-label-text">Tools</span>
	</label>
	<div class="vector-dropdown-content">


									<div id="vector-page-tools-unpinned-container" class="vector-unpinned-container">
						
<div id="vector-page-tools" class="vector-page-tools vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-page-tools-pinnable-header vector-pinnable-header-unpinned"
	data-feature-name="page-tools-pinned"
	data-pinnable-element-id="vector-page-tools"
	data-pinned-container-id="vector-page-tools-pinned-container"
	data-unpinned-container-id="vector-page-tools-unpinned-container"
>
	<div class="vector-pinnable-header-label">Tools</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-page-tools.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-page-tools.unpin">hide</button>
</div>

	
<div id="p-cactions" class="vector-menu mw-portlet mw-portlet-cactions emptyPortlet vector-has-collapsible-items"  title="More options" >
	<div class="vector-menu-heading">
		Actions
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="ca-more-view" class="selected vector-more-collapsible-item mw-list-item"><a href="/wiki/Red%E2%80%93black_tree"><span>Read</span></a></li><li id="ca-more-edit" class="vector-more-collapsible-item mw-list-item"><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit" title="Edit this page [e]" accesskey="e"><span>Edit</span></a></li><li id="ca-more-history" class="vector-more-collapsible-item mw-list-item"><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=history"><span>View history</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-tb" class="vector-menu mw-portlet mw-portlet-tb"  >
	<div class="vector-menu-heading">
		General
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/Special:WhatLinksHere/Red%E2%80%93black_tree" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j"><span>What links here</span></a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/Special:RecentChangesLinked/Red%E2%80%93black_tree" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k"><span>Related changes</span></a></li><li id="t-upload" class="mw-list-item"><a href="//en.wikipedia.org/wiki/Wikipedia:File_Upload_Wizard" title="Upload files [u]" accesskey="u"><span>Upload file</span></a></li><li id="t-permalink" class="mw-list-item"><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;oldid=1339266301" title="Permanent link to this revision of this page"><span>Permanent link</span></a></li><li id="t-info" class="mw-list-item"><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=info" title="More information about this page"><span>Page information</span></a></li><li id="t-cite" class="mw-list-item"><a href="/w/index.php?title=Special:CiteThisPage&amp;page=Red%E2%80%93black_tree&amp;id=1339266301&amp;wpFormIdentifier=titleform" title="Information on how to cite this page"><span>Cite this page</span></a></li><li id="t-urlshortener" class="mw-list-item"><a href="/w/index.php?title=Special:UrlShortener&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FRed%25E2%2580%2593black_tree"><span>Get shortened URL</span></a></li><li id="t-urlshortener-qrcode" class="mw-list-item"><a href="/w/index.php?title=Special:QrCode&amp;url=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FRed%25E2%2580%2593black_tree"><span>Download QR code</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-coll-print_export" class="vector-menu mw-portlet mw-portlet-coll-print_export"  >
	<div class="vector-menu-heading">
		Print/export
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li id="coll-download-as-rl" class="mw-list-item"><a href="/w/index.php?title=Special:DownloadAsPdf&amp;page=Red%E2%80%93black_tree&amp;action=show-download-screen" title="Download this page as a PDF file"><span>Download as PDF</span></a></li><li id="t-print" class="mw-list-item"><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;printable=yes" title="Printable version of this page [p]" accesskey="p"><span>Printable version</span></a></li>
		</ul>
		
	</div>
</div>

<div id="p-wikibase-otherprojects" class="vector-menu mw-portlet mw-portlet-wikibase-otherprojects"  >
	<div class="vector-menu-heading">
		In other projects
	</div>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list">
			
			<li class="wb-otherproject-link wb-otherproject-commons mw-list-item"><a href="https://commons.wikimedia.org/wiki/Category:Red-black_trees" hreflang="en"><span>Wikimedia Commons</span></a></li><li id="t-wikibase" class="wb-otherproject-link wb-otherproject-wikibase-dataitem mw-list-item"><a href="https://www.wikidata.org/wiki/Special:EntityPage/Q506496" title="Structured data on this page hosted by Wikidata [g]" accesskey="g"><span>Wikidata item</span></a></li>
		</ul>
		
	</div>
</div>

</div>

									</div>
				
	</div>
</div>

							</nav>
						</div>
					</div>
				</div>
				<div class="vector-column-end no-font-mode-scale">
					<div class="vector-sticky-pinned-container">
						<div class="wp25eastereggs-vector-sitenotice-landmark"></div>
						<nav class="vector-page-tools-landmark" aria-label="Page tools">
							<div id="vector-page-tools-pinned-container" class="vector-pinned-container">
				
							</div>
		</nav>
						<nav class="vector-appearance-landmark" aria-label="Appearance">
							<div id="vector-appearance-pinned-container" class="vector-pinned-container">
				<div id="vector-appearance" class="vector-appearance vector-pinnable-element">
	<div
	class="vector-pinnable-header vector-appearance-pinnable-header vector-pinnable-header-pinned"
	data-feature-name="appearance-pinned"
	data-pinnable-element-id="vector-appearance"
	data-pinned-container-id="vector-appearance-pinned-container"
	data-unpinned-container-id="vector-appearance-unpinned-container"
>
	<div class="vector-pinnable-header-label">Appearance</div>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-pin-button" data-event-name="pinnable-header.vector-appearance.pin">move to sidebar</button>
	<button class="vector-pinnable-header-toggle-button vector-pinnable-header-unpin-button" data-event-name="pinnable-header.vector-appearance.unpin">hide</button>
</div>


</div>

							</div>
		</nav>
					</div>
				</div>
				<div id="bodyContent" class="vector-body" aria-labelledby="firstHeading" data-mw-ve-target-container>
					<div class="vector-body-before-content">
							<div class="mw-indicators">
		</div>

						<div id="siteSub" class="noprint">From Wikipedia, the free encyclopedia</div>
					</div>
					<div id="contentSub"><div id="mw-content-subtitle"></div></div>
					
					
					<div id="mw-content-text" class="mw-body-content"><div class="mw-subjectpageheader">
</div><div class="mw-content-ltr mw-parser-output" lang="en" dir="ltr"><div class="shortdescription nomobile noexcerpt noprint searchaux" style="display:none">Self-balancing binary search tree data structure</div>
<style data-mw-deduplicate="TemplateStyles:r1316064257">.mw-parser-output .infobox-subbox{padding:0;border:none;margin:-3px;width:auto;min-width:100%;font-size:100%;clear:none;float:none;background-color:transparent;color:inherit}.mw-parser-output .infobox-3cols-child{margin:-3px}.mw-parser-output .infobox .navbar{font-size:100%}@media screen{html.skin-theme-clientpref-night .mw-parser-output .infobox-full-data:not(.notheme)>div:not(.notheme)[style]{background:#1f1f23!important;color:#f8f9fa}}@media screen and (prefers-color-scheme:dark){html.skin-theme-clientpref-os .mw-parser-output .infobox-full-data:not(.notheme)>div:not(.notheme)[style]{background:#1f1f23!important;color:#f8f9fa}}@media(min-width:640px){body.skin--responsive .mw-parser-output .infobox-table{display:table!important}body.skin--responsive .mw-parser-output .infobox-table>caption{display:table-caption!important}body.skin--responsive .mw-parser-output .infobox-table>tbody{display:table-row-group}body.skin--responsive .mw-parser-output .infobox-table th,body.skin--responsive .mw-parser-output .infobox-table td{padding-left:inherit;padding-right:inherit}}</style><table class="infobox"><tbody><tr><th colspan="2" class="infobox-above">Red–black tree</th></tr><tr><th scope="row" class="infobox-label"><a href="/wiki/List_of_data_structures" title="List of data structures">Type</a></th><td class="infobox-data"><a href="/wiki/Tree_(data_structure)" class="mw-redirect" title="Tree (data structure)">Tree</a></td></tr><tr><th scope="row" class="infobox-label">Invented</th><td class="infobox-data">1978</td></tr><tr><th scope="row" class="infobox-label">Invented by</th><td class="infobox-data"><a href="/wiki/Leonidas_J._Guibas" title="Leonidas J. Guibas">Leonidas J. Guibas</a> and <a href="/wiki/Robert_Sedgewick_(computer_scientist)" title="Robert Sedgewick (computer scientist)">Robert Sedgewick</a></td></tr><tr><th colspan="2" class="infobox-header">Complexities in <a href="/wiki/Big_O_notation" title="Big O notation">big O notation</a></th></tr><tr><td colspan="2" class="infobox-full-data"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1316064257" /><table class="infobox-subbox infobox-3cols-child infobox-table"><tbody><tr><th colspan="4" class="infobox-header"><a href="/wiki/Space_complexity" title="Space complexity">Space complexity</a></th></tr><tr><th scope="row" class="infobox-label" style="white-space:nowrap;">Space</th><td class="infobox-data infobox-data-a">
</td><td class="infobox-data infobox-data-b">
<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/34109fe397fdcff370079185bfdb65826cb5565a" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:4.977ex; height:2.843ex;" alt="{\displaystyle O(n)}"></span></td><td class="infobox-data infobox-data-c">
</td></tr><tr><th colspan="4" class="infobox-header"><a href="/wiki/Time_complexity" title="Time complexity">Time complexity</a></th></tr><tr><th scope="row" class="infobox-label" style="white-space:nowrap;">Function</th><td class="infobox-data infobox-data-a">
</td><td class="infobox-data infobox-data-b">
<b><a href="/wiki/Amortized_analysis" title="Amortized analysis">Amortized</a></b></td><td class="infobox-data infobox-data-c">
<b><a href="/wiki/Best,_worst_and_average_case" title="Best, worst and average case">Worst case</a></b></td></tr><tr><th scope="row" class="infobox-label" style="white-space:nowrap;">Search</th><td class="infobox-data infobox-data-a">
</td><td class="infobox-data infobox-data-b">
<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span></td><td class="infobox-data infobox-data-c">
<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span></td></tr><tr><th scope="row" class="infobox-label" style="white-space:nowrap;">Insert</th><td class="infobox-data infobox-data-a">
</td><td class="infobox-data infobox-data-b">
<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span></td><td class="infobox-data infobox-data-c">
<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span></td></tr><tr><th scope="row" class="infobox-label" style="white-space:nowrap;">Delete</th><td class="infobox-data infobox-data-a">
</td><td class="infobox-data infobox-data-b">
<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span></td><td class="infobox-data infobox-data-c">
<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span></td></tr></tbody></table></td></tr></tbody></table>
<figure class="mw-halign-right" typeof="mw:File/Thumb"><a href="/wiki/File:Red-black_tree_example_with_sockets.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Red-black_tree_example_with_sockets.svg/330px-Red-black_tree_example_with_sockets.svg.png" decoding="async" width="275" height="114" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Red-black_tree_example_with_sockets.svg/500px-Red-black_tree_example_with_sockets.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Red-black_tree_example_with_sockets.svg/960px-Red-black_tree_example_with_sockets.svg.png 2x" data-file-width="1343" data-file-height="558" /></a><figcaption>Example of a red-black tree</figcaption></figure>
<p>In <a href="/wiki/Computer_science" title="Computer science">computer science</a>, a <b>red–black tree</b> is a <a href="/wiki/Self-balancing_binary_search_tree" title="Self-balancing binary search tree">self-balancing binary search tree</a> <a href="/wiki/Data_structure" title="Data structure">data structure</a> noted for fast storage and retrieval of ordered information. The nodes in a red-black tree hold an extra "color" bit, often drawn as red and black, which help ensure that the tree is always approximately balanced.<sup id="cite&#95;ref-Cormen2001&#95;1-0" class="reference"><a href="#cite_note-Cormen2001-1"><span class="cite-bracket">&#91;</span>1<span class="cite-bracket">&#93;</span></a></sup>
</p><p>When the tree is modified, the new tree is rearranged and "repainted" to restore the coloring properties that constrain how unbalanced the tree can become in the worst case. The properties are designed such that this rearranging and recoloring can be performed efficiently.
</p><p>The (re-)balancing is not perfect, but guarantees searching in <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span> time, where <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="{\displaystyle n}"></span> is the number of entries in the tree. The insert and delete operations, along with tree rearrangement and recoloring, also execute in <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span> time.<sup id="cite&#95;ref-wiscurl2&#95;2-0" class="reference"><a href="#cite_note-wiscurl2-2"><span class="cite-bracket">&#91;</span>2<span class="cite-bracket">&#93;</span></a></sup><sup id="cite&#95;ref-3" class="reference"><a href="#cite_note-3"><span class="cite-bracket">&#91;</span>3<span class="cite-bracket">&#93;</span></a></sup>
</p><p>Tracking the color of each node requires only one bit of information per node because there are only two colors (due to memory alignment present in some programming languages, the real memory consumption may differ). The tree does not contain any other data specific to it being a red–black tree, so its <a href="/wiki/Memory_footprint" title="Memory footprint">memory footprint</a> is almost identical to that of a classic (uncolored) <a href="/wiki/Binary_search_tree" title="Binary search tree">binary search tree</a>. In some cases, the added bit of information can be stored at no added memory cost.
</p>
<style data-mw-deduplicate="TemplateStyles:r886046785">.mw-parser-output .toclimit-2 .toclevel-1 ul,.mw-parser-output .toclimit-3 .toclevel-2 ul,.mw-parser-output .toclimit-4 .toclevel-3 ul,.mw-parser-output .toclimit-5 .toclevel-4 ul,.mw-parser-output .toclimit-6 .toclevel-5 ul,.mw-parser-output .toclimit-7 .toclevel-6 ul{display:none}</style><div class="toclimit-4"><meta property="mw:PageProp/toc" /></div>
<div class="mw-heading mw-heading2"><h2 id="History">History</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=1" title="Edit section: History"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>In 1972, <a href="/wiki/Rudolf_Bayer" title="Rudolf Bayer">Rudolf Bayer</a><sup id="cite&#95;ref-Bayer72&#95;4-0" class="reference"><a href="#cite_note-Bayer72-4"><span class="cite-bracket">&#91;</span>4<span class="cite-bracket">&#93;</span></a></sup> invented a data structure that was a special order-4 case of a <a href="/wiki/B-tree" title="B-tree">B-tree</a>. These trees maintained all <a href="/wiki/Path_(graph_theory)" title="Path (graph theory)">paths</a> from root to leaf with the same number of nodes, creating perfectly balanced trees. However, they were not <i>binary</i> search trees. Bayer called them a "symmetric binary B-tree" in his paper and later they became popular as <a href="/wiki/2%E2%80%933%E2%80%934_tree" title="2–3–4 tree">2–3–4 trees</a> or even 2–3 trees.<sup id="cite&#95;ref-5" class="reference"><a href="#cite_note-5"><span class="cite-bracket">&#91;</span>5<span class="cite-bracket">&#93;</span></a></sup>
</p><p>In a 1978 paper, "A Dichromatic Framework for Balanced Trees",<sup id="cite&#95;ref-GS78&#95;6-0" class="reference"><a href="#cite_note-GS78-6"><span class="cite-bracket">&#91;</span>6<span class="cite-bracket">&#93;</span></a></sup> <a href="/wiki/Leonidas_J._Guibas" title="Leonidas J. Guibas">Leonidas J. Guibas</a> and <a href="/wiki/Robert_Sedgewick_(computer_scientist)" title="Robert Sedgewick (computer scientist)">Robert Sedgewick</a> derived the red–black tree from the symmetric binary B-tree.<sup id="cite&#95;ref-7" class="reference"><a href="#cite_note-7"><span class="cite-bracket">&#91;</span>7<span class="cite-bracket">&#93;</span></a></sup> The color "red" was chosen because it was the best-looking color produced by the color laser printer available to the authors while working at <a href="/wiki/Xerox_PARC" class="mw-redirect" title="Xerox PARC">Xerox PARC</a>.<sup id="cite&#95;ref-Sedgewick12&#95;8-0" class="reference"><a href="#cite_note-Sedgewick12-8"><span class="cite-bracket">&#91;</span>8<span class="cite-bracket">&#93;</span></a></sup> Another response from Guibas states that it was because of the red and black pens available to them to draw the trees.<sup id="cite&#95;ref-9" class="reference"><a href="#cite_note-9"><span class="cite-bracket">&#91;</span>9<span class="cite-bracket">&#93;</span></a></sup>
</p><p>In 1993, Arne Andersson introduced the idea of a right leaning tree to simplify insert and delete operations.<sup id="cite&#95;ref-10" class="reference"><a href="#cite_note-10"><span class="cite-bracket">&#91;</span>10<span class="cite-bracket">&#93;</span></a></sup>
</p><p>In 1999, <a href="/wiki/Chris_Okasaki" title="Chris Okasaki">Chris Okasaki</a> showed how to make the insert operation purely functional. Its balance function needed to take care of only four unbalanced cases and one default balanced case.<sup id="cite&#95;ref-11" class="reference"><a href="#cite_note-11"><span class="cite-bracket">&#91;</span>11<span class="cite-bracket">&#93;</span></a></sup>
</p><p>The original algorithm used eight unbalanced cases, but <a href="#CITEREFCormenLeisersonRivestStein2001">Cormen et al. (2001)</a> reduced that to six unbalanced cases.<sup id="cite&#95;ref-Cormen2001&#95;1-1" class="reference"><a href="#cite_note-Cormen2001-1"><span class="cite-bracket">&#91;</span>1<span class="cite-bracket">&#93;</span></a></sup> Sedgewick showed that the insert operation can be implemented in just 46 lines of <a href="/wiki/Java_(programming_language)" title="Java (programming language)">Java</a>.<sup id="cite&#95;ref-Algs1&#95;12-0" class="reference"><a href="#cite_note-Algs1-12"><span class="cite-bracket">&#91;</span>12<span class="cite-bracket">&#93;</span></a></sup><sup id="cite&#95;ref-13" class="reference"><a href="#cite_note-13"><span class="cite-bracket">&#91;</span>13<span class="cite-bracket">&#93;</span></a></sup>
In 2008, Sedgewick proposed the <a href="/wiki/Left-leaning_red%E2%80%93black_tree" title="Left-leaning red–black tree">left-leaning red–black tree</a>, leveraging Andersson’s idea that simplified the insert and delete operations. Sedgewick originally allowed nodes whose two children are red, making his trees more like 2–3–4 trees, but later this restriction was added, making new trees more like 2–3 trees. Sedgewick implemented the insert algorithm in just 33 lines, significantly shortening his original 46 lines of code.<sup id="cite&#95;ref-14" class="reference"><a href="#cite_note-14"><span class="cite-bracket">&#91;</span>14<span class="cite-bracket">&#93;</span></a></sup><sup id="cite&#95;ref-Algs4&#95;15-0" class="reference"><a href="#cite_note-Algs4-15"><span class="cite-bracket">&#91;</span>15<span class="cite-bracket">&#93;</span></a></sup>
</p>
<div class="mw-heading mw-heading2"><h2 id="Terminology">Terminology</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=2" title="Edit section: Terminology"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>The <b>black depth</b> of a node is defined as the number of black nodes from the root to that node (i.e. the number of black ancestors). The <b>black height</b> of a red–black tree is the number of black nodes in any path from the root to the leaves, which, by <a href="#req4">requirement 4</a>, is constant (alternatively, it could be defined as the black depth of any leaf node).<sup id="cite&#95;ref-Mehlhorn2008&#95;16-0" class="reference"><a href="#cite_note-Mehlhorn2008-16"><span class="cite-bracket">&#91;</span>16<span class="cite-bracket">&#93;</span></a></sup><sup class="reference nowrap"><span title="Page / location: 154–165">&#58;&#8202;154–165&#8202;</span></sup>
The black height of a node is the black height of the subtree rooted by it. In this article, the black height of a null node shall be set to 0, because its subtree is empty as suggested by the example figure, and its tree height is also 0.
</p>
<div class="mw-heading mw-heading2"><h2 id="Properties">Properties</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=3" title="Edit section: Properties"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>In addition to the requirements imposed on a <a href="/wiki/Binary_search_tree" title="Binary search tree">binary search tree</a> the following must be satisfied by a <span class="nowrap">red–black tree:<sup id="cite&#95;ref-Cormen2009&#95;17-0" class="reference"><a href="#cite_note-Cormen2009-17"><span class="cite-bracket">&#91;</span>17<span class="cite-bracket">&#93;</span></a></sup></span>
</p>
<ol><li>Every node is either red or black.</li>
<li><span class="anchor" id="consideredBlack"></span>All null nodes are considered black.</li>
<li><span class="anchor" id="req3"></span>A red node does not have a red child.</li>
<li><span class="anchor" id="req4"></span>Every <a href="/wiki/Path_(graph_theory)" title="Path (graph theory)">path</a> from a given node to any of its leaf nodes (that is, to any descendant null node) goes through the same number of black nodes.</li>
<li><span class="anchor" id="con5"></span>(Conclusion) If a node <b>N</b> has exactly one child, the child must be red. If the child were black, its leaves would sit at a different black depth than <b>N'</b>s null node (which is considered black by rule 2), violating <a href="#req4">requirement 4</a>.</li></ol>
<p>Some authors, e.g. Cormen &amp; al.,<sup id="cite&#95;ref-Cormen2009&#95;17-1" class="reference"><a href="#cite_note-Cormen2009-17"><span class="cite-bracket">&#91;</span>17<span class="cite-bracket">&#93;</span></a></sup> claim "the root is black" as fifth requirement; but not Mehlhorn &amp; Sanders<sup id="cite&#95;ref-Mehlhorn2008&#95;16-1" class="reference"><a href="#cite_note-Mehlhorn2008-16"><span class="cite-bracket">&#91;</span>16<span class="cite-bracket">&#93;</span></a></sup> or Sedgewick &amp; Wayne.<sup id="cite&#95;ref-Algs4&#95;15-1" class="reference"><a href="#cite_note-Algs4-15"><span class="cite-bracket">&#91;</span>15<span class="cite-bracket">&#93;</span></a></sup><sup class="reference nowrap"><span title="Page / location: 432–447">&#58;&#8202;432–447&#8202;</span></sup> Since the root can always be changed from red to black, this rule has little effect on analysis.
This article also omits it, because it slightly disturbs the recursive algorithms and proofs.
</p><p>As an example, every <a href="/wiki/Binary_tree#Types_of_binary_trees" title="Binary tree">perfect binary tree</a> that consists only of black nodes is a red–black tree.
</p><p>The read-only operations, such as search or tree traversal, do not affect any of the requirements. In contrast, the modifying operations <a href="#Insertion">insert</a> and <a href="#Removal:_simple_cases">delete</a> easily maintain requirements 1 and 2, but with respect to the other requirements some extra effort must be made, to avoid introducing a violation of requirement 3, called a <span class="anchor" id="ViolR"></span><b>red-violation</b>, or of requirement 4, called a <span class="anchor" id="ViolB"></span><b>black-violation</b>.
</p><p>The requirements enforce a critical property of red–black trees: <i>the path from the root to the farthest leaf is no more than twice as long as the path from the root to the nearest leaf</i>. The result is that the tree is <a href="/wiki/Height-balanced_binary_search_tree" class="mw-redirect" title="Height-balanced binary search tree">height-balanced</a>. Since operations such as inserting, deleting, and finding values require worst-case time proportional to the height <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b26be3e694314bc90c3215047e4a2010c6ee184a" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.339ex; height:2.176ex;" alt="{\displaystyle h}"></span> of the tree, this upper bound on the height allows red–black trees to be efficient in the worst case, namely <a href="/wiki/Logarithmic_growth" title="Logarithmic growth">logarithmic</a> in the number <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="{\displaystyle n}"></span> of entries, i.e. <span class="nowrap"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h\in O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h\in O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fdb711098e2e947667de03803c495c3b8bd142c4" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:12.516ex; height:2.843ex;" alt="{\displaystyle h\in O(\log n)}"></span></span> (a property which is shared by all self-balancing trees, e.g., <a href="/wiki/AVL_tree" title="AVL tree">AVL tree</a> or <a href="/wiki/B-tree" title="B-tree">B-tree</a>, but not the ordinary <a href="/wiki/Binary_search_tree" title="Binary search tree">binary search trees</a>). For a mathematical proof see section <a href="#Proof_of_bounds">Proof of bounds</a>.
</p><p>Red–black trees, like all <a href="/wiki/Binary_search_tree" title="Binary search tree">binary search trees</a>, allow quite efficient <a href="/wiki/Sequential_access" title="Sequential access">sequential access</a> (e.g. <a href="/wiki/In-order_traversal" class="mw-redirect" title="In-order traversal">in-order traversal</a>, that is: in the order Left–Root–Right) of their elements. But they support also asymptotically optimal <a href="/wiki/Random_access" title="Random access">direct access</a> via a traversal from root to leaf, resulting in <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span> search time.
</p>
<div class="mw-heading mw-heading2"><h2 id="Analogy_to_2–3–4_trees"><span id="Analogy_to_2.E2.80.933.E2.80.934_trees"></span>Analogy to 2–3–4 trees</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=4" title="Edit section: Analogy to 2–3–4 trees"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<figure class="mw-default-size" typeof="mw:File/Thumb"><a href="/wiki/File:Red-black_trees_and_2%E2%80%933%E2%80%934_trees.svg" class="mw-file-description"><img alt="A 2-node maps to a single black node. A 3-node maps to a black node with a red child. A 4-node maps to a black node with two red children." src="//upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Red-black_trees_and_2%E2%80%933%E2%80%934_trees.svg/250px-Red-black_trees_and_2%E2%80%933%E2%80%934_trees.svg.png" decoding="async" width="250" height="290" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Red-black_trees_and_2%E2%80%933%E2%80%934_trees.svg/500px-Red-black_trees_and_2%E2%80%933%E2%80%934_trees.svg.png 1.5x" data-file-width="174" data-file-height="202" /></a><figcaption>Figure 1: Similarities between 2–3–4 trees and red-black trees</figcaption></figure>
<p>Red–black trees are similar in structure to <a href="/wiki/2%E2%80%933%E2%80%934_trees" class="mw-redirect" title="2–3–4 trees">2–3–4 trees</a>, which are <a href="/wiki/B-trees" class="mw-redirect" title="B-trees">B-trees</a> of order 4.<sup id="cite&#95;ref-18" class="reference"><a href="#cite_note-18"><span class="cite-bracket">&#91;</span>18<span class="cite-bracket">&#93;</span></a></sup> In 2–3–4 trees, each node can contain between 1 and 3 values and have between 2 and 4 children. These 2–3–4 nodes correspond to black node – red children groups in red-black trees, as shown in figure 1. It is not a <a href="/wiki/1-to-1_correspondence" class="mw-redirect" title="1-to-1 correspondence">1-to-1 correspondence</a>, because 3-nodes have two equivalent representations: the red child may lie either to the left or right. The <a href="/wiki/Left-leaning_red-black_tree" class="mw-redirect" title="Left-leaning red-black tree">left-leaning red-black tree</a> variant makes this relationship exactly 1-to-1, by only allowing the left child representation. Since every 2–3–4 node has a corresponding black node, invariant 4 of red-black trees is equivalent to saying that the leaves of a 2–3–4 tree all lie at the same level.
</p><p>Despite structural similarities, operations on red–black trees are more economical than B-trees. B-trees require management of vectors of variable length, whereas red-black trees are simply binary trees.<sup id="cite&#95;ref-19" class="reference"><a href="#cite_note-19"><span class="cite-bracket">&#91;</span>19<span class="cite-bracket">&#93;</span></a></sup>
</p>
<div class="mw-heading mw-heading2"><h2 id="Applications_and_related_data_structures">Applications and related data structures</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=5" title="Edit section: Applications and related data structures"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Red–black trees offer worst-case guarantees for insertion time, deletion time, and search time. Not only does this make them valuable in time-sensitive applications such as <a href="/wiki/Real-time_computing" title="Real-time computing">real-time applications</a>, but it makes them valuable building blocks in other data structures that provide worst-case guarantees. For example, many data structures used in <a href="/wiki/Computational_geometry" title="Computational geometry">computational geometry</a> are based on red–black trees, and the <a href="/wiki/Completely_Fair_Scheduler" title="Completely Fair Scheduler">Completely Fair Scheduler</a> and <a href="/wiki/Epoll" title="Epoll">epoll</a> system call of the <a href="/wiki/Linux_kernel" title="Linux kernel">Linux kernel</a> use red–black trees.<sup id="cite&#95;ref-20" class="reference"><a href="#cite_note-20"><span class="cite-bracket">&#91;</span>20<span class="cite-bracket">&#93;</span></a></sup><sup id="cite&#95;ref-21" class="reference"><a href="#cite_note-21"><span class="cite-bracket">&#91;</span>21<span class="cite-bracket">&#93;</span></a></sup>
The <a href="/wiki/AVL_tree" title="AVL tree">AVL tree</a> is another structure supporting <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span> search, insertion, and removal. AVL trees can be colored red–black, and thus are a subset of red-black trees. The worst-case height of AVL is 0.720 times the worst-case height of red-black trees, so AVL trees are more rigidly balanced. The performance measurements of Ben Pfaff with realistic test cases in 79 runs find AVL to RB ratios between 0.677 and 1.077, median at 0.947, and geometric mean 0.910.<sup id="cite&#95;ref-22" class="reference"><a href="#cite_note-22"><span class="cite-bracket">&#91;</span>22<span class="cite-bracket">&#93;</span></a></sup> The performance of <a href="/wiki/WAVL_tree" title="WAVL tree">WAVL trees</a> lies between AVL trees and red-black trees.<sup class="noprint Inline-Template Template-Fact" style="white-space:nowrap;">&#91;<i><a href="/wiki/Wikipedia:Citation_needed" title="Wikipedia:Citation needed"><span title="This claim needs references to reliable sources. (April 2024)">citation needed</span></a></i>&#93;</sup>
</p><p>Red–black trees are also particularly valuable in <a href="/wiki/Functional_programming" title="Functional programming">functional programming</a>, where they are one of the most common <a href="/wiki/Persistent_data_structure" title="Persistent data structure">persistent data structures</a>, used to construct <a href="/wiki/Associative_array" title="Associative array">associative arrays</a> and <a href="/wiki/Set_(computer_science)" class="mw-redirect" title="Set (computer science)">sets</a> that can retain previous versions after mutations. The persistent version of red–black trees requires <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span> space for each insertion or deletion, in addition to time.
</p><p>For every <a href="/wiki/2%E2%80%933%E2%80%934_tree" title="2–3–4 tree">2–3–4 tree</a>, there are corresponding red–black trees with data elements in the same order. The insertion and deletion operations on 2–3–4 trees are also equivalent to color-flipping and rotations in red–black trees. This makes 2–3–4 trees an important tool for understanding the logic behind red–black trees, and this is why many introductory algorithm texts introduce 2–3–4 trees just before red–black trees, even though 2–3–4 trees are not often used in practice.
</p><p>In 2008, <a href="/wiki/Robert_Sedgewick_(computer_scientist)" title="Robert Sedgewick (computer scientist)">Sedgewick</a> introduced a simpler version of the red–black tree called the <a href="/wiki/Left-leaning_red%E2%80%93black_tree" title="Left-leaning red–black tree">left-leaning red–black tree</a><sup id="cite&#95;ref-LLRB&#95;23-0" class="reference"><a href="#cite_note-LLRB-23"><span class="cite-bracket">&#91;</span>23<span class="cite-bracket">&#93;</span></a></sup> by eliminating a previously unspecified degree of freedom in the implementation. The LLRB maintains an additional invariant that all red links must lean left except during inserts and deletes. Red–black trees can be made isometric to either <a href="/wiki/2%E2%80%933_tree" title="2–3 tree">2–3 trees</a>,<sup id="cite&#95;ref-24" class="reference"><a href="#cite_note-24"><span class="cite-bracket">&#91;</span>24<span class="cite-bracket">&#93;</span></a></sup> or 2–3–4 trees,<sup id="cite&#95;ref-LLRB&#95;23-1" class="reference"><a href="#cite_note-LLRB-23"><span class="cite-bracket">&#91;</span>23<span class="cite-bracket">&#93;</span></a></sup> for any sequence of operations. The 2–3–4 tree isometry was described in 1978 by Sedgewick.<sup id="cite&#95;ref-GS78&#95;6-1" class="reference"><a href="#cite_note-GS78-6"><span class="cite-bracket">&#91;</span>6<span class="cite-bracket">&#93;</span></a></sup> With 2–3–4 trees, the isometry is resolved by a "color flip," corresponding to a split, in which the red color of two children nodes leaves the children and moves to the parent node.
</p><p>The original description of the <a href="/wiki/Tango_tree" title="Tango tree">tango tree</a>, a type of tree optimised for fast searches, specifically uses red–black trees as part of its data structure.<sup id="cite&#95;ref-DHIP&#95;25-0" class="reference"><a href="#cite_note-DHIP-25"><span class="cite-bracket">&#91;</span>25<span class="cite-bracket">&#93;</span></a></sup>
</p><p>As of <a href="/wiki/Java_(programming_language)" title="Java (programming language)">Java</a> 8, the <a href="/wiki/Hashtable" class="mw-redirect" title="Hashtable">HashMap</a> has been modified such that instead of using a <a href="/wiki/LinkedList" class="mw-redirect" title="LinkedList">LinkedList</a> to store different elements with <a href="/wiki/Hash_function#Uniformity" title="Hash function">colliding</a> <a href="/wiki/Hashcode" class="mw-redirect" title="Hashcode">hashcodes</a>, a red–black tree is used. This results in the improvement of <a href="/wiki/Time_complexity" title="Time complexity">time complexity</a> of searching such an element from <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(m)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>m</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(m)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a0ffd498cf521ce19814e6b7053f1f8ebb1d3c88" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.623ex; height:2.843ex;" alt="{\displaystyle O(m)}"></span> to <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log m)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>m</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log m)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/01cc8bc56e37299e3f7da69f923f11e601030fd6" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.982ex; height:2.843ex;" alt="{\displaystyle O(\log m)}"></span> where <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="{\displaystyle m}"></span> is the number of elements with colliding hashes.<sup id="cite&#95;ref-26" class="reference"><a href="#cite_note-26"><span class="cite-bracket">&#91;</span>26<span class="cite-bracket">&#93;</span></a></sup>
</p>
<div class="mw-heading mw-heading2"><h2 id="Implementation">Implementation</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=6" title="Edit section: Implementation"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>The read-only operations, such as search or tree traversal, on a red–black tree require no modification from those used for <a href="/wiki/Binary_search_tree" title="Binary search tree">binary search trees</a>, because every red–black tree is a special case of a simple binary search tree. However, the immediate result of an insertion or removal may violate the properties of a red–black tree, the restoration of which is called <i>rebalancing</i> so that red–black trees become self-balancing.
<span class="anchor" id="amortized"></span>Rebalancing (i.e. color changes) has a worst-case time complexity of <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/aae0f22048ba6b7c05dbae17b056bfa16e21807d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.336ex; height:2.843ex;" alt="{\displaystyle O(\log n)}"></span> and average of <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(1)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(1)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e66384bc40452c5452f33563fe0e27e803b0cc21" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:4.745ex; height:2.843ex;" alt="{\displaystyle O(1)}"></span>,<sup id="cite&#95;ref-tarjan&#95;27-0" class="reference"><a href="#cite_note-tarjan-27"><span class="cite-bracket">&#91;</span>27<span class="cite-bracket">&#93;</span></a></sup><sup class="reference nowrap"><span title="Page / location: 310">&#58;&#8202;310&#8202;</span></sup><sup id="cite&#95;ref-Mehlhorn2008&#95;16-2" class="reference"><a href="#cite_note-Mehlhorn2008-16"><span class="cite-bracket">&#91;</span>16<span class="cite-bracket">&#93;</span></a></sup><sup class="reference nowrap"><span title="Page / location: 158">&#58;&#8202;158&#8202;</span></sup> though these are very quick in practice. Additionally, rebalancing takes no more than three <a href="/wiki/Tree_rotation" title="Tree rotation">tree rotations</a><sup id="cite&#95;ref-28" class="reference"><a href="#cite_note-28"><span class="cite-bracket">&#91;</span>28<span class="cite-bracket">&#93;</span></a></sup> (two for insertion).
</p><p>This is an example implementation of insert and remove in <a href="/wiki/C_(programming_language)" title="C (programming language)">C</a>. Below are the data structures and the <code>rotate_subtree</code> helper function used in the insert and remove examples.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr mw-highlight-lines" dir="ltr"><pre><span></span><span class="linenos" data-line="1"></span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">Color</span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="linenos" data-line="2"></span><span class="w">    </span><span class="n">BLACK</span><span class="p">,</span><span class="w"> </span>
<span class="linenos" data-line="3"></span><span class="w">    </span><span class="n">RED</span><span class="w"> </span>
<span class="linenos" data-line="4"></span><span class="p">}</span><span class="w"> </span><span class="n">Color</span><span class="p">;</span>
<span class="linenos" data-line="5"></span>
<span class="linenos" data-line="6"></span><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="n">Direction</span><span class="o">:</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<span class="linenos" data-line="7"></span><span class="w">    </span><span class="n">LEFT</span><span class="p">,</span><span class="w"> </span>
<span class="linenos" data-line="8"></span><span class="w">    </span><span class="n">RIGHT</span><span class="w"> </span>
<span class="linenos" data-line="9"></span><span class="p">}</span><span class="w"> </span><span class="n">Direction</span><span class="p">;</span>
<span class="linenos" data-line="10"></span>
<span class="linenos" data-line="11"></span><span class="c1">// red-black tree node</span>
<span class="linenos" data-line="12"></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="13"></span><span class="w">	</span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="o">*</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span><span class="w"> </span><span class="c1">// null for the root node</span>
<span class="linenos" data-line="14"></span><span class="w">	</span><span class="k">union</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="15"></span><span class="w">		</span><span class="c1">// Union so we can use -&gt;left/-&gt;right or -&gt;child[0]/-&gt;child[1]</span>
<span class="linenos" data-line="16"></span><span class="w">		</span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="17"></span><span class="w">			</span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="o">*</span><span class="w"> </span><span class="n">left</span><span class="p">;</span>
<span class="linenos" data-line="18"></span><span class="w">			</span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="o">*</span><span class="w"> </span><span class="n">right</span><span class="p">;</span>
<span class="linenos" data-line="19"></span><span class="w">		</span><span class="p">};</span>
<span class="linenos" data-line="20"></span><span class="w">		</span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="o">*</span><span class="w"> </span><span class="n">child</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="linenos" data-line="21"></span><span class="w">	</span><span class="p">};</span>
<span class="linenos" data-line="22"></span><span class="w">	</span><span class="n">Color</span><span class="w"> </span><span class="n">color</span><span class="p">;</span>
<span class="linenos" data-line="23"></span><span class="w">	</span><span class="kt">int</span><span class="w"> </span><span class="n">key</span><span class="p">;</span>
<span class="linenos" data-line="24"></span><span class="p">}</span><span class="w"> </span><span class="n">Node</span><span class="p">;</span>
<span class="linenos" data-line="25"></span>
<span class="linenos" data-line="26"></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="27"></span><span class="w">	</span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="o">*</span><span class="w"> </span><span class="n">root</span><span class="p">;</span>
<span class="linenos" data-line="28"></span><span class="p">}</span><span class="w"> </span><span class="n">Tree</span><span class="p">;</span>
<span class="linenos" data-line="29"></span>
<span class="linenos" data-line="30"></span><span class="k">static</span><span class="w"> </span><span class="n">Direction</span><span class="w"> </span><span class="nf">direction</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">N</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="31"></span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">N</span><span class="o">-&gt;</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">right</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">RIGHT</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">LEFT</span><span class="p">;</span>
<span class="linenos" data-line="32"></span><span class="p">}</span>
<span class="linenos" data-line="33"></span>
<span class="linenos" data-line="34"></span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="nf">rotate_subtree</span><span class="p">(</span><span class="n">Tree</span><span class="o">*</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">sub</span><span class="p">,</span><span class="w"> </span><span class="n">Direction</span><span class="w"> </span><span class="n">dir</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="35"></span><span class="w">	</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">sub_parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sub</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">;</span>
<span class="linenos" data-line="36"></span><span class="w">	</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">new_root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sub</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">dir</span><span class="p">];</span><span class="w"> </span><span class="c1">// 1 - dir is the opposite direction</span>
<span class="linenos" data-line="37"></span><span class="w">	</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">new_child</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_root</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="n">dir</span><span class="p">];</span>
<span class="linenos" data-line="38"></span>
<span class="linenos" data-line="39"></span><span class="w">	</span><span class="n">sub</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">dir</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_child</span><span class="p">;</span>
<span class="linenos" data-line="40"></span>
<span class="linenos" data-line="41"></span><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">new_child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="42"></span><span class="w">        </span><span class="n">new_child</span><span class="o">-&gt;</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sub</span><span class="p">;</span>
<span class="linenos" data-line="43"></span><span class="w">    </span><span class="p">}</span>
<span class="linenos" data-line="44"></span>
<span class="linenos" data-line="45"></span><span class="w">	</span><span class="n">new_root</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="n">dir</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sub</span><span class="p">;</span>
<span class="linenos" data-line="46"></span>
<span class="linenos" data-line="47"></span><span class="w">	</span><span class="n">new_root</span><span class="o">-&gt;</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sub_parent</span><span class="p">;</span>
<span class="linenos" data-line="48"></span><span class="w">	</span><span class="n">sub</span><span class="o">-&gt;</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_root</span><span class="p">;</span>
<span class="linenos" data-line="49"></span><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sub_parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="50"></span><span class="w">		</span><span class="n">sub_parent</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="n">sub</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">sub_parent</span><span class="o">-&gt;</span><span class="n">right</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_root</span><span class="p">;</span>
<span class="linenos" data-line="51"></span><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="linenos" data-line="52"></span><span class="w">		</span><span class="n">tree</span><span class="o">-&gt;</span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">new_root</span><span class="p">;</span>
<span class="linenos" data-line="53"></span><span class="w">    </span><span class="p">}</span>
<span class="linenos" data-line="54"></span>
<span class="linenos" data-line="55"></span><span class="w">	</span><span class="k">return</span><span class="w"> </span><span class="n">new_root</span><span class="p">;</span>
<span class="linenos" data-line="56"></span><span class="p">}</span>
</pre></div>
<figure class="mw-halign-right" typeof="mw:File/Thumb"><a href="/wiki/File:Binary_Tree_Rotation_(animated).gif" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Binary_Tree_Rotation_%28animated%29.gif/250px-Binary_Tree_Rotation_%28animated%29.gif" decoding="async" width="160" height="143" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Binary_Tree_Rotation_%28animated%29.gif/330px-Binary_Tree_Rotation_%28animated%29.gif 2x" data-file-width="521" data-file-height="466" /></a><figcaption>Left rotation and<br />right rotation, animated.</figcaption></figure><p><span class="anchor" id="explan"></span>
</p><div class="mw-heading mw-heading3"><h3 id="Notes_to_the_sample_code_and_diagrams_of_insertion_and_removal">Notes to the sample code and diagrams of insertion and removal</h3><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=7" title="Edit section: Notes to the sample code and diagrams of insertion and removal"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>The proposal breaks down both insertion and removal (not mentioning some very simple cases) into six constellations of nodes, edges, and colors, which are called cases. The proposal contains, for both insertion and removal, exactly one case that advances one black level closer to the root and loops, the other five cases rebalance the tree of their own. The more complicated cases are pictured in a diagram.
</p>
<ul><li><span class="mw-default-size mw-valign-baseline" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span> symbolises a red node and <span class="mw-valign-baseline" typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span> a (non-NULL) black node (of black height &#8805; 1), <span class="mw-default-size mw-valign-baseline" typeof="mw:File"><a href="/wiki/File:RedOrBlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/20px-RedOrBlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/40px-RedOrBlackNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span> symbolises the color red or black of a non-NULL node, but the same color throughout the same diagram. NULL nodes are not represented in the diagrams.</li>
<li>The variable <b>N</b> denotes the current node, which is labeled <span style="background:black">&#8201;<span style="color:white">N</span>&#8201;</span> or <span style="background:red">&#8201;<span style="color:white">N</span>&#8201;</span> in the diagrams.</li>
<li>A diagram contains three columns and two to four actions. The left column shows the first iteration, the right column the higher iterations, the middle column shows the segmentation of a case into its different actions.<sup id="cite&#95;ref-pullout&#95;29-0" class="reference"><a href="#cite_note-pullout-29"><span class="cite-bracket">&#91;</span>29<span class="cite-bracket">&#93;</span></a></sup></li></ul>
<ol><li>The action "entry" shows the constellation of nodes with their colors which defines a case and mostly violates some of the <a href="#Properties">requirements</a>.<br />A blue border rings the current node <b>N</b> and the other nodes are labeled according to their relation to <b>N</b>.</li>
<li>If a <a href="/wiki/Tree_rotation" title="Tree rotation">rotation</a> is considered useful, this is pictured in the next action, which is labeled "rotation".</li>
<li>If some recoloring is considered useful, this is pictured in the next action, which is labeled "color".<sup id="cite&#95;ref-30" class="reference"><a href="#cite_note-30"><span class="cite-bracket">&#91;</span>30<span class="cite-bracket">&#93;</span></a></sup></li>
<li>If there is still some need to repair, the cases make use of code of other cases and this after a reassignment of the current node <b>N</b>, which then again carries a blue ring and relative to which other nodes may have to be reassigned also. This action is labeled "reassign".<br />For both, insert and delete, there is (exactly) one case which iterates one black level closer to the root; then the reassigned constellation satisfies the respective loop invariant.</li></ol>
<ul><li>A possibly numbered triangle with a black circle atop <span class="mw-default-size mw-valign-baseline" typeof="mw:File"><a href="/wiki/File:TriangleTop.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/e/e0/TriangleTop.svg/20px-TriangleTop.svg.png" decoding="async" width="10" height="13" class="mw-file-element" data-file-width="10" data-file-height="13" /></a></span> represents a red–black subtree (connected to its parent according to <a href="#req3">requirement 3</a>) with a black height equal to the iteration level minus one, i.e. zero in the first iteration. Its root may be red or black.<br />A possibly numbered triangle <span class="mw-default-size mw-valign-baseline" typeof="mw:File"><a href="/wiki/File:TriangleSubtree.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/3/3a/TriangleSubtree.svg/20px-TriangleSubtree.svg.png" decoding="async" width="11" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/3a/TriangleSubtree.svg/40px-TriangleSubtree.svg.png 2x" data-file-width="11" data-file-height="13" /></a></span> represents a red–black subtree with a black height one less, i.e. its parent has black height zero in the second iteration.</li></ul>
<p><span class="anchor" id="C-eval"></span>
</p>
<dl><dt>Remark</dt>
<dd>For simplicity, the sample code uses the <a href="/wiki/Logical_disjunction" title="Logical disjunction">disjunction</a>:
<dl><dd><code>U == NULL || U-&gt;color == BLACK <i>// considered black</i></code></dd></dl></dd>
<dd>and the <a href="/wiki/Logical_conjunction" title="Logical conjunction">conjunction</a>:
<dl><dd><code>U&#160;!= NULL &amp;&amp; U-&gt;color == RED &#160; <i>// not considered black</i></code></dd></dl></dd>
<dd>Thereby, it must be kept in mind that both statements are <i>not</i> evaluated in total, if <code>U == NULL</code>. Then in both cases <code>U-&gt;color</code> is not touched (see <a href="/wiki/Short-circuit_evaluation" title="Short-circuit evaluation">Short-circuit evaluation</a>).<br />(The comment <code>considered black</code> is in accordance with <a href="#consideredBlack">requirement 2</a>.)</dd>
<dd>The related <code>if</code>-statements have to occur far less frequently if the proposal<sup id="cite&#95;ref-pullout&#95;29-1" class="reference"><a href="#cite_note-pullout-29"><span class="cite-bracket">&#91;</span>29<span class="cite-bracket">&#93;</span></a></sup> is realised.</dd></dl>
<div class="mw-heading mw-heading3"><h3 id="Insertion">Insertion</h3><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=8" title="Edit section: Insertion"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Insertion begins by placing the new (non-NULL) node, say <b>N</b>, at the position in the <a href="/wiki/Binary_search_tree" title="Binary search tree">binary search tree</a> of a NULL node whose <a href="/wiki/In-order_traversal" class="mw-redirect" title="In-order traversal">in-order predecessor’s</a> key compares less than the new node’s key, which in turn compares less than the key of its in-order successor.
(Frequently, this positioning is the result of a search within the tree immediately preceding the insert operation and consists of a node <code>P</code> together with a direction <code>dir</code> with <span class="nowrap"><code>P-&gt;child[dir] == NULL</code>.)</span>
The newly inserted node is temporarily colored red so that all paths contain the same number of black nodes as before.
But if its parent, say <b>P</b>, is also red then this action introduces a <a href="#ViolR">red-violation</a>.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr mw-highlight-lines mw-highlight-copy" dir="ltr"><pre><span></span><span id="insert-1"><a href="#insert-1"><span class="linenos" data-line="1"></span></a><span class="c1">// parent is optional</span>
</span><span id="insert-2"><a href="#insert-2"><span class="linenos" data-line="2"></span></a><span class="kt">void</span><span class="w"> </span><span class="nf">insert</span><span class="p">(</span><span class="n">Tree</span><span class="o">*</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">Direction</span><span class="w"> </span><span class="n">dir</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="insert-3"><a href="#insert-3"><span class="linenos" data-line="3"></span></a><span class="w">	</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RED</span><span class="p">;</span>
</span><span id="insert-4"><a href="#insert-4"><span class="linenos" data-line="4"></span></a><span class="w">	</span><span class="n">node</span><span class="o">-&gt;</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span>
</span><span id="insert-5"><a href="#insert-5"><span class="linenos" data-line="5"></span></a>
</span><span id="insert-6"><a href="#insert-6"><span class="linenos" data-line="6"></span></a><span class="w">	</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="insert-7"><a href="#insert-7"><span class="linenos" data-line="7"></span></a><span class="w">		</span><span class="n">tree</span><span class="o">-&gt;</span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
</span><span id="insert-8"><a href="#insert-8"><span class="linenos" data-line="8"></span></a><span class="w">		</span><span class="k">return</span><span class="p">;</span>
</span><span id="insert-9"><a href="#insert-9"><span class="linenos" data-line="9"></span></a><span class="w">	</span><span class="p">}</span>
</span><span id="insert-10"><a href="#insert-10"><span class="linenos" data-line="10"></span></a>
</span><span id="insert-11"><a href="#insert-11"><span class="linenos" data-line="11"></span></a><span class="w">	</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="n">dir</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">;</span>
</span><span id="insert-12"><a href="#insert-12"><span class="linenos" data-line="12"></span></a>
</span><span id="insert-13"><a href="#insert-13"><span class="linenos" data-line="13"></span></a><span class="w">	</span><span class="c1">// rebalance the tree </span>
</span><span id="insert-14"><a href="#insert-14"><span class="linenos" data-line="14"></span></a><span class="w">	</span><span class="k">do</span><span class="w"> </span><span class="p">{</span>
</span><span id="insert-15"><a href="#insert-15"><span class="linenos" data-line="15"></span></a><span class="w">		</span><span class="c1">// Case #1</span>
</span><span id="insert-16"><a href="#insert-16"><span class="linenos" data-line="16"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BLACK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="insert-17"><a href="#insert-17"><span class="linenos" data-line="17"></span></a><span class="w">            </span><span class="k">return</span><span class="p">;</span><span class="w"> </span>
</span><span id="insert-18"><a href="#insert-18"><span class="linenos" data-line="18"></span></a><span class="w">        </span><span class="p">}</span>
</span><span id="insert-19"><a href="#insert-19"><span class="linenos" data-line="19"></span></a>
</span><span id="insert-20"><a href="#insert-20"><span class="linenos" data-line="20"></span></a><span class="w">	    </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">grandparent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">;</span>
</span><span id="insert-21"><a href="#insert-21"><span class="linenos" data-line="21"></span></a>
</span><span id="insert-22"><a href="#insert-22"><span class="linenos" data-line="22"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">grandparent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="insert-23"><a href="#insert-23"><span class="linenos" data-line="23"></span></a><span class="w">			</span><span class="c1">// Case #4</span>
</span><span id="insert-24"><a href="#insert-24"><span class="linenos" data-line="24"></span></a><span class="w">			</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLACK</span><span class="p">;</span>
</span><span id="insert-25"><a href="#insert-25"><span class="linenos" data-line="25"></span></a><span class="w">			</span><span class="k">return</span><span class="p">;</span>
</span><span id="insert-26"><a href="#insert-26"><span class="linenos" data-line="26"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="insert-27"><a href="#insert-27"><span class="linenos" data-line="27"></span></a>
</span><span id="insert-28"><a href="#insert-28"><span class="linenos" data-line="28"></span></a><span class="w">		</span><span class="n">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">direction</span><span class="p">(</span><span class="n">parent</span><span class="p">);</span>
</span><span id="insert-29"><a href="#insert-29"><span class="linenos" data-line="29"></span></a><span class="w">		</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">uncle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">grandparent</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">dir</span><span class="p">];</span>
</span><span id="insert-30"><a href="#insert-30"><span class="linenos" data-line="30"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">uncle</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">uncle</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">BLACK</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="insert-31"><a href="#insert-31"><span class="linenos" data-line="31"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">node</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">dir</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
</span><span id="insert-32"><a href="#insert-32"><span class="linenos" data-line="32"></span></a><span class="w">				</span><span class="c1">// Case #5</span>
</span><span id="insert-33"><a href="#insert-33"><span class="linenos" data-line="33"></span></a><span class="w">				</span><span class="n">rotate_subtree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">dir</span><span class="p">);</span>
</span><span id="insert-34"><a href="#insert-34"><span class="linenos" data-line="34"></span></a><span class="w">				</span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span>
</span><span id="insert-35"><a href="#insert-35"><span class="linenos" data-line="35"></span></a><span class="w">				</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">grandparent</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="n">dir</span><span class="p">];</span>
</span><span id="insert-36"><a href="#insert-36"><span class="linenos" data-line="36"></span></a><span class="w">			</span><span class="p">}</span>
</span><span id="insert-37"><a href="#insert-37"><span class="linenos" data-line="37"></span></a>
</span><span id="insert-38"><a href="#insert-38"><span class="linenos" data-line="38"></span></a><span class="w">			</span><span class="c1">// Case #6</span>
</span><span id="insert-39"><a href="#insert-39"><span class="linenos" data-line="39"></span></a><span class="w">			</span><span class="n">rotate_subtree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="n">grandparent</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">dir</span><span class="p">);</span>
</span><span id="insert-40"><a href="#insert-40"><span class="linenos" data-line="40"></span></a><span class="w">			</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLACK</span><span class="p">;</span>
</span><span id="insert-41"><a href="#insert-41"><span class="linenos" data-line="41"></span></a><span class="w">			</span><span class="n">grandparent</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RED</span><span class="p">;</span>
</span><span id="insert-42"><a href="#insert-42"><span class="linenos" data-line="42"></span></a><span class="w">			</span><span class="k">return</span><span class="p">;</span>
</span><span id="insert-43"><a href="#insert-43"><span class="linenos" data-line="43"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="insert-44"><a href="#insert-44"><span class="linenos" data-line="44"></span></a><span class="w">	</span>
</span><span id="insert-45"><a href="#insert-45"><span class="linenos" data-line="45"></span></a><span class="w">		</span><span class="c1">// Case #2</span>
</span><span id="insert-46"><a href="#insert-46"><span class="linenos" data-line="46"></span></a><span class="w">		</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLACK</span><span class="p">;</span>
</span><span id="insert-47"><a href="#insert-47"><span class="linenos" data-line="47"></span></a><span class="w">		</span><span class="n">uncle</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLACK</span><span class="p">;</span>
</span><span id="insert-48"><a href="#insert-48"><span class="linenos" data-line="48"></span></a><span class="w">		</span><span class="n">grandparent</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RED</span><span class="p">;</span>
</span><span id="insert-49"><a href="#insert-49"><span class="linenos" data-line="49"></span></a><span class="w">		</span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">grandparent</span><span class="p">;</span>
</span><span id="insert-50"><a href="#insert-50"><span class="linenos" data-line="50"></span></a>
</span><span id="insert-51"><a href="#insert-51"><span class="linenos" data-line="51"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">));</span>
</span><span id="insert-52"><a href="#insert-52"><span class="linenos" data-line="52"></span></a>
</span><span id="insert-53"><a href="#insert-53"><span class="linenos" data-line="53"></span></a><span class="w">	</span><span class="c1">// Case #3</span>
</span><span id="insert-54"><a href="#insert-54"><span class="linenos" data-line="54"></span></a><span class="w">	</span><span class="k">return</span><span class="p">;</span>
</span><span id="insert-55"><a href="#insert-55"><span class="linenos" data-line="55"></span></a>
</span><span id="insert-56"><a href="#insert-56"><span class="linenos" data-line="56"></span></a><span class="p">}</span>
</span></pre></div>
<p><span class="anchor" id="loopInvariantI"></span>The rebalancing loop of the insert operation has the following <a href="/wiki/Loop_invariant" title="Loop invariant">invariants</a>:
</p>
<ul><li><b>Node</b> is the current node, initially the insertion node.</li>
<li><b>Node</b> is red at the beginning of each iteration.</li>
<li><a href="#req3">Requirement 3</a> is satisfied for all pairs node←parent with the possible exception <b>node</b>←<b>parent</b> when <b>parent</b> is also red (a <a href="#ViolR">red-violation</a> at <b>node</b>).</li>
<li>All other properties (including <a href="#req4">requirement 4</a>) are satisfied throughout the tree.</li></ul>
<div class="mw-heading mw-heading4"><h4 id="Notes_to_the_insert_diagrams">Notes to the insert diagrams</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=9" title="Edit section: Notes to the insert diagrams"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<table class="wikitable floatright" style="text-align:center;">

<tbody><tr style="background:#E8E8E8;font-size:smaller;">
<td colspan="4"><i>before</i></td>
<td rowspan="2"><i>case</i></td>
<td rowspan="2" class="nowrap ts-vertical-header" style=""><div style=""><style data-mw-deduplicate="TemplateStyles:r1221560606">@supports(writing-mode:vertical-rl){.mw-parser-output .ts-vertical-header{line-height:1;max-width:1em;padding:0.4em;vertical-align:bottom;width:1em}html.client-js .mw-parser-output .sortable:not(.jquery-tablesorter) .ts-vertical-header:not(.unsortable),html.client-js .mw-parser-output .ts-vertical-header.headerSort{background-position:50%.4em;padding-right:0.4em;padding-top:21px}.mw-parser-output .ts-vertical-header.is-valign-top{vertical-align:top}.mw-parser-output .ts-vertical-header.is-valign-middle{vertical-align:middle}.mw-parser-output .ts-vertical-header.is-normal{font-weight:normal}.mw-parser-output .ts-vertical-header>*{display:inline-block;transform:rotate(180deg);writing-mode:vertical-rl}@supports(writing-mode:sideways-lr){.mw-parser-output .ts-vertical-header>*{transform:none;writing-mode:sideways-lr}}}</style><i>rotation</i></div></td>
<td rowspan="2" class="nowrap ts-vertical-header" style=""><div style=""><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1221560606" /><i>assign&#173;ment</i></div></td>
<td colspan="4"><i>after</i></td>
<td rowspan="2"><i>next</i></td>
<td rowspan="2">&#916;<i>h</i>
</td></tr>
<tr style="background:#E8E8E8">
<td><b>P</b></td>
<td><b>G</b></td>
<td><b>U</b></td>
<td style="width:.8em;"><i>x</i></td>
<td><b>P</b></td>
<td><b>G</b></td>
<td><b>U</b></td>
<td style="width:.8em;"><i>x</i>
</td></tr>
<tr>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td></td>
<td></td>
<td></td>
<td><a href="#Insert_case_1"><b>I1</b></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td data-sort-value="Yes" style="background: #DFD; color:black; vertical-align: middle; text-align: center;" class="table-yes2 skin-invert"><span typeof="mw:File"><span title="Yes"><img alt="Yes" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/20px-Check-green.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/40px-Check-green.svg.png 2x" data-file-width="512" data-file-height="512" /></span></span></td>
<td>
</td></tr>
<tr>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td></td>
<td><a href="#Insert_case_2"><b>I2</b></a></td>
<td></td>
<td><b>N</b>:=<b>G</b></td>
<td style="background: var(--background-color-interactive, #EEE); color: var(--color-base, black); vertical-align: middle; text-align: center;" class="table-Unknown">?</td>
<td></td>
<td></td>
<td></td>
<td style="background: var(--background-color-interactive, #EEE); color: var(--color-base, black); vertical-align: middle; text-align: center;" class="table-Unknown">?</td>
<td>2
</td></tr>
<tr>
<td>—</td>
<td></td>
<td></td>
<td></td>
<td><a href="#Insert_case_3"><b>I3</b></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td data-sort-value="Yes" style="background: #DFD; color:black; vertical-align: middle; text-align: center;" class="table-yes2 skin-invert"><span typeof="mw:File"><span title="Yes"><img alt="Yes" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/20px-Check-green.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/40px-Check-green.svg.png 2x" data-file-width="512" data-file-height="512" /></span></span></td>
<td>
</td></tr>
<tr>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td>—</td>
<td></td>
<td></td>
<td><a href="#Insert_case_4"><b>I4</b></a></td>
<td></td>
<td></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td></td>
<td></td>
<td></td>
<td data-sort-value="Yes" style="background: #DFD; color:black; vertical-align: middle; text-align: center;" class="table-yes2 skin-invert"><span typeof="mw:File"><span title="Yes"><img alt="Yes" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/20px-Check-green.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/40px-Check-green.svg.png 2x" data-file-width="512" data-file-height="512" /></span></span></td>
<td>
</td></tr>
<tr>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td>i</td>
<td><a href="#Insert_case_5"><b>I5</b></a></td>
<td><b>P</b>↶<b>N</b></td>
<td><b>N</b>:=<b>P</b></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td>o</td>
<td><b>I6</b></td>
<td>0
</td></tr>
<tr>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td>o</td>
<td><a href="#Insert_case_6"><b>I6</b></a></td>
<td><b>P</b>↷<b>G</b></td>
<td></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td></td>
<td data-sort-value="Yes" style="background: #DFD; color:black; vertical-align: middle; text-align: center;" class="table-yes2 skin-invert"><span typeof="mw:File"><span title="Yes"><img alt="Yes" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/20px-Check-green.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/40px-Check-green.svg.png 2x" data-file-width="512" data-file-height="512" /></span></span></td>
<td>
</td></tr>
<tr>
<td colspan="13" style="text-align:left;font-size:smaller;">
<dl><dt>Insertion</dt>
<dd>This synopsis shows in its <i>before</i> columns, that all<br />possible cases<sup id="cite&#95;ref-cases&#95;31-0" class="reference"><a href="#cite_note-cases-31"><span class="cite-bracket">&#91;</span>31<span class="cite-bracket">&#93;</span></a></sup> of constellations are covered.</dd></dl>
</td></tr></tbody></table>
<ul><li>In the diagrams, <b>P</b> is used for <b>N</b>’s parent, <b>G</b> for its grandparent, and <b>U</b> for its uncle. In the table, "—" indicates the root.</li>
<li>The diagrams show the parent node <b>P</b> as the left child of its parent <b>G</b> even though it is possible for <b>P</b> to be on either side. The sample code covers both possibilities by means of the side variable <code>dir</code>.</li>
<li>The diagrams show the cases where <b>P</b> is red also, the red-violation.</li>
<li>The column <i>x</i> indicates the change in child direction, i.e. o (for "outer") means that <b>P</b> and <b>N</b> are both left or both right children, whereas i (for "inner") means that the child direction changes from <b>P</b>’s to <b>N</b>’s.</li>
<li>The <a href="/wiki/Column_group" class="mw-redirect" title="Column group">column group</a> <i>before</i> defines the case, whose name is given in the column <i>case</i>. Thereby possible values in cells left empty are ignored. So in case <b><a href="#Insert_case_2">I2</a></b> the sample code covers both possibilities of child directions of <b>N</b>, although the corresponding diagram shows only one.</li>
<li>The rows in the synopsis are ordered such that the coverage of all possible RB cases is easily comprehensible.</li>
<li>The column <i>rotation</i> indicates whether a rotation contributes to the rebalancing.</li>
<li>The column <i>assignment</i> shows an assignment of <b>N</b> before entering a subsequent step. This possibly induces a reassignment of the other nodes <b>P</b>, <b>G</b>, <b>U</b> also.</li>
<li>If something has been changed by the case, this is shown in the column group <i>after</i>.</li>
<li>A <span typeof="mw:File"><a href="/wiki/File:Check-green.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/20px-Check-green.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/40px-Check-green.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span> sign in column <i>next</i> signifies that the rebalancing is complete with this step. If the column <i>after</i> determines exactly one case, this case is given as the subsequent one, otherwise there are question marks.</li>
<li>In case <b><a href="#Insert_case_2">2</a></b> the problem of rebalancing is escalated <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \Delta h=2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi mathvariant="normal">&#x0394;<!-- Δ --></mi>
        <mi>h</mi>
        <mo>=</mo>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \Delta h=2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e917f435b864bfa3c32af4940ab895a6d857d07d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:7.536ex; height:2.176ex;" alt="{\displaystyle \Delta h=2}"></span> tree levels or 1 black level higher in the tree, in that the grandfather <b>G</b> becomes the new current node <b>N</b>. So it takes maximally <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\tfrac {h}{2}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mstyle displaystyle="false" scriptlevel="0">
            <mfrac>
              <mi>h</mi>
              <mn>2</mn>
            </mfrac>
          </mstyle>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\tfrac {h}{2}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a80fcbc6eae7936fd14446e7e120f846589c3893" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.171ex; width:1.783ex; height:3.676ex;" alt="{\displaystyle {\tfrac {h}{2}}}"></span> steps of iteration to repair the tree (where <span class="texhtml mvar" style="font-style:italic;">h</span> is the height of the tree). Because the probability of escalation decreases exponentially with each step the total rebalancing cost is constant on average, indeed <a href="#amortized">amortized constant</a>.</li>
<li>Rotations occur in cases <b>I6</b> and <b>I5 + I6</b> – outside the loop. Therefore, at most two rotations occur in total.</li></ul>
<div class="mw-heading mw-heading4"><h4 id="Insert_case_1">Insert case 1</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=10" title="Edit section: Insert case 1"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>The current node’s parent <b>P</b> is black, so <a href="#req3">requirement 3</a> holds. Requirement 4 holds also according to the <a href="#loopInvariantI">loop invariant</a>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Insert_case_2">Insert case 2</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=11" title="Edit section: Insert case 2"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<style data-mw-deduplicate="TemplateStyles:r1273380762/mw-parser-output/.tmulti">.mw-parser-output .tmulti .multiimageinner{display:flex;flex-direction:column}.mw-parser-output .tmulti .trow{display:flex;flex-direction:row;clear:left;flex-wrap:wrap;width:100%;box-sizing:border-box}.mw-parser-output .tmulti .tsingle{margin:1px;float:left}.mw-parser-output .tmulti .theader{clear:both;font-weight:bold;text-align:center;align-self:center;background-color:transparent;width:100%}.mw-parser-output .tmulti .thumbcaption{background-color:transparent}.mw-parser-output .tmulti .text-align-left{text-align:left}.mw-parser-output .tmulti .text-align-right{text-align:right}.mw-parser-output .tmulti .text-align-center{text-align:center}@media all and (max-width:720px){.mw-parser-output .tmulti .thumbinner{width:100%!important;box-sizing:border-box;max-width:none!important;align-items:center}.mw-parser-output .tmulti .trow{justify-content:center}.mw-parser-output .tmulti .tsingle{float:none!important;max-width:100%!important;box-sizing:border-box;text-align:center}.mw-parser-output .tmulti .tsingle .thumbcaption{text-align:left}.mw-parser-output .tmulti .trow>.thumbcaption{text-align:center}}@media screen{html.skin-theme-clientpref-night .mw-parser-output .tmulti .multiimageinner span:not(.skin-invert-image):not(.skin-invert):not(.bg-transparent) img{background-color:white}}@media screen and (prefers-color-scheme:dark){html.skin-theme-clientpref-os .mw-parser-output .tmulti .multiimageinner span:not(.skin-invert-image):not(.skin-invert):not(.bg-transparent) img{background-color:white}}</style><div class="thumb tmulti tright"><div class="thumbinner multiimageinner" style="width:203px;max-width:203px"><div class="trow"><div class="tsingle" style="width:87px;max-width:87px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_insert_case_B0t.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/6/64/Red-black_tree_insert_case_B0t.svg/120px-Red-black_tree_insert_case_B0t.svg.png" decoding="async" width="85" height="290" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/64/Red-black_tree_insert_case_B0t.svg/250px-Red-black_tree_insert_case_B0t.svg.png 1.5x" data-file-width="170" data-file-height="579" /></a></span></div><div class="thumbcaption"><small>first iteration</small></div></div><div class="tsingle" style="width:11px;max-width:11px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_perpendic_579_switch.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Red-black_tree_perpendic_579_switch.svg/20px-Red-black_tree_perpendic_579_switch.svg.png" decoding="async" width="9" height="290" class="mw-file-element" data-file-width="18" data-file-height="579" /></a></span></div></div><div class="tsingle" style="width:99px;max-width:99px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_insert_case_B1t.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/5/55/Red-black_tree_insert_case_B1t.svg/120px-Red-black_tree_insert_case_B1t.svg.png" decoding="async" width="97" height="290" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/5/55/Red-black_tree_insert_case_B1t.svg/250px-Red-black_tree_insert_case_B1t.svg.png 1.5x" data-file-width="194" data-file-height="579" /></a></span></div><div class="thumbcaption"><small>higher iteration</small></div></div></div><div class="trow" style="display:flex"><div class="thumbcaption">Insert Case 2</div></div></div></div>
<p>If both the parent <b>P</b> and the uncle <b>U</b> are red, then both of them can be repainted black and the grandparent <b>G</b> becomes red for maintaining <a href="#req4">requirement 4</a>. Since any path through the parent or uncle must pass through the grandparent, the number of black nodes on these paths has not changed. However, the grandparent <b>G</b> may now violate requirement 3, if it has a red parent. After relabeling <b>G</b> to <b>N</b> the <a href="#loopInvariantI">loop invariant</a> is fulfilled so that the rebalancing can be iterated on one black level (= 2 tree levels) higher.
</p>
<div class="mw-heading mw-heading4"><h4 id="Insert_case_3">Insert case 3</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=12" title="Edit section: Insert case 3"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p><a href="#Insert_case_2">Insert case 2</a> has been executed for <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\tfrac {h-1}{2}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mstyle displaystyle="false" scriptlevel="0">
            <mfrac>
              <mrow>
                <mi>h</mi>
                <mo>&#x2212;<!-- − --></mo>
                <mn>1</mn>
              </mrow>
              <mn>2</mn>
            </mfrac>
          </mstyle>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\tfrac {h-1}{2}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6dab1f16f0a08d28cf3e4e74d3e5ad6107b715e9" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.171ex; width:3.883ex; height:3.676ex;" alt="{\displaystyle {\tfrac {h-1}{2}}}"></span> times and the total height of the tree has increased by 1, now being <span class="texhtml mvar" style="font-style:italic;">h</span>&#8201;.
The current node <b>N</b> is the (red) root of the tree, and all RB-properties are satisfied.
</p>
<div class="mw-heading mw-heading4"><h4 id="Insert_case_4">Insert case 4</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=13" title="Edit section: Insert case 4"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>The parent <b>P</b> is red and the root.
Because <b>N</b> is also red, requirement 3 is violated. But after switching <b>P</b>’s color the tree is in RB-shape.
The black height of the tree increases by 1.
</p>
<div class="mw-heading mw-heading4"><h4 id="Insert_case_5">Insert case 5</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=14" title="Edit section: Insert case 5"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1273380762/mw-parser-output/.tmulti" /><div class="thumb tmulti tleft"><div class="thumbinner multiimageinner" style="width:182px;max-width:182px"><div class="trow"><div class="tsingle" style="width:66px;max-width:66px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_insert_case_C0.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Red-black_tree_insert_case_C0.svg/120px-Red-black_tree_insert_case_C0.svg.png" decoding="async" width="64" height="320" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/0f/Red-black_tree_insert_case_C0.svg/250px-Red-black_tree_insert_case_C0.svg.png 2x" data-file-width="128" data-file-height="639" /></a></span></div><div class="thumbcaption"><small>first iteration</small></div></div><div class="tsingle" style="width:11px;max-width:11px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_perpendic_639era_switch.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Red-black_tree_perpendic_639era_switch.svg/20px-Red-black_tree_perpendic_639era_switch.svg.png" decoding="async" width="9" height="320" class="mw-file-element" data-file-width="18" data-file-height="639" /></a></span></div></div><div class="tsingle" style="width:99px;max-width:99px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_insert_case_C1.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/1/17/Red-black_tree_insert_case_C1.svg/120px-Red-black_tree_insert_case_C1.svg.png" decoding="async" width="97" height="320" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/1/17/Red-black_tree_insert_case_C1.svg/250px-Red-black_tree_insert_case_C1.svg.png 1.5x" data-file-width="194" data-file-height="639" /></a></span></div><div class="thumbcaption"><small>higher iteration</small></div></div></div><div class="trow" style="display:flex"><div class="thumbcaption">Insert Case 5</div></div></div></div>
<p>The parent <b>P</b> is red but the uncle <b>U</b> is black. The ultimate goal is to rotate the parent node <b>P</b> to the grandparent position, but this will not work if <b>N</b> is an "inner" grandchild of <b>G</b> (i.e., if <b>N</b> is the left child of the right child of <b>G</b> or the right child of the left child of <b>G</b>). A <span class="nowrap"><code>dir</code>-rotation</span> at <b>P</b> switches the roles of the current node <b>N</b> and its parent <b>P</b>. The rotation adds paths through <b>N</b> (those in the subtree labeled <b>2</b>, see diagram) and removes paths through <b>P</b> (those in the subtree labeled <b>4</b>). But both <b>P</b> and <b>N</b> are red, so <a href="#req4">requirement 4</a> is preserved. Requirement 3 is restored in case 6.
</p>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1273380762/mw-parser-output/.tmulti" /><div class="thumb tmulti tright"><div class="thumbinner multiimageinner" style="width:182px;max-width:182px"><div class="trow"><div class="tsingle" style="width:66px;max-width:66px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_insert_case_D0rot.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/6/68/Red-black_tree_insert_case_D0rot.svg/120px-Red-black_tree_insert_case_D0rot.svg.png" decoding="async" width="64" height="320" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/68/Red-black_tree_insert_case_D0rot.svg/250px-Red-black_tree_insert_case_D0rot.svg.png 2x" data-file-width="128" data-file-height="639" /></a></span></div><div class="thumbcaption"><small>first iteration</small></div></div><div class="tsingle" style="width:11px;max-width:11px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_perpendic_639erc_switch.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Red-black_tree_perpendic_639erc_switch.svg/20px-Red-black_tree_perpendic_639erc_switch.svg.png" decoding="async" width="9" height="320" class="mw-file-element" data-file-width="18" data-file-height="639" /></a></span></div></div><div class="tsingle" style="width:99px;max-width:99px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_insert_case_D1rot.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Red-black_tree_insert_case_D1rot.svg/120px-Red-black_tree_insert_case_D1rot.svg.png" decoding="async" width="97" height="320" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/bf/Red-black_tree_insert_case_D1rot.svg/250px-Red-black_tree_insert_case_D1rot.svg.png 1.5x" data-file-width="194" data-file-height="639" /></a></span></div><div class="thumbcaption"><small>higher iteration</small></div></div></div><div class="trow" style="display:flex"><div class="thumbcaption">Insert Case 6</div></div></div></div>
<div class="mw-heading mw-heading4"><h4 id="Insert_case_6">Insert case 6</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=15" title="Edit section: Insert case 6"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>The current node <b>N</b> is now certain to be an "outer" grandchild of <b>G</b> (left of left child or right of right child). Now <span class="nowrap"><code>(1-dir)</code>-rotate</span> at <b>G</b>, putting <b>P</b> in place of <b>G</b> and making <b>P</b> the parent of <b>N</b> and <b>G</b>. <b>G</b> is black and its former child <b>P</b> is red, since <a href="#req3">requirement 3</a> was violated. After switching the colors of <b>P</b> and <b>G</b> the resulting tree satisfies requirement 3. <a href="#req4">Requirement 4</a> also remains satisfied, since all paths that went through the black <b>G</b> now go through the black <b>P</b>.
</p><p>Because the algorithm transforms the input without using an auxiliary data structure and using only a small amount of extra storage space for auxiliary variables it is <a href="/wiki/In-place_algorithm" title="In-place algorithm">in-place</a>.
</p>
<div class="mw-heading mw-heading3"><h3 id="Removal">Removal</h3><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=16" title="Edit section: Removal"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<div class="mw-heading mw-heading4"><h4 id="Simple_cases">Simple cases</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=17" title="Edit section: Simple cases"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<ul><li>When the deleted node has <b>2 children</b> (non-NULL), then we can swap its value with its in-order successor (the leftmost child of the right subtree), and then delete the successor instead. Since the successor is leftmost, it can only have a right child (non-NULL) or no child at all.</li>
<li>When the deleted node has <b>only 1 child</b> (non-NULL). In this case, just replace the node with its child, and color it black.
<ul><li>The single child (non-NULL) must be red according to <a href="#con5">conclusion 5</a>, and the deleted node must be black according to <a href="#req3">requirement 3</a>.</li></ul></li>
<li>When the deleted node <b>has no children</b> (both NULL) and is the root, replace it with NULL. The tree is empty.</li>
<li>When the deleted node <b>has no children</b> (both NULL), and <b>is red</b>, simply remove the leaf node.</li>
<li>When the deleted node <b>has no children</b> (both NULL), and <b>is black</b>, deleting it will create an imbalance, and requires a rebalance, as covered in the next section.</li></ul>
<div class="mw-heading mw-heading4"><h4 id="Removal_of_a_black_non-root_leaf">Removal of a black non-root leaf</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=18" title="Edit section: Removal of a black non-root leaf"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>The complex case is when <b>N</b> is not the root, colored black and has no proper child (⇔ only NULL children).
In the first iteration, <b>N</b> is replaced by NULL.
</p>
<div class="mw-highlight mw-highlight-lang-c mw-content-ltr mw-highlight-lines mw-highlight-copy" dir="ltr"><pre><span></span><span id="remove-1"><a href="#remove-1"><span class="linenos" data-line="1"></span></a><span class="kt">void</span><span class="w"> </span><span class="nf">remove</span><span class="p">(</span><span class="n">Tree</span><span class="o">*</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="remove-2"><a href="#remove-2"><span class="linenos" data-line="2"></span></a><span class="w">	</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">;</span>
</span><span id="remove-3"><a href="#remove-3"><span class="linenos" data-line="3"></span></a>
</span><span id="remove-4"><a href="#remove-4"><span class="linenos" data-line="4"></span></a><span class="w">	</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">sibling</span><span class="p">;</span>
</span><span id="remove-5"><a href="#remove-5"><span class="linenos" data-line="5"></span></a><span class="w">	</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">close_nephew</span><span class="p">;</span>
</span><span id="remove-6"><a href="#remove-6"><span class="linenos" data-line="6"></span></a><span class="w">	</span><span class="n">Node</span><span class="o">*</span><span class="w"> </span><span class="n">distant_nephew</span><span class="p">;</span>
</span><span id="remove-7"><a href="#remove-7"><span class="linenos" data-line="7"></span></a>
</span><span id="remove-8"><a href="#remove-8"><span class="linenos" data-line="8"></span></a><span class="w">	</span><span class="n">Direction</span><span class="w"> </span><span class="n">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">direction</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
</span><span id="remove-9"><a href="#remove-9"><span class="linenos" data-line="9"></span></a>
</span><span id="remove-10"><a href="#remove-10"><span class="linenos" data-line="10"></span></a><span class="w">	</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="n">dir</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
</span><span id="remove-11"><a href="#remove-11"><span class="linenos" data-line="11"></span></a><span class="w">	</span><span class="k">goto</span><span class="w"> </span><span class="n">start_balance</span><span class="p">;</span>
</span><span id="remove-12"><a href="#remove-12"><span class="linenos" data-line="12"></span></a>
</span><span id="remove-13"><a href="#remove-13"><span class="linenos" data-line="13"></span></a><span class="w">	</span><span class="k">do</span><span class="w"> </span><span class="p">{</span>
</span><span id="remove-14"><a href="#remove-14"><span class="linenos" data-line="14"></span></a><span class="w">		</span><span class="n">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">direction</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
</span><span id="remove-15"><a href="#remove-15"><span class="linenos" data-line="15"></span></a><span class="nl">start_balance</span><span class="p">:</span>
</span><span id="remove-16"><a href="#remove-16"><span class="linenos" data-line="16"></span></a><span class="w">		</span><span class="n">sibling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">dir</span><span class="p">];</span>
</span><span id="remove-17"><a href="#remove-17"><span class="linenos" data-line="17"></span></a><span class="w">		</span><span class="n">distant_nephew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sibling</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">dir</span><span class="p">];</span>
</span><span id="remove-18"><a href="#remove-18"><span class="linenos" data-line="18"></span></a><span class="w">		</span><span class="n">close_nephew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sibling</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="n">dir</span><span class="p">];</span>
</span><span id="remove-19"><a href="#remove-19"><span class="linenos" data-line="19"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sibling</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">RED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="remove-20"><a href="#remove-20"><span class="linenos" data-line="20"></span></a><span class="w">			</span><span class="c1">// Case #3</span>
</span><span id="remove-21"><a href="#remove-21"><span class="linenos" data-line="21"></span></a><span class="w">			</span><span class="n">rotate_subtree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">dir</span><span class="p">);</span>
</span><span id="remove-22"><a href="#remove-22"><span class="linenos" data-line="22"></span></a><span class="w">			</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RED</span><span class="p">;</span>
</span><span id="remove-23"><a href="#remove-23"><span class="linenos" data-line="23"></span></a><span class="w">			</span><span class="n">sibling</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLACK</span><span class="p">;</span>
</span><span id="remove-24"><a href="#remove-24"><span class="linenos" data-line="24"></span></a><span class="w">			</span><span class="n">sibling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">close_nephew</span><span class="p">;</span>
</span><span id="remove-25"><a href="#remove-25"><span class="linenos" data-line="25"></span></a>
</span><span id="remove-26"><a href="#remove-26"><span class="linenos" data-line="26"></span></a><span class="w">			</span><span class="n">distant_nephew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sibling</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">dir</span><span class="p">];</span>
</span><span id="remove-27"><a href="#remove-27"><span class="linenos" data-line="27"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">distant_nephew</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">distant_nephew</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">RED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="remove-28"><a href="#remove-28"><span class="linenos" data-line="28"></span></a><span class="w">				</span><span class="k">goto</span><span class="w"> </span><span class="n">case_6</span><span class="p">;</span>
</span><span id="remove-29"><a href="#remove-29"><span class="linenos" data-line="29"></span></a><span class="w">            </span><span class="p">}</span>
</span><span id="remove-30"><a href="#remove-30"><span class="linenos" data-line="30"></span></a><span class="w">			</span><span class="n">close_nephew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sibling</span><span class="o">-&gt;</span><span class="n">child</span><span class="p">[</span><span class="n">dir</span><span class="p">];</span>
</span><span id="remove-31"><a href="#remove-31"><span class="linenos" data-line="31"></span></a><span class="w">			</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">close_nephew</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">close_nephew</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">RED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="remove-32"><a href="#remove-32"><span class="linenos" data-line="32"></span></a><span class="w">				</span><span class="k">goto</span><span class="w"> </span><span class="n">case_5</span><span class="p">;</span>
</span><span id="remove-33"><a href="#remove-33"><span class="linenos" data-line="33"></span></a><span class="w">            </span><span class="p">}</span>
</span><span id="remove-34"><a href="#remove-34"><span class="linenos" data-line="34"></span></a>
</span><span id="remove-35"><a href="#remove-35"><span class="linenos" data-line="35"></span></a><span class="w">			</span><span class="c1">// Case #4</span>
</span><span id="remove-36"><a href="#remove-36"><span class="linenos" data-line="36"></span></a><span class="w">			</span><span class="n">sibling</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RED</span><span class="p">;</span>
</span><span id="remove-37"><a href="#remove-37"><span class="linenos" data-line="37"></span></a><span class="w">			</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLACK</span><span class="p">;</span>
</span><span id="remove-38"><a href="#remove-38"><span class="linenos" data-line="38"></span></a><span class="w">			</span><span class="k">return</span><span class="p">;</span>
</span><span id="remove-39"><a href="#remove-39"><span class="linenos" data-line="39"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="remove-40"><a href="#remove-40"><span class="linenos" data-line="40"></span></a>
</span><span id="remove-41"><a href="#remove-41"><span class="linenos" data-line="41"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">distant_nephew</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">distant_nephew</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">RED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="remove-42"><a href="#remove-42"><span class="linenos" data-line="42"></span></a><span class="w">			</span><span class="k">goto</span><span class="w"> </span><span class="n">case_6</span><span class="p">;</span>
</span><span id="remove-43"><a href="#remove-43"><span class="linenos" data-line="43"></span></a><span class="w">        </span><span class="p">}</span>
</span><span id="remove-44"><a href="#remove-44"><span class="linenos" data-line="44"></span></a>
</span><span id="remove-45"><a href="#remove-45"><span class="linenos" data-line="45"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">close_nephew</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">close_nephew</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">RED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="remove-46"><a href="#remove-46"><span class="linenos" data-line="46"></span></a><span class="w">			</span><span class="k">goto</span><span class="w"> </span><span class="n">case_5</span><span class="p">;</span>
</span><span id="remove-47"><a href="#remove-47"><span class="linenos" data-line="47"></span></a><span class="w">        </span><span class="p">}</span>
</span><span id="remove-48"><a href="#remove-48"><span class="linenos" data-line="48"></span></a>
</span><span id="remove-49"><a href="#remove-49"><span class="linenos" data-line="49"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">parent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="remove-50"><a href="#remove-50"><span class="linenos" data-line="50"></span></a><span class="w">		    </span><span class="c1">// Case #1</span>
</span><span id="remove-51"><a href="#remove-51"><span class="linenos" data-line="51"></span></a><span class="w">            </span><span class="k">return</span><span class="p">;</span>
</span><span id="remove-52"><a href="#remove-52"><span class="linenos" data-line="52"></span></a><span class="w">        </span><span class="p">}</span>
</span><span id="remove-53"><a href="#remove-53"><span class="linenos" data-line="53"></span></a>
</span><span id="remove-54"><a href="#remove-54"><span class="linenos" data-line="54"></span></a><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">RED</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="remove-55"><a href="#remove-55"><span class="linenos" data-line="55"></span></a><span class="w">			</span><span class="c1">// Case #4</span>
</span><span id="remove-56"><a href="#remove-56"><span class="linenos" data-line="56"></span></a><span class="w">			</span><span class="n">sibling</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RED</span><span class="p">;</span>
</span><span id="remove-57"><a href="#remove-57"><span class="linenos" data-line="57"></span></a><span class="w">			</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLACK</span><span class="p">;</span>
</span><span id="remove-58"><a href="#remove-58"><span class="linenos" data-line="58"></span></a><span class="w">			</span><span class="k">return</span><span class="p">;</span>
</span><span id="remove-59"><a href="#remove-59"><span class="linenos" data-line="59"></span></a><span class="w">		</span><span class="p">}</span>
</span><span id="remove-60"><a href="#remove-60"><span class="linenos" data-line="60"></span></a>
</span><span id="remove-61"><a href="#remove-61"><span class="linenos" data-line="61"></span></a><span class="w">		</span><span class="c1">// Case #2</span>
</span><span id="remove-62"><a href="#remove-62"><span class="linenos" data-line="62"></span></a><span class="w">		</span><span class="n">sibling</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RED</span><span class="p">;</span>
</span><span id="remove-63"><a href="#remove-63"><span class="linenos" data-line="63"></span></a><span class="w">		</span><span class="n">node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span>
</span><span id="remove-64"><a href="#remove-64"><span class="linenos" data-line="64"></span></a>
</span><span id="remove-65"><a href="#remove-65"><span class="linenos" data-line="65"></span></a><span class="w">	</span><span class="p">}</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">parent</span><span class="p">);</span>
</span><span id="remove-66"><a href="#remove-66"><span class="linenos" data-line="66"></span></a>
</span><span id="remove-67"><a href="#remove-67"><span class="linenos" data-line="67"></span></a><span class="nl">case_5</span><span class="p">:</span>
</span><span id="remove-68"><a href="#remove-68"><span class="linenos" data-line="68"></span></a>
</span><span id="remove-69"><a href="#remove-69"><span class="linenos" data-line="69"></span></a><span class="w">	</span><span class="n">rotate_subtree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="n">sibling</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">dir</span><span class="p">);</span>
</span><span id="remove-70"><a href="#remove-70"><span class="linenos" data-line="70"></span></a><span class="w">	</span><span class="n">sibling</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RED</span><span class="p">;</span>
</span><span id="remove-71"><a href="#remove-71"><span class="linenos" data-line="71"></span></a><span class="w">	</span><span class="n">close_nephew</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLACK</span><span class="p">;</span>
</span><span id="remove-72"><a href="#remove-72"><span class="linenos" data-line="72"></span></a><span class="w">	</span><span class="n">distant_nephew</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sibling</span><span class="p">;</span>
</span><span id="remove-73"><a href="#remove-73"><span class="linenos" data-line="73"></span></a><span class="w">	</span><span class="n">sibling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">close_nephew</span><span class="p">;</span>
</span><span id="remove-74"><a href="#remove-74"><span class="linenos" data-line="74"></span></a>
</span><span id="remove-75"><a href="#remove-75"><span class="linenos" data-line="75"></span></a><span class="nl">case_6</span><span class="p">:</span>
</span><span id="remove-76"><a href="#remove-76"><span class="linenos" data-line="76"></span></a>
</span><span id="remove-77"><a href="#remove-77"><span class="linenos" data-line="77"></span></a><span class="w">	</span><span class="n">rotate_subtree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">dir</span><span class="p">);</span>
</span><span id="remove-78"><a href="#remove-78"><span class="linenos" data-line="78"></span></a><span class="w">	</span><span class="n">sibling</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span><span class="p">;</span>
</span><span id="remove-79"><a href="#remove-79"><span class="linenos" data-line="79"></span></a><span class="w">	</span><span class="n">parent</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLACK</span><span class="p">;</span>
</span><span id="remove-80"><a href="#remove-80"><span class="linenos" data-line="80"></span></a><span class="w">	</span><span class="n">distant_nephew</span><span class="o">-&gt;</span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BLACK</span><span class="p">;</span>
</span><span id="remove-81"><a href="#remove-81"><span class="linenos" data-line="81"></span></a><span class="w">	</span><span class="k">return</span><span class="p">;</span>
</span><span id="remove-82"><a href="#remove-82"><span class="linenos" data-line="82"></span></a><span class="p">}</span>
</span></pre></div>
<p><span class="anchor" id="loopInvariantD"></span>The rebalancing loop of the delete operation has the following <a href="/wiki/Loop_invariant" title="Loop invariant">invariant</a>:
</p>
<ul><li>At the beginning of each iteration the black height of <b>N</b> equals the iteration number minus one, which means that in the first iteration it is zero and that <b>N</b> is a true black node <span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span> in higher iterations.</li>
<li>The number of black nodes on the paths through <b>N</b> is one less than before the deletion, whereas it is unchanged on all other paths, so that there is a <a href="#ViolB">black-violation</a> at <b>P</b> if other paths exist.</li>
<li>All other properties (including <a href="#req3">requirement 3</a>) are satisfied throughout the tree.</li></ul>
<div class="mw-heading mw-heading4"><h4 id="Notes_to_the_delete_diagrams">Notes to the delete diagrams</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=19" title="Edit section: Notes to the delete diagrams"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<table class="wikitable floatright" style="text-align:center;">

<tbody><tr style="background:#E8E8E8;font-size:smaller;">
<td colspan="4"><i>before</i></td>
<td rowspan="2"><i>case</i></td>
<td rowspan="2" class="nowrap ts-vertical-header" style=""><div style=""><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1221560606" /><i>rotation</i></div></td>
<td rowspan="2" class="nowrap ts-vertical-header" style=""><div style=""><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1221560606" /><i>assignment</i></div></td>
<td colspan="4"><i>after</i></td>
<td rowspan="2"><i>next</i></td>
<td rowspan="2">&#916;<i>h</i>
</td></tr>
<tr style="background:#E8E8E8">
<td><b>P</b></td>
<td><b>C</b></td>
<td><b>S</b></td>
<td><b>D</b></td>
<td><b>P</b></td>
<td><b>C</b></td>
<td><b>S</b></td>
<td><b>D</b>
</td></tr>
<tr>
<td>—</td>
<td></td>
<td></td>
<td></td>
<td><a href="#Delete_case_1"><b>D1</b></a></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td data-sort-value="Yes" style="background: #DFD; color:black; vertical-align: middle; text-align: center;" class="table-yes2 skin-invert"><span typeof="mw:File"><span title="Yes"><img alt="Yes" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/20px-Check-green.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/40px-Check-green.svg.png 2x" data-file-width="512" data-file-height="512" /></span></span></td>
<td>
</td></tr>
<tr>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><a href="#Delete_case_2"><b>D2</b></a></td>
<td></td>
<td><b>N</b>:=<b>P</b></td>
<td style="background: var(--background-color-interactive, #EEE); color: var(--color-base, black); vertical-align: middle; text-align: center;" class="table-Unknown">?</td>
<td></td>
<td></td>
<td></td>
<td style="background: var(--background-color-interactive, #EEE); color: var(--color-base, black); vertical-align: middle; text-align: center;" class="table-Unknown">?</td>
<td>1
</td></tr>
<tr>
<td rowspan="3"><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td rowspan="3"><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td rowspan="3"><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td rowspan="3"><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td rowspan="3"><a href="#Delete_case_3"><b>D3</b></a></td>
<td rowspan="3"><b>P</b>↶<b>S</b></td>
<td rowspan="3"><b>N</b>:=<b>N</b></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><b>D6</b></td>
<td>0
</td></tr>
<tr>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><b>D5</b></td>
<td>0
</td></tr>
<tr>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><b>D4</b></td>
<td>0
</td></tr>
<tr>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><a href="#Delete_case_4"><b>D4</b></a></td>
<td></td>
<td></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td data-sort-value="Yes" style="background: #DFD; color:black; vertical-align: middle; text-align: center;" class="table-yes2 skin-invert"><span typeof="mw:File"><span title="Yes"><img alt="Yes" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/20px-Check-green.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/40px-Check-green.svg.png 2x" data-file-width="512" data-file-height="512" /></span></span></td>
<td>
</td></tr>
<tr>
<td><span typeof="mw:File"><a href="/wiki/File:RedOrBlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/20px-RedOrBlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/40px-RedOrBlackNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><a href="#Delete_case_5"><b>D5</b></a></td>
<td><b>C</b>↷<b>S</b></td>
<td><b>N</b>:=<b>N</b></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedOrBlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/20px-RedOrBlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/40px-RedOrBlackNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><b>D6</b></td>
<td>0
</td></tr>
<tr>
<td><span typeof="mw:File"><a href="/wiki/File:RedOrBlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/20px-RedOrBlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/40px-RedOrBlackNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/20px-RedNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/cc/RedNode.svg/40px-RedNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><a href="#Delete_case_6"><b>D6</b></a></td>
<td><b>P</b>↶<b>S</b></td>
<td></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td></td>
<td><span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedOrBlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/20px-RedOrBlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/40px-RedOrBlackNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span></td>
<td><span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span></td>
<td data-sort-value="Yes" style="background: #DFD; color:black; vertical-align: middle; text-align: center;" class="table-yes2 skin-invert"><span typeof="mw:File"><span title="Yes"><img alt="Yes" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/20px-Check-green.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/40px-Check-green.svg.png 2x" data-file-width="512" data-file-height="512" /></span></span></td>
<td>
</td></tr>
<tr>
<td colspan="13" style="text-align:left; font-size:smaller;">
<dl><dt>Deletion</dt>
<dd>This synopsis shows in its <i>before</i> columns, that all<br />possible cases<sup id="cite&#95;ref-cases&#95;31-1" class="reference"><a href="#cite_note-cases-31"><span class="cite-bracket">&#91;</span>31<span class="cite-bracket">&#93;</span></a></sup> of color constellations are covered.</dd></dl>
</td></tr></tbody></table>
<ul><li>In the diagrams below, <b>P</b> is used for <b>N</b>’s parent, <b>S</b> for the sibling of <b>N</b>, <b>C</b> (meaning <i>close</i> nephew) for <b>S</b>’s child in the same direction as <b>N</b>, and <b>D</b> (meaning <i>distant</i> nephew) for <b>S</b>’s other child (<b>S</b> cannot be a NULL node in the first iteration, because it must have black height one, which was the black height of <b>N</b> before its deletion, but <b>C</b> and <b>D</b> may be NULL nodes).</li>
<li>The diagrams show the current node <b>N</b> as the left child of its parent <b>P</b> even though it is possible for <b>N</b> to be on either side. The code samples cover both possibilities by means of the side variable <code>dir</code>.</li>
<li>At the beginning (in the first iteration) of removal, <b>N</b> is the NULL node replacing the node to be deleted. Because its location in parent’s node is the only thing of importance, it is symbolised by <span typeof="mw:File"><a href="/wiki/File:NilBlue.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/6/6c/NilBlue.svg/20px-NilBlue.svg.png" decoding="async" width="8" height="7" class="mw-file-element" data-file-width="15" data-file-height="13" /></a></span> (meaning: the current node <b>N</b> is a NULL node and left child) in the left column of the delete diagrams. As the operation proceeds also proper nodes (of black height &#8805; 1) may become current (see e.g. case <b><a href="#Delete_case_2">2</a></b>).</li>
<li>By counting the black bullets (<span typeof="mw:File"><a href="/wiki/File:BlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/20px-BlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/fe/BlackNode.svg/40px-BlackNode.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span> and <span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:TriangleTop.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/e/e0/TriangleTop.svg/20px-TriangleTop.svg.png" decoding="async" width="10" height="13" class="mw-file-element" data-file-width="10" data-file-height="13" /></a></span>) in a delete diagram it can be observed that the paths through <b>N</b> have one bullet less than the other paths. This means a black-violation at <b>P</b>—if it exists.</li>
<li>The color constellation in column group <i>before</i> defines the case, whose name is given in the column <i>case</i>. Thereby possible values in cells left empty are ignored.</li>
<li>The rows in the synopsis are ordered such that the coverage of all possible RB cases is easily comprehensible.</li>
<li>The column <i>rotation</i> indicates whether a rotation contributes to the rebalancing.</li>
<li>The column <i>assignment</i> shows an assignment of <b>N</b> before entering a subsequent iteration step. This possibly induces a reassignment of the other nodes <b>P</b>, <b>C</b>, <b>S</b>, <b>D</b> also.</li>
<li>If something has been changed by the case, this is shown in the column group <i>after</i>.</li>
<li>A <span typeof="mw:File"><a href="/wiki/File:Check-green.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/20px-Check-green.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/Check-green.svg/40px-Check-green.svg.png 2x" data-file-width="512" data-file-height="512" /></a></span> sign in column <i>next</i> signifies that the rebalancing is complete with this step. If the column <i>after</i> determines exactly one case, this case is given as the subsequent one, otherwise there are question marks.</li>
<li>The loop is where the problem of rebalancing is escalated <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \Delta h=1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi mathvariant="normal">&#x0394;<!-- Δ --></mi>
        <mi>h</mi>
        <mo>=</mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \Delta h=1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6d1e4add760f1aeebaeafee795acfa6f29b548bc" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:7.536ex; height:2.176ex;" alt="{\displaystyle \Delta h=1}"></span> level higher in the tree in that the parent <b>P</b> becomes the new current node <b>N</b>. So it takes maximally <span class="texhtml mvar" style="font-style:italic;">h</span> iterations to repair the tree (where <span class="texhtml mvar" style="font-style:italic;">h</span> is the height of the tree). Because the probability of escalation decreases exponentially with each iteration the total rebalancing cost is constant on average, indeed <a href="#amortized">amortized constant</a>. (Just as an aside: Mehlhorn &amp; Sanders point out: "AVL trees do <i>not</i> support constant amortized update costs."<sup id="cite&#95;ref-Mehlhorn2008&#95;16-3" class="reference"><a href="#cite_note-Mehlhorn2008-16"><span class="cite-bracket">&#91;</span>16<span class="cite-bracket">&#93;</span></a></sup><sup class="reference nowrap"><span title="Page / location: 165, 158">&#58;&#8202;165,&#8202;158&#8202;</span></sup> This is true for the rebalancing after a deletion, but not AVL insertion.<sup id="cite&#95;ref-32" class="reference"><a href="#cite_note-32"><span class="cite-bracket">&#91;</span>32<span class="cite-bracket">&#93;</span></a></sup>)</li>
<li>Out of the body of the loop there are exiting branches to the cases <b><a href="#Delete_case_3">3</a></b>, <b><a href="#Delete_case_6">6</a></b>, <b><a href="#Delete_case_5">5</a></b>, <b><a href="#Delete_case_4">4</a></b>, and <b><a href="#Delete_case_1">1</a></b>; section <a href="#Delete_case_3">"Delete case 3"</a> of its own has three different exiting branches to the cases <b>6</b>, <b>5</b> and <b>4</b>.</li>
<li>Rotations occur in cases <b>6</b> and <b>5 + 6</b> and <b>3 + 5 + 6</b> – all outside the loop. Therefore, at most three rotations occur in total.</li></ul>
<div class="mw-heading mw-heading4"><h4 id="Delete_case_1">Delete case 1</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=20" title="Edit section: Delete case 1"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>The current node <b>N</b> is the new root. One black node has been removed from every path, so the RB-properties are preserved.
The black height of the tree decreases by 1.
</p>
<div class="mw-heading mw-heading4"><h4 id="Delete_case_2">Delete case 2</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=21" title="Edit section: Delete case 2"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1273380762/mw-parser-output/.tmulti" /><div class="thumb tmulti tright"><div class="thumbinner multiimageinner" style="width:209px;max-width:209px"><div class="trow"><div class="theader" style="text-align:center"><a href="#explan">→ <small>Explanation of symbols</small></a></div></div><div class="trow"><div class="tsingle" style="width:73px;max-width:73px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_delete_case_B0t.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Red-black_tree_delete_case_B0t.svg/120px-Red-black_tree_delete_case_B0t.svg.png" decoding="async" width="71" height="290" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Red-black_tree_delete_case_B0t.svg/250px-Red-black_tree_delete_case_B0t.svg.png 2x" data-file-width="142" data-file-height="579" /></a></span></div><div class="thumbcaption"><small>first iteration</small></div></div><div class="tsingle" style="width:11px;max-width:11px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_perpendic_579_switch.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Red-black_tree_perpendic_579_switch.svg/20px-Red-black_tree_perpendic_579_switch.svg.png" decoding="async" width="9" height="290" class="mw-file-element" data-file-width="18" data-file-height="579" /></a></span></div></div><div class="tsingle" style="width:119px;max-width:119px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_delete_case_B1t.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Red-black_tree_delete_case_B1t.svg/120px-Red-black_tree_delete_case_B1t.svg.png" decoding="async" width="117" height="290" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Red-black_tree_delete_case_B1t.svg/250px-Red-black_tree_delete_case_B1t.svg.png 1.5x" data-file-width="234" data-file-height="579" /></a></span></div><div class="thumbcaption"><small>higher iteration</small></div></div></div><div class="trow" style="display:flex"><div class="thumbcaption">Delete case D2</div></div></div></div>
<p><b>P</b>, <b>S</b>, and <b>S</b>’s children are black. After painting <b>S</b> red all paths passing through <b>S</b>, which are precisely those paths <i>not</i> passing through <b>N</b>, have one less black node. Now all paths in the subtree rooted by <b>P</b> have the same number of black nodes, but one fewer than the paths that do not pass through <b>P</b>, so <a href="#req4">requirement 4</a> may still be violated. After relabeling <b>P</b> to <b>N</b> the <a href="#loopInvariantD">loop invariant</a> is fulfilled so that the rebalancing can be iterated on one black level (= 1 tree level) higher.
</p>
<div class="mw-heading mw-heading4"><h4 id="Delete_case_3">Delete case 3</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=22" title="Edit section: Delete case 3"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1273380762/mw-parser-output/.tmulti" /><div class="thumb tmulti tleft"><div class="thumbinner multiimageinner" style="width:229px;max-width:229px"><div class="trow"><div class="tsingle" style="width:93px;max-width:93px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_delete_case_A0rot3.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/9/95/Red-black_tree_delete_case_A0rot3.svg/120px-Red-black_tree_delete_case_A0rot3.svg.png" decoding="async" width="91" height="433" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/95/Red-black_tree_delete_case_A0rot3.svg/250px-Red-black_tree_delete_case_A0rot3.svg.png 1.5x" data-file-width="182" data-file-height="865" /></a></span></div><div class="thumbcaption"><small>first iteration</small></div></div><div class="tsingle" style="width:11px;max-width:11px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_perpendic_865_switch.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/8/86/Red-black_tree_perpendic_865_switch.svg/20px-Red-black_tree_perpendic_865_switch.svg.png" decoding="async" width="9" height="433" class="mw-file-element" data-file-width="18" data-file-height="865" /></a></span></div></div><div class="tsingle" style="width:119px;max-width:119px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_delete_case_A1rot3.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Red-black_tree_delete_case_A1rot3.svg/120px-Red-black_tree_delete_case_A1rot3.svg.png" decoding="async" width="117" height="433" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Red-black_tree_delete_case_A1rot3.svg/250px-Red-black_tree_delete_case_A1rot3.svg.png 1.5x" data-file-width="234" data-file-height="865" /></a></span></div><div class="thumbcaption"><small>higher iteration</small></div></div></div><div class="trow" style="display:flex"><div class="thumbcaption">Delete case D3</div></div></div></div>
<p>The sibling <b>S</b> is red, so <b>P</b> and the nephews <b>C</b> and <b>D</b> have to be black. A <span class="nowrap"><code>dir</code>-rotation</span> at <b>P</b> turns <b>S</b> into <b>N</b>’s grandparent.
Then after reversing the colors of <b>P</b> and <b>S</b>, the path through <b>N</b> is still short one black node. But <b>N</b> now has a red parent <b>P</b> and after the reassignment a black sibling <b>S</b>, so the transformations in cases 4, 5, or 6 are able to restore the RB-shape.
</p>
<div class="mw-heading mw-heading4"><h4 id="Delete_case_4">Delete case 4</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=23" title="Edit section: Delete case 4"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1273380762/mw-parser-output/.tmulti" /><div class="thumb tmulti tright"><div class="thumbinner multiimageinner" style="width:209px;max-width:209px"><div class="trow"><div class="tsingle" style="width:73px;max-width:73px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_delete_case_C0.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/9/99/Red-black_tree_delete_case_C0.svg/120px-Red-black_tree_delete_case_C0.svg.png" decoding="async" width="71" height="210" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/9/99/Red-black_tree_delete_case_C0.svg/250px-Red-black_tree_delete_case_C0.svg.png 2x" data-file-width="142" data-file-height="419" /></a></span></div><div class="thumbcaption"><small>first iteration</small></div></div><div class="tsingle" style="width:11px;max-width:11px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_perpendic_419_switch.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/1/13/Red-black_tree_perpendic_419_switch.svg/20px-Red-black_tree_perpendic_419_switch.svg.png" decoding="async" width="9" height="210" class="mw-file-element" data-file-width="18" data-file-height="419" /></a></span></div></div><div class="tsingle" style="width:119px;max-width:119px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_delete_case_C1.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Red-black_tree_delete_case_C1.svg/120px-Red-black_tree_delete_case_C1.svg.png" decoding="async" width="117" height="210" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Red-black_tree_delete_case_C1.svg/250px-Red-black_tree_delete_case_C1.svg.png 1.5x" data-file-width="234" data-file-height="419" /></a></span></div><div class="thumbcaption"><small>higher iteration</small></div></div></div><div class="trow" style="display:flex"><div class="thumbcaption">Delete case D4</div></div></div></div>
<p>The sibling <b>S</b> and <b>S</b>’s children are black, but <b>P</b> is red. Exchanging the colors of <b>S</b> and <b>P</b> does not affect the number of black nodes on paths going through <b>S</b>, but it does add one to the number of black nodes on paths going through <b>N</b>, making up for the deleted black node on those paths.
</p>
<div class="mw-heading mw-heading4"><h4 id="Delete_case_5">Delete case 5</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=24" title="Edit section: Delete case 5"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1273380762/mw-parser-output/.tmulti" /><div class="thumb tmulti tleft"><div class="thumbinner multiimageinner" style="width:209px;max-width:209px"><div class="trow"><div class="tsingle" style="width:73px;max-width:73px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_delete_case_D0rot.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Red-black_tree_delete_case_D0rot.svg/120px-Red-black_tree_delete_case_D0rot.svg.png" decoding="async" width="71" height="460" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Red-black_tree_delete_case_D0rot.svg/250px-Red-black_tree_delete_case_D0rot.svg.png 2x" data-file-width="142" data-file-height="919" /></a></span></div><div class="thumbcaption"><small>first iteration</small></div></div><div class="tsingle" style="width:11px;max-width:11px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_perpendic_919_switch.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Red-black_tree_perpendic_919_switch.svg/20px-Red-black_tree_perpendic_919_switch.svg.png" decoding="async" width="9" height="460" class="mw-file-element" data-file-width="18" data-file-height="919" /></a></span></div></div><div class="tsingle" style="width:119px;max-width:119px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_delete_case_D1rot.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Red-black_tree_delete_case_D1rot.svg/120px-Red-black_tree_delete_case_D1rot.svg.png" decoding="async" width="117" height="460" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Red-black_tree_delete_case_D1rot.svg/250px-Red-black_tree_delete_case_D1rot.svg.png 1.5x" data-file-width="234" data-file-height="919" /></a></span></div><div class="thumbcaption"><small>higher iteration</small></div></div></div><div class="trow" style="display:flex"><div class="thumbcaption">Delete case D5</div></div></div></div>
<p>The sibling <b>S</b> is black, <b>S</b>’s close child <b>C</b> is red, and <b>S</b>’s distant child <b>D</b> is black. After a <span class="nowrap"><code>(1-dir)</code>-rotation</span> at <b>S</b> the nephew <b>C</b> becomes <b>S</b>’s parent and <b>N</b>’s new sibling. The colors of <b>S</b> and <b>C</b> are exchanged.
All paths still have the same number of black nodes, but now <b>N</b> has a black sibling whose distant child is red, so the constellation is fit for case D6. Neither <b>N</b> nor its parent <b>P</b> are affected by this transformation, and <b>P</b> may be red or black (<span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedOrBlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/20px-RedOrBlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/40px-RedOrBlackNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span> in the diagram).
</p>
<div class="mw-heading mw-heading4"><h4 id="Delete_case_6">Delete case 6</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=25" title="Edit section: Delete case 6"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1273380762/mw-parser-output/.tmulti" /><div class="thumb tmulti tright"><div class="thumbinner multiimageinner" style="width:188px;max-width:188px"><div class="trow"><div class="tsingle" style="width:73px;max-width:73px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_delete_case_E0rot.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/3/38/Red-black_tree_delete_case_E0rot.svg/120px-Red-black_tree_delete_case_E0rot.svg.png" decoding="async" width="71" height="320" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/3/38/Red-black_tree_delete_case_E0rot.svg/250px-Red-black_tree_delete_case_E0rot.svg.png 2x" data-file-width="142" data-file-height="639" /></a></span></div><div class="thumbcaption"><small>first iteration</small></div></div><div class="tsingle" style="width:11px;max-width:11px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_perpendic_639erc_switch.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/b/b1/Red-black_tree_perpendic_639erc_switch.svg/20px-Red-black_tree_perpendic_639erc_switch.svg.png" decoding="async" width="9" height="320" class="mw-file-element" data-file-width="18" data-file-height="639" /></a></span></div></div><div class="tsingle" style="width:98px;max-width:98px"><div class="thumbimage"><span typeof="mw:File"><a href="/wiki/File:Red-black_tree_delete_case_E1rot.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Red-black_tree_delete_case_E1rot.svg/120px-Red-black_tree_delete_case_E1rot.svg.png" decoding="async" width="96" height="320" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Red-black_tree_delete_case_E1rot.svg/250px-Red-black_tree_delete_case_E1rot.svg.png 1.5x" data-file-width="192" data-file-height="639" /></a></span></div><div class="thumbcaption"><small>higher iteration</small></div></div></div><div class="trow" style="display:flex"><div class="thumbcaption">Delete case D6</div></div></div></div>
<p>The sibling <b>S</b> is black, <b>S</b>’s distant child <b>D</b> is red. After a <span class="nowrap"><code>dir</code>-rotation</span> at <b>P</b> the sibling <b>S</b> becomes the parent of <b>P</b> and <b>S</b>’s distant child <b>D</b>. The colors of <b>P</b> and <b>S</b> are exchanged, and <b>D</b> is made black. The whole subtree still has the same color at its root <b>S</b>, namely either red or black (<span class="mw-default-size" typeof="mw:File"><a href="/wiki/File:RedOrBlackNode.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/20px-RedOrBlackNode.svg.png" decoding="async" width="13" height="13" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/b/bd/RedOrBlackNode.svg/40px-RedOrBlackNode.svg.png 2x" data-file-width="13" data-file-height="13" /></a></span> in the diagram), which refers to the same color both before and after the transformation. This way <a href="#req3">requirement 3</a> is preserved. The paths in the subtree not passing through <b>N</b> (i.o.w. passing through <b>D</b> and node <b>3</b> in the diagram) pass through the same number of black nodes as before, but <b>N</b> now has one additional black ancestor: either <b>P</b> has become black, or it was black and <b>S</b> was added as a black grandparent. Thus, the paths passing through <b>N</b> pass through one additional black node, so that <a href="#req4">requirement 4</a> is restored and the total tree is in RB-shape.
</p><p>Because the algorithm transforms the input without using an auxiliary data structure and using only a small amount of extra storage space for auxiliary variables it is <a href="/wiki/In-place_algorithm" title="In-place algorithm">in-place</a>.
</p>
<div class="mw-heading mw-heading2"><h2 id="Proof_of_bounds">Proof of bounds</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=26" title="Edit section: Proof of bounds"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<figure class="mw-halign-right" typeof="mw:File/Thumb"><a href="/wiki/File:5_minimal_red-black_trees_nN.svg" class="mw-file-description"><img src="//upload.wikimedia.org/wikipedia/commons/thumb/5/5a/5_minimal_red-black_trees_nN.svg/330px-5_minimal_red-black_trees_nN.svg.png" decoding="async" width="320" height="198" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/5/5a/5_minimal_red-black_trees_nN.svg/500px-5_minimal_red-black_trees_nN.svg.png 1.5x, //upload.wikimedia.org/wikipedia/commons/thumb/5/5a/5_minimal_red-black_trees_nN.svg/960px-5_minimal_red-black_trees_nN.svg.png 2x" data-file-width="1097" data-file-height="679" /></a><figcaption>Figure 2: Red–black trees RB<sub><i>h</i></sub> of heights <i>h</i>=1,2,3,4,5,<br />each with minimal number 1,2,4,6 resp. 10 of nodes.</figcaption></figure>
<p>For <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h\in \mathbb {N} }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
        <mo>&#x2208;<!-- ∈ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="double-struck">N</mi>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h\in \mathbb {N} }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fd796ca77a508511c1ba760a6b508973b08afc36" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:5.858ex; height:2.176ex;" alt="{\displaystyle h\in \mathbb {N} }"></span> there is a red–black tree of height <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b26be3e694314bc90c3215047e4a2010c6ee184a" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.339ex; height:2.176ex;" alt="{\displaystyle h}"></span> with
</p>
<dl><dd><table>

<tbody><tr>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{h}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>h</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{h}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8125d74e28bfab7418265ece96c1ea364924cb14" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:3.219ex; height:2.009ex;" alt="{\displaystyle m_{h}}"></span></td>
<td colspan="2"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle =2^{\lfloor (h+1)/2\rfloor }+2^{\lfloor h/2\rfloor }-2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>=</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
            <mo stretchy="false">(</mo>
            <mi>h</mi>
            <mo>+</mo>
            <mn>1</mn>
            <mo stretchy="false">)</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
            <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
          </mrow>
        </msup>
        <mo>+</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
            <mi>h</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
            <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
          </mrow>
        </msup>
        <mo>&#x2212;<!-- − --></mo>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle =2^{\lfloor (h+1)/2\rfloor }+2^{\lfloor h/2\rfloor }-2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/782721f95fa9b96c1fbe0d691a2f6412a4d1ec40" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:23.567ex; height:3.009ex;" alt="{\displaystyle =2^{\lfloor (h+1)/2\rfloor }+2^{\lfloor h/2\rfloor }-2}"></span>
</td></tr>
<tr>
<td rowspan="2"></td>
<td rowspan="2;style=&quot;vertical-align:bot&quot;"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle ={\Biggl \{}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>=</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-OPEN">
            <mo maxsize="2.470em" minsize="2.470em">{</mo>
          </mrow>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle ={\Biggl \{}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/35b743e4ad8410a5bb91865254fe6b4965e9e8d1" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -3.171ex; width:4.326ex; height:7.509ex;" alt="{\displaystyle ={\Biggl \{}}"></span></td>
<td style="vertical-align:top"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 2\cdot 2^{\tfrac {h}{2}}-2=2^{{\tfrac {h}{2}}+1}-2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>2</mn>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mstyle displaystyle="false" scriptlevel="0">
              <mfrac>
                <mi>h</mi>
                <mn>2</mn>
              </mfrac>
            </mstyle>
          </mrow>
        </msup>
        <mo>&#x2212;<!-- − --></mo>
        <mn>2</mn>
        <mo>=</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mrow class="MJX-TeXAtom-ORD">
              <mstyle displaystyle="false" scriptlevel="0">
                <mfrac>
                  <mi>h</mi>
                  <mn>2</mn>
                </mfrac>
              </mstyle>
            </mrow>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msup>
        <mo>&#x2212;<!-- − --></mo>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 2\cdot 2^{\tfrac {h}{2}}-2=2^{{\tfrac {h}{2}}+1}-2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/024dd3e3477e0eecb2ec9daa188605f19152be85" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:22.402ex; height:4.176ex;" alt="{\displaystyle 2\cdot 2^{\tfrac {h}{2}}-2=2^{{\tfrac {h}{2}}+1}-2}"></span></td>
<td>&#160; &#160; &#160;</td>
<td style="vertical-align:bot">if <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b26be3e694314bc90c3215047e4a2010c6ee184a" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.339ex; height:2.176ex;" alt="{\displaystyle h}"></span> even
</td></tr>
<tr>
<td style="vertical-align:top"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 3\cdot 2^{\tfrac {h-1}{2}}-2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>3</mn>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mstyle displaystyle="false" scriptlevel="0">
              <mfrac>
                <mrow>
                  <mi>h</mi>
                  <mo>&#x2212;<!-- − --></mo>
                  <mn>1</mn>
                </mrow>
                <mn>2</mn>
              </mfrac>
            </mstyle>
          </mrow>
        </msup>
        <mo>&#x2212;<!-- − --></mo>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 3\cdot 2^{\tfrac {h-1}{2}}-2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c2304683c1fdef3b7d61fa28416ef48e86e394f8" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:12.123ex; height:4.343ex;" alt="{\displaystyle 3\cdot 2^{\tfrac {h-1}{2}}-2}"></span></td>
<td></td>
<td style="vertical-align:bot">if <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b26be3e694314bc90c3215047e4a2010c6ee184a" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.339ex; height:2.176ex;" alt="{\displaystyle h}"></span> odd
</td></tr></tbody></table></dd></dl>
<p>nodes (<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lfloor \,\rfloor }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
        <mspace width="thinmathspace" />
        <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lfloor \,\rfloor }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3084289cca849fb18ec6407b9de5faa5846d8607" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:2.452ex; height:2.843ex;" alt="{\displaystyle \lfloor \,\rfloor }"></span> is the <a href="/wiki/Floor_and_ceiling_functions" title="Floor and ceiling functions">floor function</a>) and there is no red–black tree of this tree height with fewer nodes—therefore it is <b>minimal</b>.<br />Its black height is &#8201; <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lceil h/2\rceil }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo fence="false" stretchy="false">&#x2308;<!-- ⌈ --></mo>
        <mi>h</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>2</mn>
        <mo fence="false" stretchy="false">&#x2309;<!-- ⌉ --></mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lceil h/2\rceil }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6ab467b2409d6a03abd1eaea955a89b01ab11bc4" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:5.729ex; height:2.843ex;" alt="{\displaystyle \lceil h/2\rceil }"></span> &#8201; (with black root) or for odd <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b26be3e694314bc90c3215047e4a2010c6ee184a" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.339ex; height:2.176ex;" alt="{\displaystyle h}"></span> (then with a red root) also &#8201; <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (h-1)/2~.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <mi>h</mi>
        <mo>&#x2212;<!-- − --></mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>2</mn>
        <mtext>&#xA0;</mtext>
        <mo>.</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (h-1)/2~.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/624b37eb86422209805b5a7ae402623f34fe9516" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:10.704ex; height:2.843ex;" alt="{\displaystyle (h-1)/2~.}"></span>
</p>
<dl><dt>Proof</dt></dl>
<p>For a red–black tree of a certain height to have minimal number of nodes, it must have exactly one longest path with maximal number of red nodes, to achieve a maximal tree height with a minimal black height. Besides this path all other nodes have to be black.<sup id="cite&#95;ref-Algs4&#95;15-2" class="reference"><a href="#cite_note-Algs4-15"><span class="cite-bracket">&#91;</span>15<span class="cite-bracket">&#93;</span></a></sup><sup class="reference nowrap"><span title="Page / location: 444 Proof sketch">&#58;&#8202;444 Proof sketch&#8202;</span></sup> If a node is taken off this tree it either loses height or some RB property.
</p><p>The RB tree of height <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h=1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
        <mo>=</mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h=1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3d5d82ae0a834e0d0b839e2ea7a0f8eac0ee791d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:5.6ex; height:2.176ex;" alt="{\displaystyle h=1}"></span> with red root is minimal. This is in agreement with
</p>
<dl><dd><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{1}=2^{\lfloor (1+1)/2\rfloor }\!+\!2^{\lfloor 1/2\rfloor }\!\!-\!\!2=2^{1}\!+\!2^{0}\!\!-\!\!2=1~.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
            <mo stretchy="false">(</mo>
            <mn>1</mn>
            <mo>+</mo>
            <mn>1</mn>
            <mo stretchy="false">)</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
            <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
          </mrow>
        </msup>
        <mspace width="negativethinmathspace" />
        <mo>+</mo>
        <mspace width="negativethinmathspace" />
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
            <mn>1</mn>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
            <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
          </mrow>
        </msup>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mo>&#x2212;<!-- − --></mo>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mn>2</mn>
        <mo>=</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msup>
        <mspace width="negativethinmathspace" />
        <mo>+</mo>
        <mspace width="negativethinmathspace" />
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>0</mn>
          </mrow>
        </msup>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mo>&#x2212;<!-- − --></mo>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mn>2</mn>
        <mo>=</mo>
        <mn>1</mn>
        <mtext>&#xA0;</mtext>
        <mo>.</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{1}=2^{\lfloor (1+1)/2\rfloor }\!+\!2^{\lfloor 1/2\rfloor }\!\!-\!\!2=2^{1}\!+\!2^{0}\!\!-\!\!2=1~.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/30e23cc8c099a9f15af5d0b202fcbbd9f6bf61ff" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:42.276ex; height:3.176ex;" alt="{\displaystyle m_{1}=2^{\lfloor (1+1)/2\rfloor }\!+\!2^{\lfloor 1/2\rfloor }\!\!-\!\!2=2^{1}\!+\!2^{0}\!\!-\!\!2=1~.}"></span></dd></dl>
<p>A minimal RB tree (RB<sub><i>h</i></sub> in figure 2) of height <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h&gt;1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
        <mo>&gt;</mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h&gt;1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3df33213a54649226c03c8115b130c49170d0683" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:5.6ex; height:2.176ex;" alt="{\displaystyle h&gt;1}"></span> has a root whose two child subtrees are of different height. The higher child subtree is also a minimal RB tree, <span class="nowrap">RB<sub><i>h</i>–1</sub>,</span> containing also a longest path that defines its height <span class="nowrap"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h\!\!-\!\!1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mo>&#x2212;<!-- − --></mo>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h\!\!-\!\!1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/457b18f3a6b88195f73823276ea191f69975fbe3" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:3.793ex; height:2.343ex;" alt="{\displaystyle h\!\!-\!\!1}"></span>;</span> it has <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{h-1}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>h</mi>
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{h-1}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1edb81f036dd4ec5ed6234b26b2bb969e140fb5e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:5.32ex; height:2.009ex;" alt="{\displaystyle m_{h-1}}"></span> nodes and the black height <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \lfloor (h\!\!-\!\!1)/2\rfloor =:s.}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
        <mo stretchy="false">(</mo>
        <mi>h</mi>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mo>&#x2212;<!-- − --></mo>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>2</mn>
        <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
        <mo>=:</mo>
        <mi>s</mi>
        <mo>.</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lfloor (h\!\!-\!\!1)/2\rfloor =:s.}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e058a8d10edc0edb201b22f2e4b24455452d2519" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:15.475ex; height:2.843ex;" alt="{\displaystyle \lfloor (h\!\!-\!\!1)/2\rfloor =:s.}"></span> The other subtree is a <a href="/wiki/Binary_tree#Types_of_binary_trees" title="Binary tree">perfect binary tree</a> of (black) height <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>s</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/01d131dfd7673938b947072a13a9744fe997e632" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.09ex; height:1.676ex;" alt="{\displaystyle s}"></span> having <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 2^{s}\!\!-\!\!1=2^{\lfloor (h-1)/2\rfloor }\!\!-\!\!1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>s</mi>
          </mrow>
        </msup>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mo>&#x2212;<!-- − --></mo>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mn>1</mn>
        <mo>=</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
            <mo stretchy="false">(</mo>
            <mi>h</mi>
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
            <mo stretchy="false">)</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
            <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
          </mrow>
        </msup>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mo>&#x2212;<!-- − --></mo>
        <mspace width="negativethinmathspace" />
        <mspace width="negativethinmathspace" />
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 2^{s}\!\!-\!\!1=2^{\lfloor (h-1)/2\rfloor }\!\!-\!\!1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/5bf25348afb7233dd7a0f4d94f1128874424b09f" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:18.999ex; height:3.009ex;" alt="{\displaystyle 2^{s}\!\!-\!\!1=2^{\lfloor (h-1)/2\rfloor }\!\!-\!\!1}"></span> black nodes—and no red node. Then the number of nodes is by <a href="/wiki/Mathematical_induction" title="Mathematical induction">induction</a>
</p>
<table>

<tbody><tr>
<td style="width:1.0em;"></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{h}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>h</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{h}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8125d74e28bfab7418265ece96c1ea364924cb14" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:3.219ex; height:2.009ex;" alt="{\displaystyle m_{h}}"></span></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle =}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>=</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle =}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/505a4ceef454c69dffd23792c84b90f488543743" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: 0.307ex; margin-bottom: -0.478ex; width:1.808ex; height:1.343ex;" alt="{\displaystyle =}"></span></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (m_{h-1})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>h</mi>
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (m_{h-1})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f9c7c6238d1d63a5a01c0a529df696ee1c387a5d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:7.129ex; height:2.843ex;" alt="{\displaystyle (m_{h-1})}"></span></td>
<td style="width:4em;text-align:center;"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle +}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>+</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle +}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fe6ef363cd19902d1a7a71fb1c8b21e8ede52406" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:1.808ex; height:2.176ex;" alt="{\displaystyle +}"></span></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (1)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (1)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a25115739469707c4758b189fe310a750092a80a" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:2.972ex; height:2.843ex;" alt="{\displaystyle (1)}"></span></td>
<td style="width:4em;text-align:center;"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle +}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>+</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle +}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fe6ef363cd19902d1a7a71fb1c8b21e8ede52406" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:1.808ex; height:2.176ex;" alt="{\displaystyle +}"></span></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (2^{\lfloor (h-1)/2\rfloor }-1)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
            <mo stretchy="false">(</mo>
            <mi>h</mi>
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
            <mo stretchy="false">)</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
            <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
          </mrow>
        </msup>
        <mo>&#x2212;<!-- − --></mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (2^{\lfloor (h-1)/2\rfloor }-1)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f2da06f0224c47d78ea9c9d136eea85c35bbad57" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:14.638ex; height:3.343ex;" alt="{\displaystyle (2^{\lfloor (h-1)/2\rfloor }-1)}"></span>
</td></tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>(higher subtree)</td>
<td></td>
<td>(root)</td>
<td></td>
<td>(second subtree)
</td></tr>
<tr>
<td colspan="8">resulting in
</td></tr>
<tr>
<td></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{h}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>h</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{h}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8125d74e28bfab7418265ece96c1ea364924cb14" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:3.219ex; height:2.009ex;" alt="{\displaystyle m_{h}}"></span></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle =}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>=</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle =}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/505a4ceef454c69dffd23792c84b90f488543743" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: 0.307ex; margin-bottom: -0.478ex; width:1.808ex; height:1.343ex;" alt="{\displaystyle =}"></span></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (2^{\lfloor h/2\rfloor }+2^{\lfloor (h-1)/2\rfloor }-2)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
            <mi>h</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
            <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
          </mrow>
        </msup>
        <mo>+</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
            <mo stretchy="false">(</mo>
            <mi>h</mi>
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
            <mo stretchy="false">)</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
            <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
          </mrow>
        </msup>
        <mo>&#x2212;<!-- − --></mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (2^{\lfloor h/2\rfloor }+2^{\lfloor (h-1)/2\rfloor }-2)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8dec3e50772f8368dd541d82625fde74f035c034" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:22.923ex; height:3.343ex;" alt="{\displaystyle (2^{\lfloor h/2\rfloor }+2^{\lfloor (h-1)/2\rfloor }-2)}"></span></td>
<td style="text-align:center;"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle +}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>+</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle +}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fe6ef363cd19902d1a7a71fb1c8b21e8ede52406" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:1.808ex; height:2.176ex;" alt="{\displaystyle +}"></span></td>
<td colspan="2" style="text-align:right;"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 2^{\lfloor (h-1)/2\rfloor }}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
            <mo stretchy="false">(</mo>
            <mi>h</mi>
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
            <mo stretchy="false">)</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
            <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 2^{\lfloor (h-1)/2\rfloor }}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9cfcd8ddfb80d940a3b5e56fc4569b7a2309cf58" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:8.825ex; height:2.843ex;" alt="{\displaystyle 2^{\lfloor (h-1)/2\rfloor }}"></span>
</td></tr>
<tr>
<td></td>
<td></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle =}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>=</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle =}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/505a4ceef454c69dffd23792c84b90f488543743" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: 0.307ex; margin-bottom: -0.478ex; width:1.808ex; height:1.343ex;" alt="{\displaystyle =}"></span></td>
<td colspan="8"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 2^{\lfloor h/2\rfloor }+2^{\lfloor (h+1)/2\rfloor }-2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
            <mi>h</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
            <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
          </mrow>
        </msup>
        <mo>+</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo fence="false" stretchy="false">&#x230A;<!-- ⌊ --></mo>
            <mo stretchy="false">(</mo>
            <mi>h</mi>
            <mo>+</mo>
            <mn>1</mn>
            <mo stretchy="false">)</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
            <mo fence="false" stretchy="false">&#x230B;<!-- ⌋ --></mo>
          </mrow>
        </msup>
        <mo>&#x2212;<!-- − --></mo>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 2^{\lfloor h/2\rfloor }+2^{\lfloor (h+1)/2\rfloor }-2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d2510bfeed4ca7e4483bd09d45a37d5d47bdede7" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:21.114ex; height:3.009ex;" alt="{\displaystyle 2^{\lfloor h/2\rfloor }+2^{\lfloor (h+1)/2\rfloor }-2}"></span>&#160;&#160;■
</td></tr></tbody></table>
<p>The <a href="/wiki/Graph_of_a_function" title="Graph of a function">graph</a> of the function <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{h}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>h</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{h}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8125d74e28bfab7418265ece96c1ea364924cb14" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:3.219ex; height:2.009ex;" alt="{\displaystyle m_{h}}"></span> is <a href="/wiki/Convex_function" title="Convex function">convex</a> and <a href="/wiki/Piecewise_linear_function" title="Piecewise linear function">piecewise linear</a> with breakpoints at <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle (h=2k\;|\;m_{2k}=2\cdot 2^{k}\!-\!2)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo stretchy="false">(</mo>
        <mi>h</mi>
        <mo>=</mo>
        <mn>2</mn>
        <mi>k</mi>
        <mspace width="thickmathspace" />
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mspace width="thickmathspace" />
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
            <mi>k</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>2</mn>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msup>
        <mspace width="negativethinmathspace" />
        <mo>&#x2212;<!-- − --></mo>
        <mspace width="negativethinmathspace" />
        <mn>2</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle (h=2k\;|\;m_{2k}=2\cdot 2^{k}\!-\!2)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/3ce284b61162046ecc582488fff2f6d539cdfb75" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:25.929ex; height:3.176ex;" alt="{\displaystyle (h=2k\;|\;m_{2k}=2\cdot 2^{k}\!-\!2)}"></span> where <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle k\in \mathbb {N} .}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>k</mi>
        <mo>&#x2208;<!-- ∈ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mi mathvariant="double-struck">N</mi>
        </mrow>
        <mo>.</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle k\in \mathbb {N} .}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/7037847116113f919f4a73998f7466f9c0615a1b" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:6.377ex; height:2.176ex;" alt="{\displaystyle k\in \mathbb {N} .}"></span> The function has been tabulated as <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{h}=}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>h</mi>
          </mrow>
        </msub>
        <mo>=</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{h}=}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f80ecca43c17a8fb1a90622696612e6a5d0742a8" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:5.673ex; height:2.009ex;" alt="{\displaystyle m_{h}=}"></span> A027383(<i>h</i>–1) for <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h\geq 1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
        <mo>&#x2265;<!-- ≥ --></mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h\geq 1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0757ec4a3a583f5faf146a91bfbbf088253f112c" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:5.6ex; height:2.343ex;" alt="{\displaystyle h\geq 1}"></span> <span class="nowrap">(sequence <span class="nowrap external"><a href="//oeis.org/A027383" class="extiw" title="oeis:A027383">A027383</a></span> in the <a href="/wiki/On-Line_Encyclopedia_of_Integer_Sequences" title="On-Line Encyclopedia of Integer Sequences">OEIS</a>).</span>
</p>
<dl><dt>Solving the function for <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b26be3e694314bc90c3215047e4a2010c6ee184a" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.339ex; height:2.176ex;" alt="{\displaystyle h}"></span></dt></dl>
<p>The inequality <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 9&gt;8=2^{3}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>9</mn>
        <mo>&gt;</mo>
        <mn>8</mn>
        <mo>=</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 9&gt;8=2^{3}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9fc6aa3b743ffc4de7d75d22ec4e30b93ae86037" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:10.739ex; height:2.676ex;" alt="{\displaystyle 9&gt;8=2^{3}}"></span> leads to <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 3&gt;2^{3/2}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>3</mn>
        <mo>&gt;</mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>3</mn>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 3&gt;2^{3/2}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/289041b8c90d373cd5129f1c257ef854de064e4c" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:8.122ex; height:2.843ex;" alt="{\displaystyle 3&gt;2^{3/2}}"></span>, which for odd <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b26be3e694314bc90c3215047e4a2010c6ee184a" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.339ex; height:2.176ex;" alt="{\displaystyle h}"></span> leads to
</p>
<dl><dd><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{h}=3\cdot 2^{(h-1)/2}-2={\bigl (}3\cdot 2^{-3/2}{\bigr )}\cdot 2^{(h+2)/2}-2&gt;2\cdot 2^{h/2}-2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>h</mi>
          </mrow>
        </msub>
        <mo>=</mo>
        <mn>3</mn>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo stretchy="false">(</mo>
            <mi>h</mi>
            <mo>&#x2212;<!-- − --></mo>
            <mn>1</mn>
            <mo stretchy="false">)</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
          </mrow>
        </msup>
        <mo>&#x2212;<!-- − --></mo>
        <mn>2</mn>
        <mo>=</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-OPEN">
            <mo maxsize="1.2em" minsize="1.2em">(</mo>
          </mrow>
        </mrow>
        <mn>3</mn>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>&#x2212;<!-- − --></mo>
            <mn>3</mn>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
          </mrow>
        </msup>
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-CLOSE">
            <mo maxsize="1.2em" minsize="1.2em">)</mo>
          </mrow>
        </mrow>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mo stretchy="false">(</mo>
            <mi>h</mi>
            <mo>+</mo>
            <mn>2</mn>
            <mo stretchy="false">)</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
          </mrow>
        </msup>
        <mo>&#x2212;<!-- − --></mo>
        <mn>2</mn>
        <mo>&gt;</mo>
        <mn>2</mn>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>h</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo>/</mo>
            </mrow>
            <mn>2</mn>
          </mrow>
        </msup>
        <mo>&#x2212;<!-- − --></mo>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{h}=3\cdot 2^{(h-1)/2}-2={\bigl (}3\cdot 2^{-3/2}{\bigr )}\cdot 2^{(h+2)/2}-2&gt;2\cdot 2^{h/2}-2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/11105813afbd3e754a837dae4eb53795fdf60696" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:60.712ex; height:3.509ex;" alt="{\displaystyle m_{h}=3\cdot 2^{(h-1)/2}-2={\bigl (}3\cdot 2^{-3/2}{\bigr )}\cdot 2^{(h+2)/2}-2&gt;2\cdot 2^{h/2}-2}"></span>.</dd></dl>
<p>So in both, the even and the odd case, <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b26be3e694314bc90c3215047e4a2010c6ee184a" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.339ex; height:2.176ex;" alt="{\displaystyle h}"></span> is in the interval
</p>
<table>

<tbody><tr>
<td style="width:1.0em;"></td>
<td style="text-align:right;"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \log _{2}(n+1)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>log</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo>+</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \log _{2}(n+1)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2b6cf3670e9abb9beb47857d021a9041b5dd0d86" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:11.233ex; height:2.843ex;" alt="{\displaystyle \log _{2}(n+1)}"></span></td>
<td style="width:8em;text-align:center"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \leq h\leq }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2264;<!-- ≤ --></mo>
        <mi>h</mi>
        <mo>&#x2264;<!-- ≤ --></mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \leq h\leq }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e08ed3492f48a8378d27964ad456b9f3819cca02" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:6.246ex; height:2.343ex;" alt="{\displaystyle \leq h\leq }"></span></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 2\log _{2}(n+2)-2=2\log _{2}(n/2+1)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>2</mn>
        <msub>
          <mi>log</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo>+</mo>
        <mn>2</mn>
        <mo stretchy="false">)</mo>
        <mo>&#x2212;<!-- − --></mo>
        <mn>2</mn>
        <mo>=</mo>
        <mn>2</mn>
        <msub>
          <mi>log</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mn>2</mn>
        <mo>+</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 2\log _{2}(n+2)-2=2\log _{2}(n/2+1)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/f1abef9acd4fa5ebef2bf3a5f58eefd06336248c" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:34.991ex; height:2.843ex;" alt="{\displaystyle 2\log _{2}(n+2)-2=2\log _{2}(n/2+1)}"></span></td>
<td style="width:12em;text-align:right"><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\bigl [}&lt;2\log _{2}(n+1)\;{\bigr ]}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-OPEN">
            <mo maxsize="1.2em" minsize="1.2em">[</mo>
          </mrow>
        </mrow>
        <mo>&lt;</mo>
        <mn>2</mn>
        <msub>
          <mi>log</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo>+</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mspace width="thickmathspace" />
        <mrow class="MJX-TeXAtom-ORD">
          <mrow class="MJX-TeXAtom-CLOSE">
            <mo maxsize="1.2em" minsize="1.2em">]</mo>
          </mrow>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\bigl [}&lt;2\log _{2}(n+1)\;{\bigr ]}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a0c1043c587524d2a645896481b77387cb1ca96e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:18.465ex; height:3.176ex;" alt="{\displaystyle {\bigl [}&lt;2\log _{2}(n+1)\;{\bigr ]}}"></span>
</td></tr>
<tr>
<td></td>
<td>(perfect binary tree)</td>
<td></td>
<td style="text-align:left;">(minimal red–black tree)
</td></tr></tbody></table>
<p>with <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="{\displaystyle n}"></span> being the number of nodes.<sup id="cite&#95;ref-33" class="reference"><a href="#cite_note-33"><span class="cite-bracket">&#91;</span>33<span class="cite-bracket">&#93;</span></a></sup>
</p>
<dl><dt>Conclusion</dt></dl>
<p>A red–black tree with <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="{\displaystyle n}"></span> nodes (keys) has tree height <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h\in O(\log n).}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
        <mo>.</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h\in O(\log n).}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4ef0d66e05a531eac2823ef294cd01ff07908a5f" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:13.163ex; height:2.843ex;" alt="{\displaystyle h\in O(\log n).}"></span>
</p>
<div class="mw-heading mw-heading2"><h2 id="Set_operations_and_bulk_operations">Set operations and bulk operations</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=27" title="Edit section: Set operations and bulk operations"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>In addition to the single-element insert, delete and lookup operations, several set operations have been defined on <span class="nowrap">red–black trees:</span> <a href="/wiki/Union_(set_theory)" title="Union (set theory)">union</a>, <a href="/wiki/Intersection_(set_theory)" title="Intersection (set theory)">intersection</a> and <a href="/wiki/Set_difference" class="mw-redirect" title="Set difference">set difference</a>. Then fast <i>bulk</i> operations on insertions or deletions can be implemented based on these set functions. These set operations rely on two helper operations, <i>Split</i> and <i>Join</i>. With the new operations, the implementation of red–black trees can be more efficient and highly-parallelizable.<sup id="cite&#95;ref-join-based&#95;34-0" class="reference"><a href="#cite_note-join-based-34"><span class="cite-bracket">&#91;</span>34<span class="cite-bracket">&#93;</span></a></sup> In order to achieve its time complexities this implementation requires that the root is allowed to be either red or black, and that every node stores its own <b>black height</b>.
</p>
<ul><li><i>Join</i>: The function <i>Join</i> is on two red–black trees <span class="texhtml"><i>t</i><sub>1</sub></span> and <span class="texhtml"><i>t</i><sub>2</sub></span> and a key <span class="texhtml mvar" style="font-style:italic;">k</span>, where <span class="texhtml"><i>t</i><sub>1</sub> &lt; <i>k</i> &lt; <i>t</i><sub>2</sub></span>, i.e. all keys in <span class="texhtml"><i>t</i><sub>1</sub></span> are less than <span class="texhtml mvar" style="font-style:italic;">k</span>, and all keys in <span class="texhtml"><i>t</i><sub>2</sub></span> are greater than <span class="texhtml mvar" style="font-style:italic;">k</span>. It returns a tree containing all elements in <span class="texhtml"><i>t</i><sub>1</sub></span>, <span class="texhtml"><i>t</i><sub>2</sub></span> also as <span class="texhtml mvar" style="font-style:italic;">k</span>.</li></ul>
<dl><dd>If the two trees have the same black height, <i>Join</i> simply creates a new node with left subtree <span class="texhtml"><i>t</i><sub>1</sub></span>, root <span class="texhtml mvar" style="font-style:italic;">k</span> and right subtree <span class="texhtml"><i>t</i><sub>2</sub></span>. If both <span class="texhtml"><i>t</i><sub>1</sub></span> and <span class="texhtml"><i>t</i><sub>2</sub></span> have black root, set <span class="texhtml mvar" style="font-style:italic;">k</span> to be red. Otherwise <span class="texhtml mvar" style="font-style:italic;">k</span> is set black.</dd>
<dd>If the black heights are unequal, suppose that <span class="texhtml"><i>t</i><sub>1</sub></span> has larger black height than <span class="texhtml"><i>t</i><sub>2</sub></span> (the other case is symmetric). <i>Join</i> follows the right spine of <span class="texhtml"><i>t</i><sub>1</sub></span> until a black node <span class="texhtml mvar" style="font-style:italic;">c</span>, which is balanced with <span class="texhtml"><i>t</i><sub>2</sub></span>. At this point a new node with left child <span class="texhtml mvar" style="font-style:italic;">c</span>, root <span class="texhtml mvar" style="font-style:italic;">k</span> (set to be red) and right child <span class="texhtml"><i>t</i><sub>2</sub></span> is created to replace c. The new node may invalidate the red–black invariant because at most three red nodes can appear in a row. This can be fixed with a double rotation. If double red issue propagates to the root, the root is then set to be black, restoring the properties. The cost of this function is the difference of the black heights between the two input trees.</dd></dl>
<ul><li><i>Split</i>: To split a red–black tree into two smaller trees, those smaller than key <span class="texhtml mvar" style="font-style:italic;">x</span>, and those larger than key <span class="texhtml mvar" style="font-style:italic;">x</span>, first draw a path from the root by inserting <span class="texhtml mvar" style="font-style:italic;">x</span> into the red–black tree. After this insertion, all values less than <span class="texhtml mvar" style="font-style:italic;">x</span> will be found on the left of the path, and all values greater than <span class="texhtml mvar" style="font-style:italic;">x</span> will be found on the right. By applying <i>Join</i>, all the subtrees on the left side are merged bottom-up using keys on the path as intermediate nodes from bottom to top to form the left tree, and the right part is symmetric.</li></ul>
<dl><dd>For some applications, <i>Split</i> also returns a Boolean value denoting if <span class="texhtml mvar" style="font-style:italic;">x</span> appears in the tree. The cost of <i>Split</i> is <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log n),}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log n),}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d698e277a7d13ddd8b334d95be0e73986fd0cb64" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.983ex; height:2.843ex;" alt="{\displaystyle O(\log n),}"></span> order of the height of the tree. This algorithm actually has nothing to do with any special properties of a red–black tree, and may be used on any tree with a <i>join</i> operation, such as an <a href="/wiki/AVL_tree" title="AVL tree">AVL tree</a>.</dd></dl>
<p>The join algorithm is as follows:
</p>
<pre><b>function</b> joinRightRB(T<sub>L</sub>, k, T<sub>R</sub>):
    <b>if</b> (T<sub>L</sub>.color=black) and (T<sub>L</sub>.blackHeight=T<sub>R</sub>.blackHeight):
        <b>return</b> Node(T<sub>L</sub>,⟨k,red⟩,T<sub>R</sub>)
    T'=Node(T<sub>L</sub>.left,⟨T<sub>L</sub>.key,T<sub>L</sub>.color⟩,joinRightRB(T<sub>L</sub>.right,k,T<sub>R</sub>))
    <b>if</b> (T<sub>L</sub>.color=black) and (T'.right.color=T'.right.right.color=red):
        T'.right.right.color=black;
        <b>return</b> rotateLeft(T')
    <b>return</b> T' /* T<span style="padding-right:.15em;">'</span>'[recte T'] */

<b>function</b> joinLeftRB(T<sub>L</sub>, k, T<sub>R</sub>):
  /* symmetric to joinRightRB */

<b>function</b> join(T<sub>L</sub>, k, T<sub>R</sub>):
    <b>if</b> T<sub>L</sub>.blackHeight&gt;T<sub>R</sub>.blackHeight:
        T'=joinRightRB(T<sub>L</sub>,k,T<sub>R</sub>)
        <b>if</b> (T'.color=red) and (T'.right.color=red):
            T'.color=black
        <b>return</b> T'
    <b>if</b> T<sub>R</sub>.blackHeight&gt;T<sub>L</sub>.blackHeight:
        /* symmetric */
    <b>if</b> (T<sub>L</sub>.color=black) and (T<sub>R</sub>.color=black):
        <b>return</b> Node(T<sub>L</sub>,⟨k,red⟩,T<sub>R</sub>)
    <b>return</b> Node(T<sub>L</sub>,⟨k,black⟩,T<sub>R</sub>)
</pre>
<p>The split algorithm is as follows:
</p>
<pre><b>function</b> split(T, k):
    <b>if</b> (T = NULL) <b>return</b> (NULL, false, NULL)
    <b>if</b> (k = T.key) <b>return</b> (T.left, true, T.right)
    <b>if</b> (k &lt; T.key):
        (L',b,R') = split(T.left, k)
        <b>return</b> (L',b,join(R',T.key,T.right))
    (L',b,R') = split(T.right, k)
    <b>return</b> (join(T.left,T.key,L'),b,R')
</pre>
<p>The union of two red–black trees <span class="texhtml"><i>t</i><sub>1</sub></span> and <span class="texhtml"><i>t</i><sub>2</sub></span> representing sets <span class="texhtml mvar" style="font-style:italic;">A</span> and <span class="texhtml mvar" style="font-style:italic;">B</span>, is a red–black tree <span class="texhtml mvar" style="font-style:italic;">t</span> that represents <span class="texhtml"><i>A</i> ∪ <i>B</i></span>. The following recursive function computes this union:
</p>
<pre><b>function</b> union(t<sub>1</sub>, t<sub>2</sub>):
    <b>if</b> t<sub>1</sub> = NULL <b>return</b> t<sub>2</sub>
    <b>if</b> t<sub>2</sub> = NULL <b>return</b> t<sub>1</sub>
    (L<sub>1</sub>,b,R<sub>1</sub>)=split(t<sub>1</sub>,t<sub>2</sub>.key)
    proc1=<b>start</b>:
        T<sub>L</sub>=union(L<sub>1</sub>,t<sub>2</sub>.left)
    proc2=<b>start</b>:
        T<sub>R</sub>=union(R<sub>1</sub>,t<sub>2</sub>.right)
    <b>wait all</b> proc1,proc2
    <b>return</b> join(T<sub>L</sub>, t<sub>2</sub>.key, T<sub>R</sub>)
</pre>
<p>Here, <i>split</i> is presumed to return two trees: one holding the keys less its input key, one holding the greater keys. (The algorithm is <a href="/wiki/Persistent_data_structure" title="Persistent data structure">non-destructive</a>, but an in-place destructive version exists also.)
</p><p>The algorithm for intersection or difference is similar, but requires the <i>Join2</i> helper routine that is the same as <i>Join</i> but without the middle key. Based on the new functions for union, intersection or difference, either one key or multiple keys can be inserted to or deleted from the red–black tree. Since <i>Split</i> calls <i>Join</i> but does not deal with the balancing criteria of red–black trees directly, such an implementation is usually called the <a href="/wiki/Join-based_tree_algorithms" title="Join-based tree algorithms">"join-based" implementation</a>.
</p><p>The complexity of each of union, intersection and difference is <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O\left(m\log \left({n \over m}+1\right)\right)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>m</mi>
            <mi>log</mi>
            <mo>&#x2061;<!-- ⁡ --></mo>
            <mrow>
              <mo>(</mo>
              <mrow>
                <mrow class="MJX-TeXAtom-ORD">
                  <mfrac>
                    <mi>n</mi>
                    <mi>m</mi>
                  </mfrac>
                </mrow>
                <mo>+</mo>
                <mn>1</mn>
              </mrow>
              <mo>)</mo>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O\left(m\log \left({n \over m}+1\right)\right)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0cd2f7cee37ecf49ccaf8ef28ee006cb55f6b95b" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.838ex; width:19.99ex; height:4.843ex;" alt="{\displaystyle O\left(m\log \left({n \over m}+1\right)\right)}"></span> for two red–black trees of sizes <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a07d98bb302f3856cbabc47b2b9016692e3f7bc" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:2.04ex; height:1.676ex;" alt="{\displaystyle m}"></span> and <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n(\geq m)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mo stretchy="false">(</mo>
        <mo>&#x2265;<!-- ≥ --></mo>
        <mi>m</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n(\geq m)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8999105a5cf1555933b40c34c91d4a78a3c9b487" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:7.698ex; height:2.843ex;" alt="{\displaystyle n(\geq m)}"></span>. This complexity is optimal in terms of the number of comparisons. More importantly, since the recursive calls to union, intersection or difference are independent of each other, they can be executed <a href="/wiki/Parallel_programming" class="mw-redirect" title="Parallel programming">in parallel</a> with a <a href="/wiki/Analysis_of_parallel_algorithms" title="Analysis of parallel algorithms">parallel depth</a> <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log m\log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>m</mi>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log m\log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b79240ec677da2c426ef4db2f50ff29a86cc233c" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:14.123ex; height:2.843ex;" alt="{\displaystyle O(\log m\log n)}"></span>.<sup id="cite&#95;ref-join-based&#95;34-1" class="reference"><a href="#cite_note-join-based-34"><span class="cite-bracket">&#91;</span>34<span class="cite-bracket">&#93;</span></a></sup> When <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m=1}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
        <mo>=</mo>
        <mn>1</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m=1}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b6100c5ebd48c6fd848709f2be624465203eb173" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:6.301ex; height:2.176ex;" alt="{\displaystyle m=1}"></span>, the join-based implementation has the same computational <a href="/wiki/Directed_acyclic_graph" title="Directed acyclic graph">directed acyclic graph</a> (DAG) as single-element insertion and deletion if the root of the larger tree is used to split the smaller tree.
</p>
<div class="mw-heading mw-heading2"><h2 id="Parallel_algorithms">Parallel algorithms</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=28" title="Edit section: Parallel algorithms"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Parallel algorithms for constructing red–black trees from sorted lists of items can run in constant time or <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log \log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log \log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a9f3ded7e013a35c8039ff3276bee6e183d7f1a7" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:11.695ex; height:2.843ex;" alt="{\displaystyle O(\log \log n)}"></span> time, depending on the computer model, if the number of processors available is asymptotically proportional to the number <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="{\displaystyle n}"></span> of items where <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n\to \infty }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mo stretchy="false">&#x2192;<!-- → --></mo>
        <mi mathvariant="normal">&#x221E;<!-- ∞ --></mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n\to \infty }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a0d55d9b32f6fa8fab6a84ea444a6b5a24bb45e1" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:7.333ex; height:1.843ex;" alt="{\displaystyle n\to \infty }"></span>. Fast search, insertion, and deletion parallel algorithms are also known.<sup id="cite&#95;ref-35" class="reference"><a href="#cite_note-35"><span class="cite-bracket">&#91;</span>35<span class="cite-bracket">&#93;</span></a></sup>
</p><p>The <a href="/wiki/Join-based_tree_algorithms" title="Join-based tree algorithms">join-based algorithms</a> for red–black trees are parallel for bulk operations, including union, intersection, construction, filter, map-reduce, and so on.
</p>
<div class="mw-heading mw-heading3"><h3 id="Parallel_bulk_operations">Parallel bulk operations</h3><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=29" title="Edit section: Parallel bulk operations"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Basic operations like insertion, removal or update can be parallelised by defining operations that process bulks of multiple elements. It is also possible to process bulks with several basic operations, for example bulks may contain elements to insert and also elements to remove from the tree.
</p><p>The algorithms for bulk operations aren't just applicable to the red–black tree, but can be adapted to other sorted sequence data structures also, like the <a href="/wiki/2%E2%80%933_tree" title="2–3 tree">2–3 tree</a>, <a href="/wiki/2%E2%80%933%E2%80%934_tree" title="2–3–4 tree">2–3–4 tree</a> and <a href="/wiki/(a,b)-tree" class="mw-redirect" title="(a,b)-tree">(a,b)-tree</a>. In the following different algorithms for bulk insert will be explained, but the same algorithms can also be applied to removal and update. Bulk insert is an operation that inserts each element of a sequence <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle I}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>I</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle I}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/535ea7fc4134a31cbe2251d9d3511374bc41be9f" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.172ex; height:2.176ex;" alt="{\displaystyle I}"></span> into a tree <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle T}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>T</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle T}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ec7200acd984a1d3a3d7dc455e262fbe54f7f6e0" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.636ex; height:2.176ex;" alt="{\displaystyle T}"></span>.
</p>
<div class="mw-heading mw-heading4"><h4 id="Join-based">Join-based</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=30" title="Edit section: Join-based"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>This approach can be applied to every sorted sequence data structure that supports efficient join- and split-operations.<sup id="cite&#95;ref-36" class="reference"><a href="#cite_note-36"><span class="cite-bracket">&#91;</span>36<span class="cite-bracket">&#93;</span></a></sup>
The general idea is to split <span class="texhtml mvar" style="font-style:italic;">I</span> and <span class="texhtml mvar" style="font-style:italic;">T</span> in multiple parts and perform the insertions on these parts in parallel.
</p>
<ol><li>First the bulk <span class="texhtml mvar" style="font-style:italic;">I</span> of elements to insert must be sorted.</li>
<li>After that, the algorithm splits <span class="texhtml mvar" style="font-style:italic;">I</span> into <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle k\in \mathbb {N} ^{+}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>k</mi>
        <mo>&#x2208;<!-- ∈ --></mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">N</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>+</mo>
          </mrow>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle k\in \mathbb {N} ^{+}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6c8abd3366b703d9dc620115174fe692aeb5ded4" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:7.241ex; height:2.509ex;" alt="{\displaystyle k\in \mathbb {N} ^{+}}"></span> parts <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \langle I_{1},\cdots ,I_{k}\rangle }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo fence="false" stretchy="false">&#x27E8;<!-- ⟨ --></mo>
        <msub>
          <mi>I</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>,</mo>
        <mo>&#x22EF;<!-- ⋯ --></mo>
        <mo>,</mo>
        <msub>
          <mi>I</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo fence="false" stretchy="false">&#x27E9;<!-- ⟩ --></mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \langle I_{1},\cdots ,I_{k}\rangle }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1ce29ad08fbed606cec3c147cecccb40eae2fc70" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:11.177ex; height:2.843ex;" alt="{\displaystyle \langle I_{1},\cdots ,I_{k}\rangle }"></span> of about equal sizes.</li>
<li>Next the tree <span class="texhtml mvar" style="font-style:italic;">T</span> must be split into <span class="texhtml mvar" style="font-style:italic;">k</span> parts <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \langle T_{1},\cdots ,T_{k}\rangle }">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo fence="false" stretchy="false">&#x27E8;<!-- ⟨ --></mo>
        <msub>
          <mi>T</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>,</mo>
        <mo>&#x22EF;<!-- ⋯ --></mo>
        <mo>,</mo>
        <msub>
          <mi>T</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msub>
        <mo fence="false" stretchy="false">&#x27E9;<!-- ⟩ --></mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \langle T_{1},\cdots ,T_{k}\rangle }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9a790afd93ad6b4f84edea3111d12beecf93f00f" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:11.846ex; height:2.843ex;" alt="{\displaystyle \langle T_{1},\cdots ,T_{k}\rangle }"></span> in a way, so that the ranges of <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle I_{m}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>I</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>m</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle I_{m}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/825a86a19a0ca0180993dfe3dde997e57c5bd30a" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:2.698ex; height:2.509ex;" alt="{\displaystyle I_{m}}"></span> and <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle T_{n}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>T</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle T_{n}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/4d9241493be76739f2400f258f32c24f9689161f" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.671ex; width:2.576ex; height:2.509ex;" alt="{\displaystyle T_{n}}"></span> overlap for corresponding parts only (<span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m=n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>m</mi>
        <mo>=</mo>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m=n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/69c9d8e54796e7de7d4738510cc10bc3fc55d48e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:6.534ex; height:1.676ex;" alt="{\displaystyle m=n}"></span>); in other words, thanks to the ordering, for every <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle j\in \mathbb {N} ^{+}|\,1\leq j&lt;k}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>j</mi>
        <mo>&#x2208;<!-- ∈ --></mo>
        <msup>
          <mrow class="MJX-TeXAtom-ORD">
            <mi mathvariant="double-struck">N</mi>
          </mrow>
          <mrow class="MJX-TeXAtom-ORD">
            <mo>+</mo>
          </mrow>
        </msup>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mspace width="thinmathspace" />
        <mn>1</mn>
        <mo>&#x2264;<!-- ≤ --></mo>
        <mi>j</mi>
        <mo>&lt;</mo>
        <mi>k</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle j\in \mathbb {N} ^{+}|\,1\leq j&lt;k}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ebcf0163612ff9a0e01e7f9986fa67a81af8b69f" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; margin-left: -0.027ex; width:17.577ex; height:3.009ex;" alt="{\displaystyle j\in \mathbb {N} ^{+}|\,1\leq j&lt;k}"></span> following constraints hold:
<ol><li><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\text{last}}(I_{j})&lt;{\text{first}}(T_{j+1})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtext>last</mtext>
        </mrow>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>I</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>j</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>&lt;</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mtext>first</mtext>
        </mrow>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>T</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>j</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\text{last}}(I_{j})&lt;{\text{first}}(T_{j+1})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c1b71d729dc4e58bf17ae09de7a16e7e1761cc8e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:20.739ex; height:3.009ex;" alt="{\displaystyle {\text{last}}(I_{j})&lt;{\text{first}}(T_{j+1})}"></span></li>
<li><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle {\text{last}}(T_{j})&lt;{\text{first}}(I_{j+1})}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mtext>last</mtext>
        </mrow>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>T</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>j</mi>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
        <mo>&lt;</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mtext>first</mtext>
        </mrow>
        <mo stretchy="false">(</mo>
        <msub>
          <mi>I</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>j</mi>
            <mo>+</mo>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle {\text{last}}(T_{j})&lt;{\text{first}}(I_{j+1})}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ea8ee23dcd957da50696ad1c86d69af56bcc84fb" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:20.739ex; height:3.009ex;" alt="{\displaystyle {\text{last}}(T_{j})&lt;{\text{first}}(I_{j+1})}"></span></li></ol></li>
<li>Now the algorithm inserts each element of <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle I_{j}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>I</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>j</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle I_{j}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b7cb04680c2246f78082e43ec912f72afe7af266" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:1.933ex; height:2.843ex;" alt="{\displaystyle I_{j}}"></span> into <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle T_{j}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>T</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>j</mi>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle T_{j}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/27cdb9041c8aa769beb9153a48f41002297faacc" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:2.267ex; height:2.843ex;" alt="{\displaystyle T_{j}}"></span> sequentially. This step must be performed for every <span class="texhtml mvar" style="font-style:italic;">j</span>, which can be done by up to <span class="texhtml mvar" style="font-style:italic;">k</span> processors in parallel.</li>
<li>Finally, the resulting trees will be joined to form the final result of the entire operation.</li></ol>
<p>Note that in Step 3 the constraints for splitting <span class="texhtml mvar" style="font-style:italic;">I</span> assure that in Step 5 the trees can be joined again and the resulting sequence is sorted.
</p>
<ul class="gallery mw-gallery-traditional" style="max-width: 886px;">
		<li class="gallerybox" style="width: 435px">
			<div class="thumb" style="width: 430px; height: 280px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_JoinBased_InitialTree.svg" class="mw-file-description" title="initial tree"><img alt="initial tree" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/78/BulkInsert_JoinBased_InitialTree.svg/500px-BulkInsert_JoinBased_InitialTree.svg.png" decoding="async" width="400" height="200" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/7/78/BulkInsert_JoinBased_InitialTree.svg/960px-BulkInsert_JoinBased_InitialTree.svg.png 1.5x" data-file-width="625" data-file-height="313" /></a></span></div>
			<div class="gallerytext">initial tree</div>
		</li>
		<li class="gallerybox" style="width: 435px">
			<div class="thumb" style="width: 430px; height: 280px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_JoinBased_SplitTree.svg" class="mw-file-description" title="split I and T"><img alt="split I and T" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/69/BulkInsert_JoinBased_SplitTree.svg/500px-BulkInsert_JoinBased_SplitTree.svg.png" decoding="async" width="400" height="200" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/69/BulkInsert_JoinBased_SplitTree.svg/960px-BulkInsert_JoinBased_SplitTree.svg.png 1.5x" data-file-width="625" data-file-height="313" /></a></span></div>
			<div class="gallerytext">split I and T</div>
		</li>
		<li class="gallerybox" style="width: 435px">
			<div class="thumb" style="width: 430px; height: 280px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_JoinBased_SplitTreeInserted.svg" class="mw-file-description" title="insert into the split T"><img alt="insert into the split T" src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c8/BulkInsert_JoinBased_SplitTreeInserted.svg/500px-BulkInsert_JoinBased_SplitTreeInserted.svg.png" decoding="async" width="400" height="187" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/c/c8/BulkInsert_JoinBased_SplitTreeInserted.svg/960px-BulkInsert_JoinBased_SplitTreeInserted.svg.png 1.5x" data-file-width="612" data-file-height="286" /></a></span></div>
			<div class="gallerytext">insert into the split T</div>
		</li>
		<li class="gallerybox" style="width: 435px">
			<div class="thumb" style="width: 430px; height: 280px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_JoinBased_JoinedTree.svg" class="mw-file-description" title="join T"><img alt="join T" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/69/BulkInsert_JoinBased_JoinedTree.svg/500px-BulkInsert_JoinBased_JoinedTree.svg.png" decoding="async" width="400" height="200" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/69/BulkInsert_JoinBased_JoinedTree.svg/960px-BulkInsert_JoinBased_JoinedTree.svg.png 1.5x" data-file-width="625" data-file-height="313" /></a></span></div>
			<div class="gallerytext">join T</div>
		</li>
</ul>
<p>The pseudo code shows a simple divide-and-conquer implementation of the join-based algorithm for bulk-insert.
Both recursive calls can be executed in parallel.
The join operation used here differs from the version explained in this article, instead <a href="/wiki/Join-based_tree_algorithms#Join2" title="Join-based tree algorithms">join2</a> is used, which misses the second parameter k.
</p>
<pre><b>bulkInsert</b>(T, I, k):
    I.sort()
    bulklInsertRec(T, I, k)

<b>bulkInsertRec</b>(T, I, k):
    <b>if</b> k = 1:
        <b>forall</b> e <b>in</b> I: T.insert(e)
    <b>else</b>
        m&#160;:= ⌊size(I) / 2⌋
        (T<sub>1</sub>, _, T<sub>2</sub>)&#160;:= split(T, I[m])
        bulkInsertRec(T<sub>1</sub>, I[0 .. m], ⌈k / 2⌉)
            || bulkInsertRec(T<sub>2</sub>, I[m + 1 .. size(I) - 1], ⌊k / 2⌋)
        T ← join2(T<sub>1</sub>, T<sub>2</sub>)
</pre>
<div class="mw-heading mw-heading5"><h5 id="Execution_time">Execution time</h5><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=31" title="Edit section: Execution time"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Sorting <span class="texhtml mvar" style="font-style:italic;">I</span> is not considered in this analysis.
</p>
<dl><dd><table>

<tbody><tr>
<td>#recursion levels</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(\log k)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>k</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(\log k)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/91dc9d45c1217d00379c59719e5d7d253a3519f9" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:10.348ex; height:2.843ex;" alt="{\displaystyle \in O(\log k)}"></span>
</td></tr>
<tr>
<td>T(split) + T(join)</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fc333611d8c200a69a7eefad86d42fcee9cff5d5" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:12.067ex; height:2.843ex;" alt="{\displaystyle \in O(\log |T|)}"></span>
</td></tr>
<tr>
<td>insertions per thread</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O\left({\frac {|I|}{k}}\right)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mrow>
          <mo>(</mo>
          <mrow class="MJX-TeXAtom-ORD">
            <mfrac>
              <mrow>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo stretchy="false">|</mo>
                </mrow>
                <mi>I</mi>
                <mrow class="MJX-TeXAtom-ORD">
                  <mo stretchy="false">|</mo>
                </mrow>
              </mrow>
              <mi>k</mi>
            </mfrac>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O\left({\frac {|I|}{k}}\right)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0a3d3e6467e257ead7e32d06f511ef29369c4915" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -2.505ex; width:11.079ex; height:6.343ex;" alt="{\displaystyle \in O\left({\frac {|I|}{k}}\right)}"></span>
</td></tr>
<tr>
<td>T(insert)</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fc333611d8c200a69a7eefad86d42fcee9cff5d5" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:12.067ex; height:2.843ex;" alt="{\displaystyle \in O(\log |T|)}"></span>
</td></tr>
<tr>
<td><span class="nowrap"><b>T(bulkInsert) with <span class="texhtml mvar" style="font-style:italic;">k</span> = #processors</b></span></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O\left(\log k\log |T|+{\frac {|I|}{k}}\log |T|\right)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>log</mi>
            <mo>&#x2061;<!-- ⁡ --></mo>
            <mi>k</mi>
            <mi>log</mi>
            <mo>&#x2061;<!-- ⁡ --></mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo stretchy="false">|</mo>
            </mrow>
            <mi>T</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo stretchy="false">|</mo>
            </mrow>
            <mo>+</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mfrac>
                <mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mo stretchy="false">|</mo>
                  </mrow>
                  <mi>I</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mo stretchy="false">|</mo>
                  </mrow>
                </mrow>
                <mi>k</mi>
              </mfrac>
            </mrow>
            <mi>log</mi>
            <mo>&#x2061;<!-- ⁡ --></mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo stretchy="false">|</mo>
            </mrow>
            <mi>T</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo stretchy="false">|</mo>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O\left(\log k\log |T|+{\frac {|I|}{k}}\log |T|\right)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/eae5b656b733f4188e3f29155168a7d50078e348" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -2.505ex; width:31.841ex; height:6.343ex;" alt="{\displaystyle \in O\left(\log k\log |T|+{\frac {|I|}{k}}\log |T|\right)}"></span>
</td></tr></tbody></table></dd></dl>
<p>This can be improved by using parallel algorithms for splitting and joining.
In this case the execution time is <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O\left(\log |T|+{\frac {|I|}{k}}\log |T|\right)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mrow>
          <mo>(</mo>
          <mrow>
            <mi>log</mi>
            <mo>&#x2061;<!-- ⁡ --></mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo stretchy="false">|</mo>
            </mrow>
            <mi>T</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo stretchy="false">|</mo>
            </mrow>
            <mo>+</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mfrac>
                <mrow>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mo stretchy="false">|</mo>
                  </mrow>
                  <mi>I</mi>
                  <mrow class="MJX-TeXAtom-ORD">
                    <mo stretchy="false">|</mo>
                  </mrow>
                </mrow>
                <mi>k</mi>
              </mfrac>
            </mrow>
            <mi>log</mi>
            <mo>&#x2061;<!-- ⁡ --></mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mo stretchy="false">|</mo>
            </mrow>
            <mi>T</mi>
            <mrow class="MJX-TeXAtom-ORD">
              <mo stretchy="false">|</mo>
            </mrow>
          </mrow>
          <mo>)</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O\left(\log |T|+{\frac {|I|}{k}}\log |T|\right)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/536948661f840517e2ed25d8b147cf435de56561" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -2.505ex; width:26.884ex; height:6.343ex;" alt="{\displaystyle \in O\left(\log |T|+{\frac {|I|}{k}}\log |T|\right)}"></span>.<sup id="cite&#95;ref-37" class="reference"><a href="#cite_note-37"><span class="cite-bracket">&#91;</span>37<span class="cite-bracket">&#93;</span></a></sup>
</p>
<div class="mw-heading mw-heading5"><h5 id="Work">Work</h5><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=32" title="Edit section: Work"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<dl><dd><table>

<tbody><tr>
<td>#splits, #joins</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(k)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>k</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(k)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e69ae4a8a037d2c6a9817f9b12ceb4daadcc7e4d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:6.989ex; height:2.843ex;" alt="{\displaystyle \in O(k)}"></span>
</td></tr>
<tr>
<td>W(split) + W(join)</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fc333611d8c200a69a7eefad86d42fcee9cff5d5" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:12.067ex; height:2.843ex;" alt="{\displaystyle \in O(\log |T|)}"></span>
</td></tr>
<tr>
<td>#insertions</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(|I|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(|I|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/99a53322f6b3ed859f9ab86718ea070677723c9f" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.244ex; height:2.843ex;" alt="{\displaystyle \in O(|I|)}"></span>
</td></tr>
<tr>
<td>W(insert)</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fc333611d8c200a69a7eefad86d42fcee9cff5d5" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:12.067ex; height:2.843ex;" alt="{\displaystyle \in O(\log |T|)}"></span>
</td></tr>
<tr>
<td><b>W(bulkInsert)</b></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(k\log |T|+|I|\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>k</mi>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo>+</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(k\log |T|+|I|\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d4a7b31e17730261147bbb2f3ae14b8eec3203e0" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:25.647ex; height:2.843ex;" alt="{\displaystyle \in O(k\log |T|+|I|\log |T|)}"></span>
</td></tr></tbody></table></dd></dl>
<div class="mw-heading mw-heading4"><h4 id="Pipelining">Pipelining</h4><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=33" title="Edit section: Pipelining"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Another method of parallelizing bulk operations is to use a <a href="/wiki/Pipeline_(computing)" title="Pipeline (computing)">pipelining</a> approach.<sup id="cite&#95;ref-38" class="reference"><a href="#cite_note-38"><span class="cite-bracket">&#91;</span>38<span class="cite-bracket">&#93;</span></a></sup>
This can be done by breaking the task of processing a basic operation up into a sequence of subtasks.
For multiple basic operations the subtasks can be processed in parallel by assigning each subtask to a separate processor.
</p>
<ol><li>First the bulk <span class="texhtml mvar" style="font-style:italic;">I</span> of elements to insert must be sorted.</li>
<li>For each element in <span class="texhtml mvar" style="font-style:italic;">I</span> the algorithm locates the according insertion position in <span class="texhtml mvar" style="font-style:italic;">T</span>. This can be done in parallel for each element <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in I}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>I</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in I}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/115150f88cabd4b520dc0251c17fe061dc4d9897" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:3.367ex; height:2.176ex;" alt="{\displaystyle \in I}"></span> since <span class="texhtml mvar" style="font-style:italic;">T</span> won't be mutated in this process. Now <span class="texhtml mvar" style="font-style:italic;">I</span> must be divided into subsequences <span class="texhtml mvar" style="font-style:italic;">S</span> according to the insertion position of each element. For example <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{n,{\mathit {left}}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
            <mo>,</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <mi class="MJX-tex-mathit" mathvariant="italic">l</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">e</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">f</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">t</mi>
              </mrow>
            </mrow>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{n,{\mathit {left}}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c7268d90e4ad5f06166867efe8de95be0086766d" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:4.995ex; height:2.343ex;" alt="{\displaystyle s_{n,{\mathit {left}}}}"></span> is the subsequence of <span class="texhtml mvar" style="font-style:italic;">I</span> that contains the elements whose insertion position would be to the left of node <span class="texhtml mvar" style="font-style:italic;">n</span>.</li>
<li>The middle element <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{n,{\mathit {dir}}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
            <mo>,</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <mi class="MJX-tex-mathit" mathvariant="italic">d</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">i</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">r</mi>
              </mrow>
            </mrow>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{n,{\mathit {dir}}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bff172765423252c4e5d89983180604e6ce223ed" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:5.755ex; height:2.343ex;" alt="{\displaystyle m_{n,{\mathit {dir}}}}"></span> of every subsequence <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{n,{\mathit {dir}}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
            <mo>,</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <mi class="MJX-tex-mathit" mathvariant="italic">d</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">i</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">r</mi>
              </mrow>
            </mrow>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{n,{\mathit {dir}}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1ff5967e5cddb49c4187a7d5725d8a9929101c60" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:4.805ex; height:2.343ex;" alt="{\displaystyle s_{n,{\mathit {dir}}}}"></span> will be inserted into <span class="texhtml mvar" style="font-style:italic;">T</span> as a new node <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n'}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msup>
          <mi>n</mi>
          <mo>&#x2032;</mo>
        </msup>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n'}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d215ec5b3d3b48ac8ec46e7131e7b3c091c9114e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:2.079ex; height:2.509ex;" alt="{\displaystyle n&#039;}"></span>. This can be done in parallel for each <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{n,{\mathit {dir}}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
            <mo>,</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <mi class="MJX-tex-mathit" mathvariant="italic">d</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">i</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">r</mi>
              </mrow>
            </mrow>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{n,{\mathit {dir}}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bff172765423252c4e5d89983180604e6ce223ed" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:5.755ex; height:2.343ex;" alt="{\displaystyle m_{n,{\mathit {dir}}}}"></span> since by definition the insertion position of each <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{n,{\mathit {dir}}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
            <mo>,</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <mi class="MJX-tex-mathit" mathvariant="italic">d</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">i</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">r</mi>
              </mrow>
            </mrow>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{n,{\mathit {dir}}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bff172765423252c4e5d89983180604e6ce223ed" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:5.755ex; height:2.343ex;" alt="{\displaystyle m_{n,{\mathit {dir}}}}"></span> is unique. If <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{n,{\mathit {dir}}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
            <mo>,</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <mi class="MJX-tex-mathit" mathvariant="italic">d</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">i</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">r</mi>
              </mrow>
            </mrow>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{n,{\mathit {dir}}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/1ff5967e5cddb49c4187a7d5725d8a9929101c60" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:4.805ex; height:2.343ex;" alt="{\displaystyle s_{n,{\mathit {dir}}}}"></span> contains elements to the left or to the right of <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle m_{n,{\mathit {dir}}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>m</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>n</mi>
            <mo>,</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <mi class="MJX-tex-mathit" mathvariant="italic">d</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">i</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">r</mi>
              </mrow>
            </mrow>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle m_{n,{\mathit {dir}}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/bff172765423252c4e5d89983180604e6ce223ed" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:5.755ex; height:2.343ex;" alt="{\displaystyle m_{n,{\mathit {dir}}}}"></span>, those will be contained in a new set of subsequences <span class="texhtml mvar" style="font-style:italic;">S</span> as <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{n',{\mathit {left}}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msup>
              <mi>n</mi>
              <mo>&#x2032;</mo>
            </msup>
            <mo>,</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <mi class="MJX-tex-mathit" mathvariant="italic">l</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">e</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">f</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">t</mi>
              </mrow>
            </mrow>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{n',{\mathit {left}}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/05dd2bb43c617237df9d93284f0f8323e4ef5cd3" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:5.527ex; height:2.343ex;" alt="{\displaystyle s_{n&#039;,{\mathit {left}}}}"></span> or <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle s_{n',{\mathit {right}}}}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <msub>
          <mi>s</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <msup>
              <mi>n</mi>
              <mo>&#x2032;</mo>
            </msup>
            <mo>,</mo>
            <mrow class="MJX-TeXAtom-ORD">
              <mrow class="MJX-TeXAtom-ORD">
                <mi class="MJX-tex-mathit" mathvariant="italic">r</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">i</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">g</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">h</mi>
                <mi class="MJX-tex-mathit" mathvariant="italic">t</mi>
              </mrow>
            </mrow>
          </mrow>
        </msub>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle s_{n',{\mathit {right}}}}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2cad5a20028ec75a94a97d6066ca6c5f7980295e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -1.005ex; width:6.639ex; height:2.343ex;" alt="{\displaystyle s_{n&#039;,{\mathit {right}}}}"></span>.</li>
<li>Now <span class="texhtml mvar" style="font-style:italic;">T</span> possibly contains up to two consecutive red nodes at the end of the paths form the root to the leaves, which needs to be repaired. Note that, while repairing, the insertion position of elements <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in S}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>S</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in S}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/813129d6e4794d5b9c99a446b2c3683c29a539fc" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:3.695ex; height:2.176ex;" alt="{\displaystyle \in S}"></span> have to be updated, if the corresponding nodes are affected by rotations.
<ul><li>If two nodes have different nearest black ancestors, they can be repaired in parallel. Since at most four nodes can have the same nearest black ancestor, the nodes at the lowest level can be repaired in a constant number of parallel steps.</li>
<li>This step will be applied successively to the black levels above until <span class="texhtml mvar" style="font-style:italic;">T</span> is fully repaired.</li></ul></li>
<li>The steps 3 to 5 will be repeated on the new subsequences until <span class="texhtml mvar" style="font-style:italic;">S</span> is empty. At this point every element <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in I}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>I</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in I}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/115150f88cabd4b520dc0251c17fe061dc4d9897" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:3.367ex; height:2.176ex;" alt="{\displaystyle \in I}"></span> has been inserted. Each application of these steps is called a <i>stage</i>. Since the length of the subsequences in <span class="texhtml mvar" style="font-style:italic;">S</span> is <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(|I|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(|I|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/99a53322f6b3ed859f9ab86718ea070677723c9f" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.244ex; height:2.843ex;" alt="{\displaystyle \in O(|I|)}"></span> and in every stage the subsequences are being cut in half, the number of stages is <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(\log |I|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(\log |I|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b2b1ee6732be28b2349b96f67b19e0b3cf0e0a1e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:11.602ex; height:2.843ex;" alt="{\displaystyle \in O(\log |I|)}"></span>.
<ul><li>Since all stages move up the black levels of the tree, they can be parallelised in a pipeline. Once a stage has finished processing one black level, the next stage is able to move up and continue at that level.</li></ul></li></ol>
<ul class="gallery mw-gallery-traditional" style="max-width: 879px;">
		<li class="gallerybox" style="width: 285px">
			<div class="thumb" style="width: 280px; height: 210px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_Pipelining_InitialTree.svg" class="mw-file-description" title="Initial tree"><img alt="Initial tree" src="//upload.wikimedia.org/wikipedia/commons/thumb/f/f0/BulkInsert_Pipelining_InitialTree.svg/250px-BulkInsert_Pipelining_InitialTree.svg.png" decoding="async" width="250" height="135" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/f/f0/BulkInsert_Pipelining_InitialTree.svg/500px-BulkInsert_Pipelining_InitialTree.svg.png 1.5x" data-file-width="625" data-file-height="338" /></a></span></div>
			<div class="gallerytext">Initial tree</div>
		</li>
		<li class="gallerybox" style="width: 285px">
			<div class="thumb" style="width: 280px; height: 210px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_Pipelining_InsertPositions.svg" class="mw-file-description" title="Find insert positions"><img alt="Find insert positions" src="//upload.wikimedia.org/wikipedia/commons/thumb/7/7c/BulkInsert_Pipelining_InsertPositions.svg/250px-BulkInsert_Pipelining_InsertPositions.svg.png" decoding="async" width="250" height="135" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/7/7c/BulkInsert_Pipelining_InsertPositions.svg/500px-BulkInsert_Pipelining_InsertPositions.svg.png 1.5x" data-file-width="625" data-file-height="338" /></a></span></div>
			<div class="gallerytext">Find insert positions</div>
		</li>
		<li class="gallerybox" style="width: 285px">
			<div class="thumb" style="width: 280px; height: 210px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_Pipelining_Stage1Insert.svg" class="mw-file-description" title="Stage 1 inserts elements"><img alt="Stage 1 inserts elements" src="//upload.wikimedia.org/wikipedia/commons/thumb/8/83/BulkInsert_Pipelining_Stage1Insert.svg/250px-BulkInsert_Pipelining_Stage1Insert.svg.png" decoding="async" width="250" height="135" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/8/83/BulkInsert_Pipelining_Stage1Insert.svg/500px-BulkInsert_Pipelining_Stage1Insert.svg.png 1.5x" data-file-width="625" data-file-height="338" /></a></span></div>
			<div class="gallerytext">Stage 1 inserts elements</div>
		</li>
		<li class="gallerybox" style="width: 285px">
			<div class="thumb" style="width: 280px; height: 210px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_Pipelining_Stage1Repair.svg" class="mw-file-description" title="Stage 1 begins to repair nodes"><img alt="Stage 1 begins to repair nodes" src="//upload.wikimedia.org/wikipedia/commons/thumb/5/53/BulkInsert_Pipelining_Stage1Repair.svg/250px-BulkInsert_Pipelining_Stage1Repair.svg.png" decoding="async" width="250" height="135" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/5/53/BulkInsert_Pipelining_Stage1Repair.svg/500px-BulkInsert_Pipelining_Stage1Repair.svg.png 1.5x" data-file-width="625" data-file-height="338" /></a></span></div>
			<div class="gallerytext">Stage 1 begins to repair nodes</div>
		</li>
		<li class="gallerybox" style="width: 285px">
			<div class="thumb" style="width: 280px; height: 210px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_Pipelining_Stage2Insert.svg" class="mw-file-description" title="Stage 2 inserts elements"><img alt="Stage 2 inserts elements" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/d9/BulkInsert_Pipelining_Stage2Insert.svg/250px-BulkInsert_Pipelining_Stage2Insert.svg.png" decoding="async" width="250" height="135" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/d/d9/BulkInsert_Pipelining_Stage2Insert.svg/500px-BulkInsert_Pipelining_Stage2Insert.svg.png 1.5x" data-file-width="625" data-file-height="338" /></a></span></div>
			<div class="gallerytext">Stage 2 inserts elements</div>
		</li>
		<li class="gallerybox" style="width: 285px">
			<div class="thumb" style="width: 280px; height: 210px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_Pipelining_Stage2Repair.svg" class="mw-file-description" title="Stage 2 begins to repair nodes"><img alt="Stage 2 begins to repair nodes" src="//upload.wikimedia.org/wikipedia/commons/thumb/6/6f/BulkInsert_Pipelining_Stage2Repair.svg/250px-BulkInsert_Pipelining_Stage2Repair.svg.png" decoding="async" width="250" height="135" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/6/6f/BulkInsert_Pipelining_Stage2Repair.svg/500px-BulkInsert_Pipelining_Stage2Repair.svg.png 1.5x" data-file-width="625" data-file-height="338" /></a></span></div>
			<div class="gallerytext">Stage 2 begins to repair nodes</div>
		</li>
		<li class="gallerybox" style="width: 285px">
			<div class="thumb" style="width: 280px; height: 210px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_Pipelining_Stage3Insert.svg" class="mw-file-description" title="Stage 3 inserts elements"><img alt="Stage 3 inserts elements" src="//upload.wikimedia.org/wikipedia/commons/thumb/8/89/BulkInsert_Pipelining_Stage3Insert.svg/250px-BulkInsert_Pipelining_Stage3Insert.svg.png" decoding="async" width="250" height="135" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/8/89/BulkInsert_Pipelining_Stage3Insert.svg/500px-BulkInsert_Pipelining_Stage3Insert.svg.png 1.5x" data-file-width="625" data-file-height="338" /></a></span></div>
			<div class="gallerytext">Stage 3 inserts elements</div>
		</li>
		<li class="gallerybox" style="width: 285px">
			<div class="thumb" style="width: 280px; height: 210px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_Pipelining_Stage3Repair1.svg" class="mw-file-description" title="Stage 3 begins to repair nodes"><img alt="Stage 3 begins to repair nodes" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/BulkInsert_Pipelining_Stage3Repair1.svg/250px-BulkInsert_Pipelining_Stage3Repair1.svg.png" decoding="async" width="250" height="135" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/2/26/BulkInsert_Pipelining_Stage3Repair1.svg/500px-BulkInsert_Pipelining_Stage3Repair1.svg.png 1.5x" data-file-width="625" data-file-height="338" /></a></span></div>
			<div class="gallerytext">Stage 3 begins to repair nodes</div>
		</li>
		<li class="gallerybox" style="width: 285px">
			<div class="thumb" style="width: 280px; height: 210px;"><span typeof="mw:File"><a href="/wiki/File:BulkInsert_Pipelining_Stage3Repair2.svg" class="mw-file-description" title="Stage 3 continues to repair nodes"><img alt="Stage 3 continues to repair nodes" src="//upload.wikimedia.org/wikipedia/commons/thumb/0/00/BulkInsert_Pipelining_Stage3Repair2.svg/250px-BulkInsert_Pipelining_Stage3Repair2.svg.png" decoding="async" width="250" height="135" class="mw-file-element" srcset="//upload.wikimedia.org/wikipedia/commons/thumb/0/00/BulkInsert_Pipelining_Stage3Repair2.svg/500px-BulkInsert_Pipelining_Stage3Repair2.svg.png 1.5x" data-file-width="625" data-file-height="338" /></a></span></div>
			<div class="gallerytext">Stage 3 continues to repair nodes</div>
		</li>
</ul>
<div class="mw-heading mw-heading5"><h5 id="Execution_time_2">Execution time</h5><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=34" title="Edit section: Execution time"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<p>Sorting <span class="texhtml mvar" style="font-style:italic;">I</span> is not considered in this analysis.
Also, <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle |I|}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle |I|}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b81474b934a4f217048d45013e8088b97b1311ea" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:2.465ex; height:2.843ex;" alt="{\displaystyle |I|}"></span> is assumed to be smaller than <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle |T|}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle |T|}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/073a0b1ce9d4c91f30329289adbb91aae47f87ea" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:2.93ex; height:2.843ex;" alt="{\displaystyle |T|}"></span>, otherwise it would be more efficient to construct the resulting tree from scratch.
</p>
<dl><dd><table>

<tbody><tr>
<td>T(find insert position)</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fc333611d8c200a69a7eefad86d42fcee9cff5d5" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:12.067ex; height:2.843ex;" alt="{\displaystyle \in O(\log |T|)}"></span>
</td></tr>
<tr>
<td>#stages</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(\log |I|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(\log |I|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b2b1ee6732be28b2349b96f67b19e0b3cf0e0a1e" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:11.602ex; height:2.843ex;" alt="{\displaystyle \in O(\log |I|)}"></span>
</td></tr>
<tr>
<td>T(insert) + T(repair)</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fc333611d8c200a69a7eefad86d42fcee9cff5d5" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:12.067ex; height:2.843ex;" alt="{\displaystyle \in O(\log |T|)}"></span>
</td></tr>
<tr style="vertical-align:top">
<td><b>T(bulkInsert) with <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle |I|}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle |I|}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b81474b934a4f217048d45013e8088b97b1311ea" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:2.465ex; height:2.843ex;" alt="{\displaystyle |I|}"></span> ~ #processors</b></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(\log |I|+2\cdot \log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo>+</mo>
        <mn>2</mn>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(\log |I|+2\cdot \log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/c9f3f6e104625df8a4ceb489f5c15c9750d7a83c" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:23.573ex; height:2.843ex;" alt="{\displaystyle \in O(\log |I|+2\cdot \log |T|)}"></span><br /><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle =O(\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>=</mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle =O(\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6ea6f2f408c41050228af86dbd0d0cca6d738d26" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:12.325ex; height:2.843ex;" alt="{\displaystyle =O(\log |T|)}"></span>
</td></tr></tbody></table></dd></dl>
<div class="mw-heading mw-heading5"><h5 id="Work_2">Work</h5><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=35" title="Edit section: Work"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<dl><dd><table>

<tbody><tr>
<td>W(find insert positions)</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(|I|\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(|I|\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fe0ee05c7db84707429b4ad9da502bef02779494" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:14.919ex; height:2.843ex;" alt="{\displaystyle \in O(|I|\log |T|)}"></span>
</td></tr>
<tr>
<td>#insertions, #repairs</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(|I|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(|I|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/99a53322f6b3ed859f9ab86718ea070677723c9f" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:8.244ex; height:2.843ex;" alt="{\displaystyle \in O(|I|)}"></span>
</td></tr>
<tr>
<td>W(insert) + W(repair)</td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fc333611d8c200a69a7eefad86d42fcee9cff5d5" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:12.067ex; height:2.843ex;" alt="{\displaystyle \in O(\log |T|)}"></span>
</td></tr>
<tr style="vertical-align:top">
<td><b>W(bulkInsert)</b></td>
<td><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle \in O(2\cdot |I|\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2208;<!-- ∈ --></mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mn>2</mn>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \in O(2\cdot |I|\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/30dd9ec49c1ad9ba441306f19e94d357aa21d097" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:17.761ex; height:2.843ex;" alt="{\displaystyle \in O(2\cdot |I|\log |T|)}"></span><br /><span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle =O(|I|\log |T|)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>=</mo>
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>I</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mi>T</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo stretchy="false">|</mo>
        </mrow>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle =O(|I|\log |T|)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e288bb46cec303392c726cbe6365d5608dd65909" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:15.177ex; height:2.843ex;" alt="{\displaystyle =O(|I|\log |T|)}"></span>
</td></tr></tbody></table></dd></dl>
<div class="mw-heading mw-heading2"><h2 id="See_also">See also</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=36" title="Edit section: See also"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<ul><li><a href="/wiki/List_of_data_structures" title="List of data structures">List of data structures</a></li>
<li><a href="/wiki/Tree_data_structure" class="mw-redirect" title="Tree data structure">Tree data structure</a></li>
<li><a href="/wiki/Tree_rotation" title="Tree rotation">Tree rotation</a></li>
<li><a href="/wiki/Order_statistic_tree" title="Order statistic tree">Order statistic tree</a></li>
<li><a href="/wiki/AA_tree" title="AA tree">AA tree</a>, a variation of the red–black tree</li>
<li><a href="/wiki/Left-leaning_red%E2%80%93black_tree" title="Left-leaning red–black tree">Left-leaning red–black tree</a></li>
<li><a href="/wiki/AVL_tree" title="AVL tree">AVL tree</a></li>
<li><a href="/wiki/B-tree" title="B-tree">B-tree</a> (<a href="/wiki/2%E2%80%933_tree" title="2–3 tree">2–3 tree</a>, <a href="/wiki/2%E2%80%933%E2%80%934_tree" title="2–3–4 tree">2–3–4 tree</a>, <a href="/wiki/B%2B_tree" title="B+ tree">B+ tree</a>, <a href="/wiki/B*-tree" class="mw-redirect" title="B*-tree">B*-tree</a>, <a href="/wiki/UB-tree" title="UB-tree">UB-tree</a>)</li>
<li><a href="/wiki/Scapegoat_tree" title="Scapegoat tree">Scapegoat tree</a></li>
<li><a href="/wiki/Splay_tree" title="Splay tree">Splay tree</a></li>
<li><a href="/wiki/T-tree" title="T-tree">T-tree</a></li>
<li><a href="/wiki/WAVL_tree" title="WAVL tree">WAVL tree</a></li>
<li><a rel="nofollow" class="external text" href="http://adtinfo.org/">GNU libavl</a></li></ul>
<div class="mw-heading mw-heading2"><h2 id="References_and_notes">References and notes</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=37" title="Edit section: References and notes"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<style data-mw-deduplicate="TemplateStyles:r1327269900">.mw-parser-output .reflist-columns-2{column-width:30em}.mw-parser-output .reflist-columns-3{column-width:25em}body.skin-vector-2022 .mw-parser-output .reflist-columns-2{column-width:27em}body.skin-vector-2022 .mw-parser-output .reflist-columns-3{column-width:22.5em}.mw-parser-output .references[data-mw-group=upper-alpha]{list-style-type:upper-alpha}.mw-parser-output .references[data-mw-group=upper-roman]{list-style-type:upper-roman}.mw-parser-output .references[data-mw-group=lower-alpha]{list-style-type:lower-alpha}.mw-parser-output .references[data-mw-group=lower-greek]{list-style-type:lower-greek}.mw-parser-output .references[data-mw-group=lower-roman]{list-style-type:lower-roman}.mw-parser-output div.reflist-liststyle-upper-alpha .references{list-style-type:upper-alpha}.mw-parser-output div.reflist-liststyle-upper-roman .references{list-style-type:upper-roman}.mw-parser-output div.reflist-liststyle-lower-alpha .references{list-style-type:lower-alpha}.mw-parser-output div.reflist-liststyle-lower-greek .references{list-style-type:lower-greek}.mw-parser-output div.reflist-liststyle-lower-roman .references{list-style-type:lower-roman}</style><div class="mw-references-wrap mw-references-columns" style="column-width: calc( 0.9 * 37em );"><ol class="references">
<li id="cite&#95;note-Cormen2001-1"><span class="mw-cite-backlink">^ <a href="#cite_ref-Cormen2001_1-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-Cormen2001_1-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><span class="anchor" id="Cormen"></span><style data-mw-deduplicate="TemplateStyles:r1333433106">.mw-parser-output cite.citation{font-style:inherit;word-wrap:break-word}.mw-parser-output .citation q{quotes:"\"""\"""'""'"}.mw-parser-output .citation:target{background-color:rgba(0,127,255,0.133)}.mw-parser-output .id-lock-free.id-lock-free a{background:url("//upload.wikimedia.org/wikipedia/commons/6/65/Lock-green.svg")right 0.1em center/9px no-repeat}.mw-parser-output .id-lock-limited.id-lock-limited a,.mw-parser-output .id-lock-registration.id-lock-registration a{background:url("//upload.wikimedia.org/wikipedia/commons/d/d6/Lock-gray-alt-2.svg")right 0.1em center/9px no-repeat}.mw-parser-output .id-lock-subscription.id-lock-subscription a{background:url("//upload.wikimedia.org/wikipedia/commons/a/aa/Lock-red-alt-2.svg")right 0.1em center/9px no-repeat}.mw-parser-output .cs1-ws-icon a{background:url("//upload.wikimedia.org/wikipedia/commons/4/4c/Wikisource-logo.svg")right 0.1em center/12px no-repeat}body:not(.skin-timeless):not(.skin-minerva) .mw-parser-output .id-lock-free a,body:not(.skin-timeless):not(.skin-minerva) .mw-parser-output .id-lock-limited a,body:not(.skin-timeless):not(.skin-minerva) .mw-parser-output .id-lock-registration a,body:not(.skin-timeless):not(.skin-minerva) .mw-parser-output .id-lock-subscription a,body:not(.skin-timeless):not(.skin-minerva) .mw-parser-output .cs1-ws-icon a{background-size:contain;padding:0 1em 0 0}.mw-parser-output .cs1-code{color:inherit;background:inherit;border:none;padding:inherit}.mw-parser-output .cs1-hidden-error{display:none;color:var(--color-error,#bf3c2c)}.mw-parser-output .cs1-visible-error{color:var(--color-error,#bf3c2c)}.mw-parser-output .cs1-maint{display:none;color:#085;margin-left:0.3em}.mw-parser-output .cs1-kern-left{padding-left:0.2em}.mw-parser-output .cs1-kern-right{padding-right:0.2em}.mw-parser-output .citation .mw-selflink{font-weight:inherit}@media screen{.mw-parser-output .cs1-format{font-size:95%}html.skin-theme-clientpref-night .mw-parser-output .cs1-maint{color:#18911f}}@media screen and (prefers-color-scheme:dark){html.skin-theme-clientpref-os .mw-parser-output .cs1-maint{color:#18911f}}</style><cite id="CITEREFCormenLeisersonRivestStein2001" class="citation book cs1"><a href="/wiki/Thomas_H._Cormen" title="Thomas H. Cormen">Cormen, Thomas H.</a>; <a href="/wiki/Charles_E._Leiserson" title="Charles E. Leiserson">Leiserson, Charles E.</a>; <a href="/wiki/Ronald_L._Rivest" class="mw-redirect" title="Ronald L. Rivest">Rivest, Ronald L.</a>; <a href="/wiki/Clifford_Stein" title="Clifford Stein">Stein, Clifford</a> (2001). "Red&#8211;Black Trees". <a href="/wiki/Introduction_to_Algorithms" title="Introduction to Algorithms"><i>Introduction to Algorithms</i></a> (2nd&#160;ed.). MIT Press. pp.&#160;<a rel="nofollow" class="external text" href="https://archive.org/details/introductiontoal00corm_691/page/n735">273</a>–301. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-0-262-03293-3" title="Special:BookSources/978-0-262-03293-3"><bdi>978-0-262-03293-3</bdi></a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=bookitem&amp;rft.atitle=Red%26ndash%3BBlack+Trees&amp;rft.btitle=Introduction+to+Algorithms&amp;rft.pages=273-301&amp;rft.edition=2nd&amp;rft.pub=MIT+Press&amp;rft.date=2001&amp;rft.isbn=978-0-262-03293-3&amp;rft.aulast=Cormen&amp;rft.aufirst=Thomas+H.&amp;rft.au=Leiserson%2C+Charles+E.&amp;rft.au=Rivest%2C+Ronald+L.&amp;rft.au=Stein%2C+Clifford&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-wiscurl2-2"><span class="mw-cite-backlink"><b><a href="#cite_ref-wiscurl2_2-0">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFPaton" class="citation web cs1">Paton, James. <a rel="nofollow" class="external text" href="http://pages.cs.wisc.edu/~paton/readings/Red-Black-Trees/">"Red–Black Trees"</a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Red%E2%80%93Black+Trees&amp;rft.aulast=Paton&amp;rft.aufirst=James&amp;rft&#95;id=http%3A%2F%2Fpages.cs.wisc.edu%2F~paton%2Freadings%2FRed-Black-Trees%2F&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-3"><span class="mw-cite-backlink"><b><a href="#cite_ref-3">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFMorris1998" class="citation web cs1">Morris, John (1998). <a rel="nofollow" class="external text" href="https://www.cs.auckland.ac.nz/software/AlgAnim/red_black.html">"Red–Black Trees"</a>. <i>Data Structures and Algorithms</i>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=Data+Structures+and+Algorithms&amp;rft.atitle=Red%E2%80%93Black+Trees&amp;rft.date=1998&amp;rft.aulast=Morris&amp;rft.aufirst=John&amp;rft&#95;id=https%3A%2F%2Fwww.cs.auckland.ac.nz%2Fsoftware%2FAlgAnim%2Fred&#95;black.html&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-Bayer72-4"><span class="mw-cite-backlink"><b><a href="#cite_ref-Bayer72_4-0">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFBayer1972" class="citation journal cs1">Bayer, Rudolf (1972). "Symmetric binary B-Trees: Data structure and maintenance algorithms". <i>Acta Informatica</i>. <b>1</b> (4): <span class="nowrap">290–</span>306. <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1007%2FBF00289509">10.1007/BF00289509</a>. <a href="/wiki/S2CID_(identifier)" class="mw-redirect" title="S2CID (identifier)">S2CID</a>&#160;<a rel="nofollow" class="external text" href="https://api.semanticscholar.org/CorpusID:28836825">28836825</a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=Acta+Informatica&amp;rft.atitle=Symmetric+binary+B-Trees%3A+Data+structure+and+maintenance+algorithms&amp;rft.volume=1&amp;rft.issue=4&amp;rft.pages=290-306&amp;rft.date=1972&amp;rft&#95;id=info%3Adoi%2F10.1007%2FBF00289509&amp;rft&#95;id=https%3A%2F%2Fapi.semanticscholar.org%2FCorpusID%3A28836825%23id-name%3DS2CID&amp;rft.aulast=Bayer&amp;rft.aufirst=Rudolf&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-5"><span class="mw-cite-backlink"><b><a href="#cite_ref-5">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFDrozdek2001" class="citation book cs1">Drozdek, Adam (2001). <i>Data Structures and Algorithms in Java</i> (2&#160;ed.). Sams Publishing. p.&#160;323. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-0534376680" title="Special:BookSources/978-0534376680"><bdi>978-0534376680</bdi></a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Data+Structures+and+Algorithms+in+Java&amp;rft.pages=323&amp;rft.edition=2&amp;rft.pub=Sams+Publishing&amp;rft.date=2001&amp;rft.isbn=978-0534376680&amp;rft.aulast=Drozdek&amp;rft.aufirst=Adam&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-GS78-6"><span class="mw-cite-backlink">^ <a href="#cite_ref-GS78_6-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-GS78_6-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFGuibasSedgewick1978" class="citation conference cs1"><a href="/wiki/Leonidas_J._Guibas" title="Leonidas J. Guibas">Guibas, Leonidas J.</a>; <a href="/wiki/Robert_Sedgewick_(computer_scientist)" title="Robert Sedgewick (computer scientist)">Sedgewick, Robert</a> (1978). "A Dichromatic Framework for Balanced Trees". <i>Proceedings of the 19th Annual Symposium on Foundations of Computer Science</i>. pp.&#160;<span class="nowrap">8–</span>21. <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1109%2FSFCS.1978.3">10.1109/SFCS.1978.3</a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=conference&amp;rft.atitle=A+Dichromatic+Framework+for+Balanced+Trees&amp;rft.btitle=Proceedings+of+the+19th+Annual+Symposium+on+Foundations+of+Computer+Science&amp;rft.pages=8-21&amp;rft.date=1978&amp;rft&#95;id=info%3Adoi%2F10.1109%2FSFCS.1978.3&amp;rft.aulast=Guibas&amp;rft.aufirst=Leonidas+J.&amp;rft.au=Sedgewick%2C+Robert&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-7"><span class="mw-cite-backlink"><b><a href="#cite_ref-7">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite class="citation web cs1"><a rel="nofollow" class="external text" href="https://web.archive.org/web/20070927222509/http://eternallyconfuzzled.com/tuts/datastructures/jsw_tut_rbtree.aspx">"Red Black Trees"</a>. <i>eternallyconfuzzled.com</i>. Archived from <a rel="nofollow" class="external text" href="http://eternallyconfuzzled.com/tuts/datastructures/jsw_tut_rbtree.aspx">the original</a> on 2007-09-27<span class="reference-accessdate">. Retrieved <span class="nowrap">2015-09-02</span></span>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=eternallyconfuzzled.com&amp;rft.atitle=Red+Black+Trees&amp;rft&#95;id=http%3A%2F%2Feternallyconfuzzled.com%2Ftuts%2Fdatastructures%2Fjsw&#95;tut&#95;rbtree.aspx&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-Sedgewick12-8"><span class="mw-cite-backlink"><b><a href="#cite_ref-Sedgewick12_8-0">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFSedgewick2012" class="citation audio-visual cs1"><a href="/wiki/Robert_Sedgewick_(computer_scientist)" title="Robert Sedgewick (computer scientist)">Sedgewick, Robert</a> (2012). <a rel="nofollow" class="external text" href="https://www.coursera.org/learn/algorithms-graphs-data-structures/lecture/8acpe/red-black-trees"><i>Red–Black BSTs</i></a>. Coursera. <q>A lot of people ask why did we use the name red–black. Well, we invented this data structure, this way of looking at balanced trees, at Xerox PARC that was the home of the personal computer and many other innovations that we live with today entering[sic] graphic user interfaces, Ethernet and object-oriented programmings[sic] and many other things. But one of the things that was invented there was laser printing and we were very excited to have nearby color laser printer that could print things out in color and out of the colors the red looked the best. So, that's why we picked the color red to distinguish red links, the types of links, in three nodes. So, that's an answer to the question for people that have been asking.</q></cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Red%E2%80%93Black+BSTs&amp;rft.pub=Coursera&amp;rft.date=2012&amp;rft.aulast=Sedgewick&amp;rft.aufirst=Robert&amp;rft&#95;id=https%3A%2F%2Fwww.coursera.org%2Flearn%2Falgorithms-graphs-data-structures%2Flecture%2F8acpe%2Fred-black-trees&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-9"><span class="mw-cite-backlink"><b><a href="#cite_ref-9">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite class="citation web cs1"><a rel="nofollow" class="external text" href="http://programmers.stackexchange.com/a/116621/40127">"Where does the term "Red/Black Tree" come from?"</a>. <i>programmers.stackexchange.com</i><span class="reference-accessdate">. Retrieved <span class="nowrap">2015-09-02</span></span>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=programmers.stackexchange.com&amp;rft.atitle=Where+does+the+term+%22Red%2FBlack+Tree%22+come+from%3F&amp;rft&#95;id=http%3A%2F%2Fprogrammers.stackexchange.com%2Fa%2F116621%2F40127&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-10"><span class="mw-cite-backlink"><b><a href="#cite_ref-10">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFAndersson1993" class="citation book cs1">Andersson, Arne (1993-08-11). <a rel="nofollow" class="external text" href="https://web.archive.org/web/20181208183054/https://www.springer.com/la/book/9783540571551">"Balanced search trees made simple"</a>. In Dehne, Frank; Sack, Jörg-Rüdiger; Santoro, Nicola; Whitesides, Sue (eds.). <i>Algorithms and Data Structures</i> (Proceedings). Lecture Notes in Computer Science. Vol.&#160;709. Springer-Verlag Berlin Heidelberg. pp.&#160;<span class="nowrap">60–</span>71. <a href="/wiki/CiteSeerX_(identifier)" class="mw-redirect" title="CiteSeerX (identifier)">CiteSeerX</a>&#160;<span class="id-lock-free" title="Freely accessible"><a rel="nofollow" class="external text" href="https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.118.6192">10.1.1.118.6192</a></span>. <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1007%2F3-540-57155-8_236">10.1007/3-540-57155-8_236</a>. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-3-540-57155-1" title="Special:BookSources/978-3-540-57155-1"><bdi>978-3-540-57155-1</bdi></a>. Archived from <a rel="nofollow" class="external text" href="https://www.springer.com/la/book/9783540571551">the original</a> on 2018-12-08.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=bookitem&amp;rft.atitle=Balanced+search+trees+made+simple&amp;rft.btitle=Algorithms+and+Data+Structures&amp;rft.series=Lecture+Notes+in+Computer+Science&amp;rft.pages=60-71&amp;rft.pub=Springer-Verlag+Berlin+Heidelberg&amp;rft.date=1993-08-11&amp;rft&#95;id=https%3A%2F%2Fciteseerx.ist.psu.edu%2Fviewdoc%2Fsummary%3Fdoi%3D10.1.1.118.6192%23id-name%3DCiteSeerX&amp;rft&#95;id=info%3Adoi%2F10.1007%2F3-540-57155-8&#95;236&amp;rft.isbn=978-3-540-57155-1&amp;rft.aulast=Andersson&amp;rft.aufirst=Arne&amp;rft&#95;id=https%3A%2F%2Fwww.springer.com%2Fla%2Fbook%2F9783540571551&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span> <a rel="nofollow" class="external text" href="http://user.it.uu.se/~arnea/ps/simp.pdf">Alt URL</a></span>
</li>
<li id="cite&#95;note-11"><span class="mw-cite-backlink"><b><a href="#cite_ref-11">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFOkasaki1999" class="citation journal cs1">Okasaki, Chris (1999-01-01). <a rel="nofollow" class="external text" href="https://doi.org/10.1017%2FS0956796899003494">"Red–black trees in a functional setting"</a>. <i>Journal of Functional Programming</i>. <b>9</b> (4): <span class="nowrap">471–</span>477. <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<span class="id-lock-free" title="Freely accessible"><a rel="nofollow" class="external text" href="https://doi.org/10.1017%2FS0956796899003494">10.1017/S0956796899003494</a></span>. <a href="/wiki/ISSN_(identifier)" class="mw-redirect" title="ISSN (identifier)">ISSN</a>&#160;<a rel="nofollow" class="external text" href="https://search.worldcat.org/issn/1469-7653">1469-7653</a>. <a href="/wiki/S2CID_(identifier)" class="mw-redirect" title="S2CID (identifier)">S2CID</a>&#160;<a rel="nofollow" class="external text" href="https://api.semanticscholar.org/CorpusID:20298262">20298262</a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=Journal+of+Functional+Programming&amp;rft.atitle=Red%E2%80%93black+trees+in+a+functional+setting&amp;rft.volume=9&amp;rft.issue=4&amp;rft.pages=471-477&amp;rft.date=1999-01-01&amp;rft&#95;id=https%3A%2F%2Fapi.semanticscholar.org%2FCorpusID%3A20298262%23id-name%3DS2CID&amp;rft.issn=1469-7653&amp;rft&#95;id=info%3Adoi%2F10.1017%2FS0956796899003494&amp;rft.aulast=Okasaki&amp;rft.aufirst=Chris&amp;rft&#95;id=https%3A%2F%2Fdoi.org%2F10.1017%252FS0956796899003494&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-Algs1-12"><span class="mw-cite-backlink"><b><a href="#cite_ref-Algs1_12-0">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFSedgewick1983" class="citation book cs1"><a href="/wiki/Robert_Sedgewick_(computer_scientist)" title="Robert Sedgewick (computer scientist)">Sedgewick, Robert</a> (1983). <span class="id-lock-registration" title="Free registration required"><a rel="nofollow" class="external text" href="https://archive.org/details/algorithms00sedg"><i>Algorithms</i></a></span> (1st&#160;ed.). <a href="/wiki/Addison-Wesley" title="Addison-Wesley">Addison-Wesley</a>. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-0-201-06672-2" title="Special:BookSources/978-0-201-06672-2"><bdi>978-0-201-06672-2</bdi></a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Algorithms&amp;rft.edition=1st&amp;rft.pub=Addison-Wesley&amp;rft.date=1983&amp;rft.isbn=978-0-201-06672-2&amp;rft.aulast=Sedgewick&amp;rft.aufirst=Robert&amp;rft&#95;id=https%3A%2F%2Farchive.org%2Fdetails%2Falgorithms00sedg&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-13"><span class="mw-cite-backlink"><b><a href="#cite_ref-13">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFSedgewickWayne" class="citation web cs1"><a href="/wiki/Robert_Sedgewick_(computer_scientist)" title="Robert Sedgewick (computer scientist)">Sedgewick, Robert</a>; Wayne, Kevin. <a rel="nofollow" class="external text" href="http://algs4.cs.princeton.edu/code/edu/princeton/cs/algs4/RedBlackBST.java.html">"RedBlackBST.java"</a>. <i>algs4.cs.princeton.edu</i><span class="reference-accessdate">. Retrieved <span class="nowrap">7 April</span> 2018</span>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=algs4.cs.princeton.edu&amp;rft.atitle=RedBlackBST.java&amp;rft.aulast=Sedgewick&amp;rft.aufirst=Robert&amp;rft.au=Wayne%2C+Kevin&amp;rft&#95;id=http%3A%2F%2Falgs4.cs.princeton.edu%2Fcode%2Fedu%2Fprinceton%2Fcs%2Falgs4%2FRedBlackBST.java.html&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-14"><span class="mw-cite-backlink"><b><a href="#cite_ref-14">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFSedgewick2008" class="citation web cs1"><a href="/wiki/Robert_Sedgewick_(computer_scientist)" title="Robert Sedgewick (computer scientist)">Sedgewick, Robert</a> (2008). <a rel="nofollow" class="external text" href="https://sedgewick.io/wp-content/themes/sedgewick/papers/2008LLRB.pdf">"Left-leaning Red–Black Trees"</a> <span class="cs1-format">(PDF)</span>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Left-leaning+Red%E2%80%93Black+Trees&amp;rft.date=2008&amp;rft.aulast=Sedgewick&amp;rft.aufirst=Robert&amp;rft&#95;id=https%3A%2F%2Fsedgewick.io%2Fwp-content%2Fthemes%2Fsedgewick%2Fpapers%2F2008LLRB.pdf&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-Algs4-15"><span class="mw-cite-backlink">^ <a href="#cite_ref-Algs4_15-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-Algs4_15-1"><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-Algs4_15-2"><sup><i><b>c</b></i></sup></a></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFSedgewickWayne2011" class="citation book cs1"><a href="/wiki/Robert_Sedgewick_(computer_scientist)" title="Robert Sedgewick (computer scientist)">Sedgewick, Robert</a>; Wayne, Kevin (2011). <a rel="nofollow" class="external text" href="http://algs4.cs.princeton.edu"><i>Algorithms</i></a> (4th&#160;ed.). Addison-Wesley Professional. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-0-321-57351-3" title="Special:BookSources/978-0-321-57351-3"><bdi>978-0-321-57351-3</bdi></a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Algorithms&amp;rft.edition=4th&amp;rft.pub=Addison-Wesley+Professional&amp;rft.date=2011&amp;rft.isbn=978-0-321-57351-3&amp;rft.aulast=Sedgewick&amp;rft.aufirst=Robert&amp;rft.au=Wayne%2C+Kevin&amp;rft&#95;id=http%3A%2F%2Falgs4.cs.princeton.edu&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-Mehlhorn2008-16"><span class="mw-cite-backlink">^ <a href="#cite_ref-Mehlhorn2008_16-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-Mehlhorn2008_16-1"><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-Mehlhorn2008_16-2"><sup><i><b>c</b></i></sup></a> <a href="#cite_ref-Mehlhorn2008_16-3"><sup><i><b>d</b></i></sup></a></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFMehlhornSanders2008" class="citation book cs1"><a href="/wiki/Kurt_Mehlhorn" title="Kurt Mehlhorn">Mehlhorn, Kurt</a>; <a href="/wiki/Peter_Sanders_(computer_scientist)" title="Peter Sanders (computer scientist)">Sanders, Peter</a> (2008). <a rel="nofollow" class="external text" href="http://people.mpi-inf.mpg.de/~mehlhorn/ftp/Toolbox/SortedSequences.pdf">"7. Sorted Sequences"</a> <span class="cs1-format">(PDF)</span>. <a rel="nofollow" class="external text" href="http://people.mpi-inf.mpg.de/~mehlhorn/Toolbox.html"><i>Algorithms and Data Structures: The Basic Toolbox</i></a>. Berlin/Heidelberg: Springer. <a href="/wiki/CiteSeerX_(identifier)" class="mw-redirect" title="CiteSeerX (identifier)">CiteSeerX</a>&#160;<span class="id-lock-free" title="Freely accessible"><a rel="nofollow" class="external text" href="https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.148.2305">10.1.1.148.2305</a></span>. <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1007%2F978-3-540-77978-0">10.1007/978-3-540-77978-0</a>. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-3-540-77977-3" title="Special:BookSources/978-3-540-77977-3"><bdi>978-3-540-77977-3</bdi></a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=bookitem&amp;rft.atitle=7.+Sorted+Sequences&amp;rft.btitle=Algorithms+and+Data+Structures%3A+The+Basic+Toolbox&amp;rft.place=Berlin%2FHeidelberg&amp;rft.pub=Springer&amp;rft.date=2008&amp;rft&#95;id=https%3A%2F%2Fciteseerx.ist.psu.edu%2Fviewdoc%2Fsummary%3Fdoi%3D10.1.1.148.2305%23id-name%3DCiteSeerX&amp;rft&#95;id=info%3Adoi%2F10.1007%2F978-3-540-77978-0&amp;rft.isbn=978-3-540-77977-3&amp;rft.aulast=Mehlhorn&amp;rft.aufirst=Kurt&amp;rft.au=Sanders%2C+Peter&amp;rft&#95;id=http%3A%2F%2Fpeople.mpi-inf.mpg.de%2F~mehlhorn%2Fftp%2FToolbox%2FSortedSequences.pdf&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-Cormen2009-17"><span class="mw-cite-backlink">^ <a href="#cite_ref-Cormen2009_17-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-Cormen2009_17-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFCormenLeisersonRivestStein2022" class="citation book cs1"><a href="/wiki/Thomas_H._Cormen" title="Thomas H. Cormen">Cormen, Thomas</a>; <a href="/wiki/Charles_E._Leiserson" title="Charles E. Leiserson">Leiserson, Charles</a>; <a href="/wiki/Ron_Rivest" title="Ron Rivest">Rivest, Ronald</a>; <a href="/wiki/Clifford_Stein" title="Clifford Stein">Stein, Clifford</a> (2022). "13. Red–Black Trees". <a href="/wiki/Introduction_to_Algorithms" title="Introduction to Algorithms"><i>Introduction to Algorithms</i></a> (4th&#160;ed.). <a href="/wiki/MIT_Press" title="MIT Press">MIT Press</a>. pp.&#160;<a rel="nofollow" class="external text" href="https://archive.org/details/introductiontoal00corm_805/page/n328">331</a>–332. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/9780262046305" title="Special:BookSources/9780262046305"><bdi>9780262046305</bdi></a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=bookitem&amp;rft.atitle=13.+Red%E2%80%93Black+Trees&amp;rft.btitle=Introduction+to+Algorithms&amp;rft.pages=331-332&amp;rft.edition=4th&amp;rft.pub=MIT+Press&amp;rft.date=2022&amp;rft.isbn=9780262046305&amp;rft.aulast=Cormen&amp;rft.aufirst=Thomas&amp;rft.au=Leiserson%2C+Charles&amp;rft.au=Rivest%2C+Ronald&amp;rft.au=Stein%2C+Clifford&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-18"><span class="mw-cite-backlink"><b><a href="#cite_ref-18">^</a></b></span> <span class="reference-text">Using Knuth’s definition of order: the maximum number of children</span>
</li>
<li id="cite&#95;note-19"><span class="mw-cite-backlink"><b><a href="#cite_ref-19">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFSedgewick1998" class="citation book cs1"><a href="/wiki/Robert_Sedgewick_(computer_scientist)" title="Robert Sedgewick (computer scientist)">Sedgewick, Robert</a> (1998). <span class="id-lock-limited" title="Free access subject to limited trial, subscription normally required"><a rel="nofollow" class="external text" href="https://archive.org/details/algorithmscparts00sedg"><i>Algorithms in C++</i></a></span>. Addison-Wesley Professional. pp.&#160;<a rel="nofollow" class="external text" href="https://archive.org/details/algorithmscparts00sedg/page/n569">565</a>–575. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-0-201-35088-3" title="Special:BookSources/978-0-201-35088-3"><bdi>978-0-201-35088-3</bdi></a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Algorithms+in+C%2B%2B&amp;rft.pages=565-575&amp;rft.pub=Addison-Wesley+Professional&amp;rft.date=1998&amp;rft.isbn=978-0-201-35088-3&amp;rft.aulast=Sedgewick&amp;rft.aufirst=Robert&amp;rft&#95;id=https%3A%2F%2Farchive.org%2Fdetails%2Falgorithmscparts00sedg&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-20"><span class="mw-cite-backlink"><b><a href="#cite_ref-20">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite class="citation web cs1"><a rel="nofollow" class="external text" href="https://developer.ibm.com/tutorials/l-completely-fair-scheduler/">"IBM Developer"</a>. <i>developer.ibm.com</i><span class="reference-accessdate">. Retrieved <span class="nowrap">25 May</span> 2024</span>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=developer.ibm.com&amp;rft.atitle=IBM+Developer&amp;rft&#95;id=https%3A%2F%2Fdeveloper.ibm.com%2Ftutorials%2Fl-completely-fair-scheduler%2F&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-21"><span class="mw-cite-backlink"><b><a href="#cite_ref-21">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite class="citation web cs1"><a rel="nofollow" class="external text" href="https://web.archive.org/web/20201011122015/https://idndx.com/2014/09/01/the-implementation-of-epoll-1/">"The Implementation of epoll (1)"</a>. <i>Datong's Random Thoughts</i>. September 2014. Archived from <a rel="nofollow" class="external text" href="https://idndx.com/2014/09/01/the-implementation-of-epoll-1/">the original</a> on 2020-10-11<span class="reference-accessdate">. Retrieved <span class="nowrap">2018-06-25</span></span>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=Datong%27s+Random+Thoughts&amp;rft.atitle=The+Implementation+of+epoll+%281%29&amp;rft.date=2014-09&amp;rft&#95;id=https%3A%2F%2Fidndx.com%2F2014%2F09%2F01%2Fthe-implementation-of-epoll-1%2F&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-22"><span class="mw-cite-backlink"><b><a href="#cite_ref-22">^</a></b></span> <span class="reference-text"><a href="#Pfaff_b">Pfaff 2004</a></span>
</li>
<li id="cite&#95;note-LLRB-23"><span class="mw-cite-backlink">^ <a href="#cite_ref-LLRB_23-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-LLRB_23-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite class="citation web cs1"><a rel="nofollow" class="external text" href="http://www.cs.princeton.edu/~rs/talks/LLRB/RedBlack.pdf">"Robert Sedgewick"</a> <span class="cs1-format">(PDF)</span>. <i>Cs.princeton.edu</i>. 4 June 2020<span class="reference-accessdate">. Retrieved <span class="nowrap">26 March</span> 2022</span>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=Cs.princeton.edu&amp;rft.atitle=Robert+Sedgewick&amp;rft.date=2020-06-04&amp;rft&#95;id=http%3A%2F%2Fwww.cs.princeton.edu%2F~rs%2Ftalks%2FLLRB%2FRedBlack.pdf&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-24"><span class="mw-cite-backlink"><b><a href="#cite_ref-24">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite class="citation web cs1"><a rel="nofollow" class="external text" href="http://www.cs.princeton.edu/courses/archive/fall08/cos226/lectures/10BalancedTrees-2x2.pdf">"Balanced Trees"</a> <span class="cs1-format">(PDF)</span>. <i>Cs.princeton.edu</i><span class="reference-accessdate">. Retrieved <span class="nowrap">26 March</span> 2022</span>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=Cs.princeton.edu&amp;rft.atitle=Balanced+Trees&amp;rft&#95;id=http%3A%2F%2Fwww.cs.princeton.edu%2Fcourses%2Farchive%2Ffall08%2Fcos226%2Flectures%2F10BalancedTrees-2x2.pdf&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-DHIP-25"><span class="mw-cite-backlink"><b><a href="#cite_ref-DHIP_25-0">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFDemaineHarmonIaconoPătraşcu2007" class="citation journal cs1">Demaine, E. D.; Harmon, D.; Iacono, J.; Pătraşcu, M. (2007). <a rel="nofollow" class="external text" href="http://erikdemaine.org/papers/Tango_SICOMP/paper.pdf">"Dynamic Optimality—Almost"</a> <span class="cs1-format">(PDF)</span>. <i>SIAM Journal on Computing</i>. <b>37</b> (1): 240. <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1137%2FS0097539705447347">10.1137/S0097539705447347</a>. <a href="/wiki/S2CID_(identifier)" class="mw-redirect" title="S2CID (identifier)">S2CID</a>&#160;<a rel="nofollow" class="external text" href="https://api.semanticscholar.org/CorpusID:1480961">1480961</a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=SIAM+Journal+on+Computing&amp;rft.atitle=Dynamic+Optimality%E2%80%94Almost&amp;rft.volume=37&amp;rft.issue=1&amp;rft.pages=240&amp;rft.date=2007&amp;rft&#95;id=info%3Adoi%2F10.1137%2FS0097539705447347&amp;rft&#95;id=https%3A%2F%2Fapi.semanticscholar.org%2FCorpusID%3A1480961%23id-name%3DS2CID&amp;rft.aulast=Demaine&amp;rft.aufirst=E.+D.&amp;rft.au=Harmon%2C+D.&amp;rft.au=Iacono%2C+J.&amp;rft.au=P%C4%83tra%C5%9Fcu%2C+M.&amp;rft&#95;id=http%3A%2F%2Ferikdemaine.org%2Fpapers%2FTango&#95;SICOMP%2Fpaper.pdf&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-26"><span class="mw-cite-backlink"><b><a href="#cite_ref-26">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite class="citation web cs1"><a rel="nofollow" class="external text" href="http://coding-geek.com/how-does-a-hashmap-work-in-java/#JAVA_8_improvements">"How does a HashMap work in JAVA"</a>. coding-geek.com.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=How+does+a+HashMap+work+in+JAVA&amp;rft.pub=coding-geek.com&amp;rft&#95;id=http%3A%2F%2Fcoding-geek.com%2Fhow-does-a-hashmap-work-in-java%2F%23JAVA&#95;8&#95;improvements&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-tarjan-27"><span class="mw-cite-backlink"><b><a href="#cite_ref-tarjan_27-0">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFTarjan1985" class="citation journal cs1"><a href="/wiki/Robert_Tarjan" title="Robert Tarjan">Tarjan, Robert Endre</a> (April 1985). <a rel="nofollow" class="external text" href="http://www.cs.duke.edu/courses/fall11/cps234/reading/Tarjan85_AmortizedComplexity.pdf">"Amortized Computational Complexity"</a> <span class="cs1-format">(PDF)</span>. <i>SIAM Journal on Algebraic and Discrete Methods</i>. <b>6</b> (2): <span class="nowrap">306–</span>318. <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1137%2F0606031">10.1137/0606031</a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=SIAM+Journal+on+Algebraic+and+Discrete+Methods&amp;rft.atitle=Amortized+Computational+Complexity&amp;rft.volume=6&amp;rft.issue=2&amp;rft.pages=306-318&amp;rft.date=1985-04&amp;rft&#95;id=info%3Adoi%2F10.1137%2F0606031&amp;rft.aulast=Tarjan&amp;rft.aufirst=Robert+Endre&amp;rft&#95;id=http%3A%2F%2Fwww.cs.duke.edu%2Fcourses%2Ffall11%2Fcps234%2Freading%2FTarjan85&#95;AmortizedComplexity.pdf&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-28"><span class="mw-cite-backlink"><b><a href="#cite_ref-28">^</a></b></span> <span class="reference-text">The important thing about these tree rotations is that they preserve the in-order sequence of the tree’s nodes.</span>
</li>
<li id="cite&#95;note-pullout-29"><span class="mw-cite-backlink">^ <a href="#cite_ref-pullout_29-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-pullout_29-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text">The left columns contain far less nodes than the right ones, especially for removal. This indicates that some efficiency can be gained by pulling the first iteration out of the rebalancing loops of insertion and deletion, because many of the named nodes are NIL nodes in the first iteration and definitively non-NIL later. (See also <a href="#C-eval">this remark</a>.)</span>
</li>
<li id="cite&#95;note-30"><span class="mw-cite-backlink"><b><a href="#cite_ref-30">^</a></b></span> <span class="reference-text">Rotations have been placed before recoloring for reasons of clarity. But the two commute, so that it is free choice to move the rotation to the <a href="/wiki/Tail_call" title="Tail call">tail</a>.</span>
</li>
<li id="cite&#95;note-cases-31"><span class="mw-cite-backlink">^ <a href="#cite_ref-cases_31-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-cases_31-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text">The same partitioning is found in <a href="#Pfaff_a">Ben Pfaff</a>.</span>
</li>
<li id="cite&#95;note-32"><span class="mw-cite-backlink"><b><a href="#cite_ref-32">^</a></b></span> <span class="reference-text">Dinesh P. Mehta, Sartaj Sahni (Ed.) <i>Handbook of Data Structures and Applications</i> 10.4.2</span>
</li>
<li id="cite&#95;note-33"><span class="mw-cite-backlink"><b><a href="#cite_ref-33">^</a></b></span> <span class="reference-text">Equality at the upper bound holds for the minimal RB trees RB<sub>2<i>k</i></sub> of even height <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle 2\cdot k}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mn>2</mn>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <mi>k</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle 2\cdot k}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/eaab9b8c5c6b4924fb6da98fa8994a117a2d8a60" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:4.053ex; height:2.176ex;" alt="{\displaystyle 2\cdot k}"></span> with <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n=2\cdot 2^{k}-2}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mo>=</mo>
        <mn>2</mn>
        <mo>&#x22C5;<!-- ⋅ --></mo>
        <msup>
          <mn>2</mn>
          <mrow class="MJX-TeXAtom-ORD">
            <mi>k</mi>
          </mrow>
        </msup>
        <mo>&#x2212;<!-- − --></mo>
        <mn>2</mn>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n=2\cdot 2^{k}-2}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/75f5445a7d138357f7f6db91694aa7086431a670" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.505ex; width:13.589ex; height:2.843ex;" alt="{\displaystyle n=2\cdot 2^{k}-2}"></span> nodes and only for those. So the inequality is marginally more precise than the widespread <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle h&lt;2\log _{2}(n+1),}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>h</mi>
        <mo>&lt;</mo>
        <mn>2</mn>
        <msub>
          <mi>log</mi>
          <mrow class="MJX-TeXAtom-ORD">
            <mn>2</mn>
          </mrow>
        </msub>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mo stretchy="false">(</mo>
        <mi>n</mi>
        <mo>+</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
        <mo>,</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle h&lt;2\log _{2}(n+1),}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/331e7a9177069dea58756c429f4930a8fe326ce6" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:17.867ex; height:2.843ex;" alt="{\displaystyle h&lt;2\log _{2}(n+1),}"></span> e.g. in <a href="#Cormen">Cormen</a> p. 264.<br />Moreover, these trees are binary trees that admit one and only one coloring conforming to the RB requirements 1 to 4. But there are further such trees, e.g. appending a child node to a black leaf always forces it to red. (A minimal RB tree of odd height allows to flip the root’s color from red to black.)</span>
</li>
<li id="cite&#95;note-join-based-34"><span class="mw-cite-backlink">^ <a href="#cite_ref-join-based_34-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-join-based_34-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFBlellochFerizovicSun2016" class="citation book cs1"><a href="/wiki/Guy_Blelloch" title="Guy Blelloch">Blelloch, Guy E.</a>; Ferizovic, Daniel; <a href="/w/index.php?title=Yihan_Sun&amp;action=edit&amp;redlink=1" class="new" title="Yihan Sun (page does not exist)">Sun, Yihan</a> (2016). <a rel="nofollow" class="external text" href="http://www.cs.cmu.edu/~yihans/papers/join.pdf">"Just Join for Parallel Ordered Sets"</a> <span class="cs1-format">(PDF)</span>. <i>Proceedings of the 28th ACM Symposium on Parallelism in Algorithms and Architectures</i>. ACM. pp.&#160;<span class="nowrap">253–</span>264. <a href="/wiki/ArXiv_(identifier)" class="mw-redirect" title="ArXiv (identifier)">arXiv</a>:<span class="id-lock-free" title="Freely accessible"><a rel="nofollow" class="external text" href="https://arxiv.org/abs/1602.02120">1602.02120</a></span>. <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1145%2F2935764.2935768">10.1145/2935764.2935768</a>. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-1-4503-4210-0" title="Special:BookSources/978-1-4503-4210-0"><bdi>978-1-4503-4210-0</bdi></a>. <a href="/wiki/S2CID_(identifier)" class="mw-redirect" title="S2CID (identifier)">S2CID</a>&#160;<a rel="nofollow" class="external text" href="https://api.semanticscholar.org/CorpusID:2897793">2897793</a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=bookitem&amp;rft.atitle=Just+Join+for+Parallel+Ordered+Sets&amp;rft.btitle=Proceedings+of+the+28th+ACM+Symposium+on+Parallelism+in+Algorithms+and+Architectures&amp;rft.pages=253-264&amp;rft.pub=ACM&amp;rft.date=2016&amp;rft&#95;id=info%3Aarxiv%2F1602.02120&amp;rft&#95;id=https%3A%2F%2Fapi.semanticscholar.org%2FCorpusID%3A2897793%23id-name%3DS2CID&amp;rft&#95;id=info%3Adoi%2F10.1145%2F2935764.2935768&amp;rft.isbn=978-1-4503-4210-0&amp;rft.aulast=Blelloch&amp;rft.aufirst=Guy+E.&amp;rft.au=Ferizovic%2C+Daniel&amp;rft.au=Sun%2C+Yihan&amp;rft&#95;id=http%3A%2F%2Fwww.cs.cmu.edu%2F~yihans%2Fpapers%2Fjoin.pdf&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span>.</span>
</li>
<li id="cite&#95;note-35"><span class="mw-cite-backlink"><b><a href="#cite_ref-35">^</a></b></span> <span class="reference-text">
<link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFParkPark2001" class="citation journal cs1">Park, Heejin; Park, Kunsoo (2001). <a rel="nofollow" class="external text" href="https://doi.org/10.1016%2FS0304-3975%2800%2900287-5">"Parallel algorithms for red–black trees"</a>. <i>Theoretical Computer Science</i>. <b>262</b> (<span class="nowrap">1–</span>2): <span class="nowrap">415–</span>435. <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<span class="id-lock-free" title="Freely accessible"><a rel="nofollow" class="external text" href="https://doi.org/10.1016%2FS0304-3975%2800%2900287-5">10.1016/S0304-3975(00)00287-5</a></span>. <q>Our parallel algorithm for constructing a red–black tree from a sorted list of <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="{\displaystyle n}"></span> items runs in <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(1)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mn>1</mn>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(1)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/e66384bc40452c5452f33563fe0e27e803b0cc21" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:4.745ex; height:2.843ex;" alt="{\displaystyle O(1)}"></span> time with <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.338ex; width:1.395ex; height:1.676ex;" alt="{\displaystyle n}"></span> processors on the CRCW PRAM and runs in <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle O(\log \log n)}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>O</mi>
        <mo stretchy="false">(</mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle O(\log \log n)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a9f3ded7e013a35c8039ff3276bee6e183d7f1a7" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:11.695ex; height:2.843ex;" alt="{\displaystyle O(\log \log n)}"></span> time with <span class="mwe-math-element mwe-math-element-inline"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML"  alttext="{\displaystyle n/\log \log n}">
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>n</mi>
        <mrow class="MJX-TeXAtom-ORD">
          <mo>/</mo>
        </mrow>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>log</mi>
        <mo>&#x2061;<!-- ⁡ --></mo>
        <mi>n</mi>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle n/\log \log n}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/9119ed2a7f5be8c422203f04acf6dcc63da14220" class="mwe-math-fallback-image-inline mw-invert skin-invert" aria-hidden="true" style="vertical-align: -0.838ex; width:11.057ex; height:2.843ex;" alt="{\displaystyle n/\log \log n}"></span> processors on the EREW PRAM.</q></cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=Theoretical+Computer+Science&amp;rft.atitle=Parallel+algorithms+for+red%E2%80%93black+trees&amp;rft.volume=262&amp;rft.issue=%3Cspan+class%3D%22nowrap%22%3E1%E2%80%93%3C%2Fspan%3E2&amp;rft.pages=415-435&amp;rft.date=2001&amp;rft&#95;id=info%3Adoi%2F10.1016%2FS0304-3975%2800%2900287-5&amp;rft.aulast=Park&amp;rft.aufirst=Heejin&amp;rft.au=Park%2C+Kunsoo&amp;rft&#95;id=https%3A%2F%2Fdoi.org%2F10.1016%252FS0304-3975%252800%252900287-5&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-36"><span class="mw-cite-backlink"><b><a href="#cite_ref-36">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFSanders2019" class="citation book cs1">Sanders, Peter (2019). Mehlhorn, Kurt; Dietzfelbinger, Martin; Dementiev, Roman (eds.). <i>Sequential and Parallel Algorithms and Data Structures&#160;: The Basic Toolbox</i>. Springer eBooks. Cham: Springer. pp.&#160;<span class="nowrap">252–</span>253. <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1007%2F978-3-030-25209-0">10.1007/978-3-030-25209-0</a>. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/9783030252090" title="Special:BookSources/9783030252090"><bdi>9783030252090</bdi></a>. <a href="/wiki/S2CID_(identifier)" class="mw-redirect" title="S2CID (identifier)">S2CID</a>&#160;<a rel="nofollow" class="external text" href="https://api.semanticscholar.org/CorpusID:201692657">201692657</a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Sequential+and+Parallel+Algorithms+and+Data+Structures+%3A+The+Basic+Toolbox&amp;rft.place=Cham&amp;rft.series=Springer+eBooks&amp;rft.pages=252-253&amp;rft.pub=Springer&amp;rft.date=2019&amp;rft&#95;id=https%3A%2F%2Fapi.semanticscholar.org%2FCorpusID%3A201692657%23id-name%3DS2CID&amp;rft&#95;id=info%3Adoi%2F10.1007%2F978-3-030-25209-0&amp;rft.isbn=9783030252090&amp;rft.aulast=Sanders&amp;rft.aufirst=Peter&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-37"><span class="mw-cite-backlink"><b><a href="#cite_ref-37">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFAkhremtsevSanders2016" class="citation book cs1">Akhremtsev, Yaroslav; Sanders, Peter (2016). "Fast Parallel Operations on Search Trees". <i>2016 IEEE 23rd International Conference on High Performance Computing (HiPC)</i>. pp.&#160;<span class="nowrap">291–</span>300. <a href="/wiki/ArXiv_(identifier)" class="mw-redirect" title="ArXiv (identifier)">arXiv</a>:<span class="id-lock-free" title="Freely accessible"><a rel="nofollow" class="external text" href="https://arxiv.org/abs/1510.05433">1510.05433</a></span>. <a href="/wiki/Doi_(identifier)" class="mw-redirect" title="Doi (identifier)">doi</a>:<a rel="nofollow" class="external text" href="https://doi.org/10.1109%2FHiPC.2016.042">10.1109/HiPC.2016.042</a>. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/978-1-5090-5411-4" title="Special:BookSources/978-1-5090-5411-4"><bdi>978-1-5090-5411-4</bdi></a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=bookitem&amp;rft.atitle=Fast+Parallel+Operations+on+Search+Trees&amp;rft.btitle=2016+IEEE+23rd+International+Conference+on+High+Performance+Computing+%28HiPC%29&amp;rft.pages=291-300&amp;rft.date=2016&amp;rft&#95;id=info%3Aarxiv%2F1510.05433&amp;rft&#95;id=info%3Adoi%2F10.1109%2FHiPC.2016.042&amp;rft.isbn=978-1-5090-5411-4&amp;rft.aulast=Akhremtsev&amp;rft.aufirst=Yaroslav&amp;rft.au=Sanders%2C+Peter&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
<li id="cite&#95;note-38"><span class="mw-cite-backlink"><b><a href="#cite_ref-38">^</a></b></span> <span class="reference-text"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite id="CITEREFJájá1992" class="citation book cs1">Jájá, Joseph (1992). <a rel="nofollow" class="external text" href="http://zbmath.org/?q=an:0781.68009"><i>An introduction to parallel algorithms</i></a>. Reading, Mass. [u.a.]: Addison-Wesley. pp.&#160;<span class="nowrap">65–</span>70. <a href="/wiki/ISBN_(identifier)" class="mw-redirect" title="ISBN (identifier)">ISBN</a>&#160;<a href="/wiki/Special:BookSources/0201548569" title="Special:BookSources/0201548569"><bdi>0201548569</bdi></a>. <a href="/wiki/Zbl_(identifier)" class="mw-redirect" title="Zbl (identifier)">Zbl</a>&#160;<a rel="nofollow" class="external text" href="https://zbmath.org/?format=complete&amp;q=an:0781.68009">0781.68009</a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=An+introduction+to+parallel+algorithms&amp;rft.place=Reading%2C+Mass.+%5Bu.a.%5D&amp;rft.pages=65-70&amp;rft.pub=Addison-Wesley&amp;rft.date=1992&amp;rft&#95;id=https%3A%2F%2Fzbmath.org%2F%3Fformat%3Dcomplete%26q%3Dan%3A0781.68009%23id-name%3DZbl&amp;rft.isbn=0201548569&amp;rft.aulast=J%C3%A1j%C3%A1&amp;rft.aufirst=Joseph&amp;rft&#95;id=http%3A%2F%2Fzbmath.org%2F%3Fq%3Dan%3A0781.68009&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></span>
</li>
</ol></div>
<div class="mw-heading mw-heading2"><h2 id="Further_reading">Further reading</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=38" title="Edit section: Further reading"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<ul><li><a rel="nofollow" class="external text" href="http://mathworld.wolfram.com/Red-BlackTree.html">Mathworld: Red–Black Tree</a></li>
<li><a rel="nofollow" class="external text" href="http://www.eli.sdsu.edu/courses/fall95/cs660/notes/RedBlackTree/RedBlack.html#RTFToC2">San Diego State University: CS 660: Red–Black tree notes</a>, by Roger Whitney</li>
<li><span class="anchor" id="Pfaff&#95;b"></span> <link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333433106" /><cite class="citation web cs1">Pfaff, Ben (June 2004). <a rel="nofollow" class="external text" href="http://www.stanford.edu/~blp/papers/libavl.pdf">"Performance Analysis of BSTs in System Software"</a> <span class="cs1-format">(PDF)</span>. <a href="/wiki/Stanford_University" title="Stanford University">Stanford University</a>.</cite><span title="ctx&#95;ver=Z39.88-2004&amp;rft&#95;val&#95;fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Performance+Analysis+of+BSTs+in+System+Software&amp;rft.pub=Stanford+University&amp;rft.date=2004-06&amp;rft.aulast=Pfaff&amp;rft.aufirst=Ben&amp;rft&#95;id=http%3A%2F%2Fwww.stanford.edu%2F~blp%2Fpapers%2Flibavl.pdf&amp;rfr&#95;id=info%3Asid%2Fen.wikipedia.org%3ARed%E2%80%93black+tree" class="Z3988"></span></li></ul>
<div class="mw-heading mw-heading2"><h2 id="External_links">External links</h2><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Red%E2%80%93black_tree&amp;action=edit&amp;section=39" title="Edit section: External links"><span>edit</span></a><span class="mw-editsection-bracket">]</span></span></div>
<ul><li><span class="anchor" id="Pfaff&#95;a"></span>Ben Pfaff: <i>An Introduction to Binary Search Trees and Balanced Trees.</i> Free Software Foundation, Boston 2004, <a rel="nofollow" class="external text" href="https://ftp.gnu.org/gnu/avl/avl-2.0.3.pdf.gz">ftp.gnu.org</a> (PDF gzip; 1662&#160;kB)</li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20140328232325/http://en.literateprograms.org/Red-black_tree_(C)">A complete and working implementation in C</a></li>
<li><a rel="nofollow" class="external text" href="http://ocw.mit.edu/courses/electrical-engineering-and-computer-science/6-046j-introduction-to-algorithms-sma-5503-fall-2005/video-lectures/lecture-10-red-black-trees-rotations-insertions-deletions/">OCW MIT Lecture on Red-black Trees</a> by <a href="/wiki/Erik_Demaine" title="Erik Demaine">Erik Demaine</a></li>
<li><a rel="nofollow" class="external text" href="https://www.youtube.com/watch?v=_VbTnLV8plU"><span class="plainlinks">Binary Search Tree Insertion Visualization</span></a> on <a href="/wiki/YouTube_video_(identifier)" class="mw-redirect" title="YouTube video (identifier)">YouTube</a> – Visualization of random and pre-sorted data insertions, in elementary binary search trees, and left-leaning red–black trees</li>
<li><a rel="nofollow" class="external text" href="https://gist.github.com/pallas/10697727">An intrusive red–black tree written in C++</a></li>
<li>Red–black BSTs in <a rel="nofollow" class="external text" href="https://algs4.cs.princeton.edu/33balanced/">3.3 Balanced Search Trees</a></li>
<li><a rel="nofollow" class="external text" href="https://web.archive.org/web/20160722175219/http://algs4.cs.princeton.edu/lectures/33DemoRedBlackBST.mov">Red–black BST Demo</a></li></ul>
<div class="navbox-styles"><style data-mw-deduplicate="TemplateStyles:r1333133064">.mw-parser-output .hlist dl,.mw-parser-output .hlist ol,.mw-parser-output .hlist ul{margin:0;padding:0}.mw-parser-output .hlist dd,.mw-parser-output .hlist dt,.mw-parser-output .hlist li{margin:0;display:inline}.mw-parser-output .hlist.inline,.mw-parser-output .hlist.inline dl,.mw-parser-output .hlist.inline ol,.mw-parser-output .hlist.inline ul,.mw-parser-output .hlist dl dl,.mw-parser-output .hlist dl ol,.mw-parser-output .hlist dl ul,.mw-parser-output .hlist ol dl,.mw-parser-output .hlist ol ol,.mw-parser-output .hlist ol ul,.mw-parser-output .hlist ul dl,.mw-parser-output .hlist ul ol,.mw-parser-output .hlist ul ul{display:inline}.mw-parser-output .hlist .mw-empty-li{display:none}.mw-parser-output .hlist dt::after{content:": "}.mw-parser-output .hlist dd::after,.mw-parser-output .hlist li::after{content:"\a0 · ";font-weight:bold}.mw-parser-output .hlist dd:last-child::after,.mw-parser-output .hlist dt:last-child::after,.mw-parser-output .hlist li:last-child::after{content:none}.mw-parser-output .hlist dd dd:first-child::before,.mw-parser-output .hlist dd dt:first-child::before,.mw-parser-output .hlist dd li:first-child::before,.mw-parser-output .hlist dt dd:first-child::before,.mw-parser-output .hlist dt dt:first-child::before,.mw-parser-output .hlist dt li:first-child::before,.mw-parser-output .hlist li dd:first-child::before,.mw-parser-output .hlist li dt:first-child::before,.mw-parser-output .hlist li li:first-child::before{content:" (";font-weight:normal}.mw-parser-output .hlist dd dd:last-child::after,.mw-parser-output .hlist dd dt:last-child::after,.mw-parser-output .hlist dd li:last-child::after,.mw-parser-output .hlist dt dd:last-child::after,.mw-parser-output .hlist dt dt:last-child::after,.mw-parser-output .hlist dt li:last-child::after,.mw-parser-output .hlist li dd:last-child::after,.mw-parser-output .hlist li dt:last-child::after,.mw-parser-output .hlist li li:last-child::after{content:")";font-weight:normal}.mw-parser-output .hlist ol{counter-reset:listitem}.mw-parser-output .hlist ol>li{counter-increment:listitem}.mw-parser-output .hlist ol>li::before{content:" "counter(listitem)"\a0 "}.mw-parser-output .hlist dd ol>li:first-child::before,.mw-parser-output .hlist dt ol>li:first-child::before,.mw-parser-output .hlist li ol>li:first-child::before{content:" ("counter(listitem)"\a0 "}</style><style data-mw-deduplicate="TemplateStyles:r1314944253">.mw-parser-output .navbox{box-sizing:border-box;border:1px solid #a2a9b1;width:100%;clear:both;font-size:88%;text-align:center;padding:1px;margin:1em auto 0}.mw-parser-output .navbox .navbox{margin-top:0}.mw-parser-output .navbox+.navbox,.mw-parser-output .navbox+.navbox-styles+.navbox{margin-top:-1px}.mw-parser-output .navbox-inner,.mw-parser-output .navbox-subgroup{width:100%}.mw-parser-output .navbox-group,.mw-parser-output .navbox-title,.mw-parser-output .navbox-abovebelow{padding:0.25em 1em;line-height:1.5em;text-align:center}.mw-parser-output .navbox-group{white-space:nowrap;text-align:right}.mw-parser-output .navbox,.mw-parser-output .navbox-subgroup{background-color:#fdfdfd;color:inherit}.mw-parser-output .navbox-list{line-height:1.5em;border-color:#fdfdfd}.mw-parser-output .navbox-list-with-group{text-align:left;border-left-width:2px;border-left-style:solid}.mw-parser-output tr+tr>.navbox-abovebelow,.mw-parser-output tr+tr>.navbox-group,.mw-parser-output tr+tr>.navbox-image,.mw-parser-output tr+tr>.navbox-list{border-top:2px solid #fdfdfd}.mw-parser-output .navbox-title{background-color:#ccf;color:inherit}.mw-parser-output .navbox-abovebelow,.mw-parser-output .navbox-group,.mw-parser-output .navbox-subgroup .navbox-title{background-color:#ddf;color:inherit}.mw-parser-output .navbox-subgroup .navbox-group,.mw-parser-output .navbox-subgroup .navbox-abovebelow{background-color:#e6e6ff;color:inherit}.mw-parser-output .navbox-even{background-color:#f7f7f7;color:inherit}.mw-parser-output .navbox-odd{background-color:transparent;color:inherit}.mw-parser-output .navbox .hlist td dl,.mw-parser-output .navbox .hlist td ol,.mw-parser-output .navbox .hlist td ul,.mw-parser-output .navbox td.hlist dl,.mw-parser-output .navbox td.hlist ol,.mw-parser-output .navbox td.hlist ul{padding:0.125em 0}.mw-parser-output .navbox .navbar{display:block;font-size:100%}.mw-parser-output .navbox-title .navbar{float:left;text-align:left;margin-right:0.5em}body.skin--responsive .mw-parser-output .navbox-image img{max-width:none!important}@media print{body.ns-0 .mw-parser-output .navbox{display:none!important}}</style></div><div role="navigation" class="navbox" aria-labelledby="Tree&#95;data&#95;structures2384" style="padding:3px"><table class="nowraplinks mw-collapsible autocollapse navbox-inner" style="border-spacing:0;background:transparent;color:inherit"><tbody><tr><th scope="col" class="navbox-title" colspan="2"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333133064" /><style data-mw-deduplicate="TemplateStyles:r1239400231">.mw-parser-output .navbar{display:inline;font-size:88%;font-weight:normal}.mw-parser-output .navbar-collapse{float:left;text-align:left}.mw-parser-output .navbar-boxtext{word-spacing:0}.mw-parser-output .navbar ul{display:inline-block;white-space:nowrap;line-height:inherit}.mw-parser-output .navbar-brackets::before{margin-right:-0.125em;content:"[ "}.mw-parser-output .navbar-brackets::after{margin-left:-0.125em;content:" ]"}.mw-parser-output .navbar li{word-spacing:-0.125em}.mw-parser-output .navbar a>span,.mw-parser-output .navbar a>abbr{text-decoration:inherit}.mw-parser-output .navbar-mini abbr{font-variant:small-caps;border-bottom:none;text-decoration:none;cursor:inherit}.mw-parser-output .navbar-ct-full{font-size:114%;margin:0 7em}.mw-parser-output .navbar-ct-mini{font-size:114%;margin:0 4em}html.skin-theme-clientpref-night .mw-parser-output .navbar li a abbr{color:var(--color-base)!important}@media(prefers-color-scheme:dark){html.skin-theme-clientpref-os .mw-parser-output .navbar li a abbr{color:var(--color-base)!important}}@media print{.mw-parser-output .navbar{display:none!important}}</style><div class="navbar plainlinks hlist navbar-mini"><ul><li class="nv-view"><a href="/wiki/Template:CS_trees" title="Template:CS trees"><abbr title="View this template">v</abbr></a></li><li class="nv-talk"><a href="/wiki/Template_talk:CS_trees" title="Template talk:CS trees"><abbr title="Discuss this template">t</abbr></a></li><li class="nv-edit"><a href="/wiki/Special:EditPage/Template:CS_trees" title="Special:EditPage/Template:CS trees"><abbr title="Edit this template">e</abbr></a></li></ul></div><div id="Tree&#95;data&#95;structures2384" style="font-size:114%;margin:0 4em"><a href="/wiki/Tree_(abstract_data_type)" title="Tree (abstract data type)">Tree data structures</a></div></th></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Search_tree" title="Search tree">Search trees</a><br />(<a href="/wiki/Set_(abstract_data_type)" title="Set (abstract data type)">dynamic sets</a>,<br /><a href="/wiki/Associative_array" title="Associative array">associative arrays</a>)</th><td class="navbox-list-with-group navbox-list navbox-odd hlist" style="width:100%;padding:0"><div style="padding:0 0.25em">
<ul><li><a href="/wiki/2%E2%80%933_tree" title="2–3 tree">2–3</a></li>
<li><a href="/wiki/2%E2%80%933%E2%80%934_tree" title="2–3–4 tree">2–3–4</a></li>
<li><a href="/wiki/AA_tree" title="AA tree">AA</a></li>
<li><a href="/wiki/(a,b)-tree" class="mw-redirect" title="(a,b)-tree">(a,b)</a></li>
<li><a href="/wiki/AVL_tree" title="AVL tree">AVL</a></li>
<li><a href="/wiki/B-tree" title="B-tree">B</a>
<ul><li><a href="/wiki/K-D-B-tree" title="K-D-B-tree">K-Dimensional</a></li></ul></li>
<li><a href="/wiki/B%2B_tree" title="B+ tree">B+</a></li>
<li><a href="/wiki/B*-tree" class="mw-redirect" title="B*-tree">B*</a></li>
<li><a href="/wiki/Bx-tree" title="Bx-tree">B<sup>x</sup></a></li>
<li><a href="/wiki/Binary_search_tree" title="Binary search tree">Binary search</a>
<ul><li><a href="/wiki/Optimal_binary_search_tree" title="Optimal binary search tree">Optimal</a></li>
<li><a href="/wiki/Self-balancing_binary_search_tree" title="Self-balancing binary search tree">Self-balancing</a></li></ul></li>
<li><a href="/wiki/Dancing_tree" title="Dancing tree">Dancing</a></li>
<li><a href="/wiki/HTree" title="HTree">HTree</a></li>
<li><a href="/wiki/Interval_tree" title="Interval tree">Interval</a></li>
<li><a href="/wiki/Order_statistic_tree" title="Order statistic tree">Order statistic</a></li>
<li><a href="/wiki/Palindrome_tree" title="Palindrome tree">Palindrome</a></li>
<li>(<a href="/wiki/Left-leaning_red%E2%80%93black_tree" title="Left-leaning red–black tree">Left-leaning</a>)&#160;<a class="mw-selflink selflink">Red–black</a></li>
<li><a href="/wiki/Scapegoat_tree" title="Scapegoat tree">Scapegoat</a></li>
<li><a href="/wiki/Splay_tree" title="Splay tree">Splay</a></li>
<li><a href="/wiki/T-tree" title="T-tree">T</a></li>
<li><a href="/wiki/Treap" title="Treap">Treap</a></li>
<li><a href="/wiki/UB-tree" title="UB-tree">UB</a></li>
<li><a href="/wiki/Weight-balanced_tree" title="Weight-balanced tree">Weight-balanced</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Heap_(data_structure)" title="Heap (data structure)">Heaps</a></th><td class="navbox-list-with-group navbox-list navbox-even hlist" style="width:100%;padding:0"><div style="padding:0 0.25em">
<ul><li><a href="/wiki/Binary_heap" title="Binary heap">Binary</a></li>
<li><a href="/wiki/Binomial_heap" title="Binomial heap">Binomial</a></li>
<li><a href="/wiki/Brodal_queue" title="Brodal queue">Brodal</a></li>
<li><a href="/wiki/D-ary_heap" title="D-ary heap"><i>d</i>-ary</a></li>
<li><a href="/wiki/Fibonacci_heap" title="Fibonacci heap">Fibonacci</a></li>
<li><a href="/wiki/Leftist_tree" title="Leftist tree">Leftist</a></li>
<li><a href="/wiki/Pairing_heap" title="Pairing heap">Pairing</a></li>
<li><a href="/wiki/Skew_binomial_heap" title="Skew binomial heap">Skew binomial</a></li>
<li><a href="/wiki/Skew_heap" title="Skew heap">Skew</a></li>
<li><a href="/wiki/Van_Emde_Boas_tree" title="Van Emde Boas tree">van Emde Boas</a></li>
<li><a href="/wiki/Weak_heap" title="Weak heap">Weak</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Trie" title="Trie">Tries</a></th><td class="navbox-list-with-group navbox-list navbox-odd hlist" style="width:100%;padding:0"><div style="padding:0 0.25em">
<ul><li><a href="/wiki/Ctrie" title="Ctrie">Ctrie</a></li>
<li><a href="/wiki/C-trie" title="C-trie">C-trie</a> (compressed ADT)</li>
<li><a href="/wiki/Hash_tree_(persistent_data_structure)" title="Hash tree (persistent data structure)">Hash</a></li>
<li><a href="/wiki/Radix_tree" title="Radix tree">Radix</a></li>
<li><a href="/wiki/Suffix_tree" title="Suffix tree">Suffix</a></li>
<li><a href="/wiki/Ternary_search_tree" title="Ternary search tree">Ternary search</a></li>
<li><a href="/wiki/X-fast_trie" title="X-fast trie">X-fast</a></li>
<li><a href="/wiki/Y-fast_trie" title="Y-fast trie">Y-fast</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Spatial_index" class="mw-redirect" title="Spatial index">Spatial</a> data<br />partitioning trees</th><td class="navbox-list-with-group navbox-list navbox-even hlist" style="width:100%;padding:0"><div style="padding:0 0.25em">
<ul><li><a href="/wiki/Ball_tree" title="Ball tree">Ball</a></li>
<li><a href="/wiki/BK-tree" title="BK-tree">BK</a></li>
<li><a href="/wiki/BSP_tree" class="mw-redirect" title="BSP tree">BSP</a></li>
<li><a href="/wiki/Cartesian_tree" title="Cartesian tree">Cartesian</a></li>
<li><a href="/wiki/Hilbert_R-tree" title="Hilbert R-tree">Hilbert R</a></li>
<li><a href="/wiki/K-d_tree" title="K-d tree"><i>k</i>-d</a> (<a href="/wiki/Implicit_k-d_tree" title="Implicit k-d tree">implicit <i>k</i>-d</a>)</li>
<li><a href="/wiki/M-tree" title="M-tree">M</a></li>
<li><a href="/wiki/Metric_tree" title="Metric tree">Metric</a></li>
<li><a href="/wiki/MVP_tree" class="mw-redirect" title="MVP tree">MVP</a></li>
<li><a href="/wiki/Octree" title="Octree">Octree</a></li>
<li><a href="/wiki/PH-tree" title="PH-tree">PH</a></li>
<li><a href="/wiki/Priority_R-tree" title="Priority R-tree">Priority R</a></li>
<li><a href="/wiki/Quadtree" title="Quadtree">Quad</a></li>
<li><a href="/wiki/R-tree" title="R-tree">R</a></li>
<li><a href="/wiki/R%2B_tree" title="R+ tree">R+</a></li>
<li><a href="/wiki/R*_tree" class="mw-redirect" title="R* tree">R*</a></li>
<li><a href="/wiki/Segment_tree" title="Segment tree">Segment</a></li>
<li><a href="/wiki/Vantage-point_tree" title="Vantage-point tree">VP</a></li>
<li><a href="/wiki/X-tree" title="X-tree">X</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%">Other trees</th><td class="navbox-list-with-group navbox-list navbox-odd hlist" style="width:100%;padding:0"><div style="padding:0 0.25em">
<ul><li><a href="/wiki/Cover_tree" title="Cover tree">Cover</a></li>
<li><a href="/wiki/Exponential_tree" title="Exponential tree">Exponential</a></li>
<li><a href="/wiki/Fenwick_tree" title="Fenwick tree">Fenwick</a></li>
<li><a href="/wiki/Finger_tree" title="Finger tree">Finger</a></li>
<li><a href="/wiki/Fractal_tree_index" title="Fractal tree index">Fractal index</a></li>
<li><a href="/wiki/Fusion_tree" title="Fusion tree">Fusion</a></li>
<li><a href="/wiki/Hash_calendar" title="Hash calendar">Hash calendar</a></li>
<li><a href="/wiki/IDistance" title="IDistance">iDistance</a></li>
<li><a href="/wiki/K-ary_tree" class="mw-redirect" title="K-ary tree">K-ary</a></li>
<li><a href="/wiki/Left-child_right-sibling_binary_tree" title="Left-child right-sibling binary tree">Left-child right-sibling</a></li>
<li><a href="/wiki/Link/cut_tree" title="Link/cut tree">Link/cut</a></li>
<li><a href="/wiki/Log-structured_merge-tree" title="Log-structured merge-tree">Log-structured merge</a></li>
<li><a href="/wiki/Merkle_tree" title="Merkle tree">Merkle</a></li>
<li><a href="/wiki/PQ_tree" title="PQ tree">PQ</a></li>
<li><a href="/wiki/Range_tree" title="Range tree">Range</a></li>
<li><a href="/wiki/SPQR_tree" title="SPQR tree">SPQR</a></li>
<li><a href="/wiki/Top_tree" title="Top tree">Top</a></li></ul>
</div></td></tr></tbody></table></div>
<div class="navbox-styles"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333133064" /><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1314944253" /></div><div role="navigation" class="navbox" aria-labelledby="Data&#95;structures1489" style="padding:3px"><table class="nowraplinks hlist mw-collapsible autocollapse navbox-inner" style="border-spacing:0;background:transparent;color:inherit"><tbody><tr><th scope="col" class="navbox-title" colspan="2"><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1333133064" /><link rel="mw-deduplicated-inline-style" href="mw-data:TemplateStyles:r1239400231" /><div class="navbar plainlinks hlist navbar-mini"><ul><li class="nv-view"><a href="/wiki/Template:Data_structures" title="Template:Data structures"><abbr title="View this template">v</abbr></a></li><li class="nv-talk"><a href="/wiki/Template_talk:Data_structures" title="Template talk:Data structures"><abbr title="Discuss this template">t</abbr></a></li><li class="nv-edit"><a href="/wiki/Special:EditPage/Template:Data_structures" title="Special:EditPage/Template:Data structures"><abbr title="Edit this template">e</abbr></a></li></ul></div><div id="Data&#95;structures1489" style="font-size:114%;margin:0 4em"><a href="/wiki/Data_structure" title="Data structure">Data structures</a></div></th></tr><tr><th scope="row" class="navbox-group" style="width:1%">Types</th><td class="navbox-list-with-group navbox-list navbox-odd" style="width:100%;padding:0"><div style="padding:0 0.25em">
<ul><li><a href="/wiki/Collection_(abstract_data_type)" title="Collection (abstract data type)">Collection</a></li>
<li><a href="/wiki/Container_(abstract_data_type)" title="Container (abstract data type)">Container</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Abstract_data_type" title="Abstract data type">Abstract</a></th><td class="navbox-list-with-group navbox-list navbox-even" style="width:100%;padding:0"><div style="padding:0 0.25em">
<ul><li><a href="/wiki/Associative_array" title="Associative array">Associative array</a>
<ul><li><a href="/wiki/Multimap" title="Multimap">Multimap</a></li>
<li><a href="/wiki/Retrieval_Data_Structure" title="Retrieval Data Structure">Retrieval Data Structure</a></li></ul></li>
<li><a href="/wiki/List_(abstract_data_type)" title="List (abstract data type)">List</a></li>
<li><a href="/wiki/Stack_(abstract_data_type)" title="Stack (abstract data type)">Stack</a></li>
<li><a href="/wiki/Queue_(abstract_data_type)" title="Queue (abstract data type)">Queue</a></li>
<li><a href="/wiki/Double-ended_queue" title="Double-ended queue">Double-ended queue</a></li>
<li><a href="/wiki/Priority_queue" title="Priority queue">Priority queue</a>
<ul><li><a href="/wiki/Double-ended_priority_queue" title="Double-ended priority queue">Double-ended priority queue</a></li></ul></li>
<li><a href="/wiki/Set_(abstract_data_type)" title="Set (abstract data type)">Set</a>
<ul><li><a href="/wiki/Set_(abstract_data_type)#Multiset" title="Set (abstract data type)">Multiset</a></li>
<li><a href="/wiki/Disjoint-set_data_structure" title="Disjoint-set data structure">Disjoint-set</a></li></ul></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Array_(data_structure)" title="Array (data structure)">Arrays</a></th><td class="navbox-list-with-group navbox-list navbox-odd" style="width:100%;padding:0"><div style="padding:0 0.25em">
<ul><li><a href="/wiki/Bit_array" title="Bit array">Bit array</a></li>
<li><a href="/wiki/Circular_buffer" title="Circular buffer">Circular buffer</a></li>
<li><a href="/wiki/Dynamic_array" title="Dynamic array">Dynamic array</a></li>
<li><a href="/wiki/Hash_table" title="Hash table">Hash table</a></li>
<li><a href="/wiki/Hashed_array_tree" title="Hashed array tree">Hashed array tree</a></li>
<li><a href="/wiki/Sparse_matrix" title="Sparse matrix">Sparse matrix</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Linked_data_structure" title="Linked data structure">Linked</a></th><td class="navbox-list-with-group navbox-list navbox-even" style="width:100%;padding:0"><div style="padding:0 0.25em">
<ul><li><a href="/wiki/Association_list" title="Association list">Association list</a></li>
<li><a href="/wiki/Linked_list" title="Linked list">Linked list</a></li>
<li><a href="/wiki/Skip_list" title="Skip list">Skip list</a></li>
<li><a href="/wiki/Unrolled_linked_list" title="Unrolled linked list">Unrolled linked list</a></li>
<li><a href="/wiki/XOR_linked_list" title="XOR linked list">XOR linked list</a></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Tree_(data_structure)" class="mw-redirect" title="Tree (data structure)">Trees</a></th><td class="navbox-list-with-group navbox-list navbox-odd" style="width:100%;padding:0"><div style="padding:0 0.25em">
<ul><li><a href="/wiki/B-tree" title="B-tree">B-tree</a></li>
<li><a href="/wiki/Binary_search_tree" title="Binary search tree">Binary search tree</a>
<ul><li><a href="/wiki/AA_tree" title="AA tree">AA tree</a></li>
<li><a href="/wiki/AVL_tree" title="AVL tree">AVL tree</a></li>
<li><a class="mw-selflink selflink">Red–black tree</a></li>
<li><a href="/wiki/Self-balancing_binary_search_tree" title="Self-balancing binary search tree">Self-balancing tree</a></li>
<li><a href="/wiki/Splay_tree" title="Splay tree">Splay tree</a></li></ul></li>
<li><a href="/wiki/Heap_(data_structure)" title="Heap (data structure)">Heap</a>
<ul><li><a href="/wiki/Binary_heap" title="Binary heap">Binary heap</a></li>
<li><a href="/wiki/Binomial_heap" title="Binomial heap">Binomial heap</a></li>
<li><a href="/wiki/Fibonacci_heap" title="Fibonacci heap">Fibonacci heap</a></li></ul></li>
<li><a href="/wiki/R-tree" title="R-tree">R-tree</a>
<ul><li><a href="/wiki/R*_tree" class="mw-redirect" title="R* tree">R* tree</a></li>
<li><a href="/wiki/R%2B_tree" title="R+ tree">R+ tree</a></li>
<li><a href="/wiki/Hilbert_R-tree" title="Hilbert R-tree">Hilbert R-tree</a></li></ul></li>
<li><a href="/wiki/Rope_(data_structure)" title="Rope (data structure)">Rope</a></li>
<li><a href="/wiki/Trie" title="Trie">Trie</a>
<ul><li><a href="/wiki/Hash_tree_(persistent_data_structure)" title="Hash tree (persistent data structure)">Hash tree</a></li></ul></li></ul>
</div></td></tr><tr><th scope="row" class="navbox-group" style="width:1%"><a href="/wiki/Graph_(abstract_data_type)" title="Graph (abstract data type)">Graphs</a></th><td class="navbox-list-with-group navbox-list navbox-even" style="width:100%;padding:0"><div style="padding:0 0.25em">
<ul><li><a href="/wiki/Binary_decision_diagram" title="Binary decision diagram">Binary decision diagram</a></li>
<li><a href="/wiki/Directed_acyclic_graph" title="Directed acyclic graph">Directed acyclic graph</a></li>
<li><a href="/wiki/Deterministic_acyclic_finite_state_automaton" title="Deterministic acyclic finite state automaton">Directed acyclic word graph</a></li></ul>
</div></td></tr><tr><td class="navbox-abovebelow" colspan="2"><div>
<ul><li><a href="/wiki/List_of_data_structures" title="List of data structures">List of data structures</a></li></ul>
</div></td></tr></tbody></table></div>
<!-- 
NewPP limit report
Parsed by mw‐api‐ext.eqiad.main‐65d58998c7‐q6kk7
Cached time: 20260219195302
Cache expiry: 14834
Reduced expiry: true
Complications: [vary‐revision‐sha1, prevent‐selective‐update, show‐toc]
CPU time usage: 1.243 seconds
Real time usage: 1.988 seconds
Preprocessor visited node count: 7256/1000000
Revision size: 80068/2097152 bytes
Post‐expand include size: 128470/2097152 bytes
Template argument size: 5334/2097152 bytes
Highest expansion depth: 16/100
Expensive parser function count: 5/500
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 220893/5000000 bytes
Lua time usage: 0.545/10.000 seconds
Lua memory usage: 9316087/52428800 bytes
Number of Wikibase entities loaded: 0/500
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00% 1089.319      1 -total
 32.97%  359.130      1 Template:Reflist
 18.28%  199.083     12 Template:Cite_book
 10.63%  115.743      1 Template:Short_description
  7.46%   81.290      2 Template:Pagetype
  7.12%   77.580      2 Template:Navbox
  7.11%   77.487      1 Template:CS-Trees
  6.11%   66.511     12 Template:Cite_web
  4.39%   47.838      6 Template:Rp
  4.28%   46.636      1 Template:Cn
-->

<!-- Saved in parser cache with key enwiki:pcache:26397:|#|:idhash:canonical and timestamp 20260219195302 and revision id 1339266301. Rendering was triggered because: api-parse
 -->
</div><noscript><img src="https://en.wikipedia.org/wiki/Special:CentralAutoLogin/start?useformat=desktop&amp;type=1x1&amp;usesul3=1" alt="" width="1" height="1" style="border: none; position: absolute;"></noscript>
<div class="printfooter" data-nosnippet="">Retrieved from "<a dir="ltr" href="https://en.wikipedia.org/w/index.php?title=Red–black_tree&amp;oldid=1339266301">https://en.wikipedia.org/w/index.php?title=Red–black_tree&amp;oldid=1339266301</a>"</div></div>
					<div id="catlinks" class="catlinks" data-mw-interface=""><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Help:Category" title="Help:Category">Categories</a>: <ul><li><a href="/wiki/Category:Binary_trees" title="Category:Binary trees">Binary trees</a></li><li><a href="/wiki/Category:Search_trees" title="Category:Search trees">Search trees</a></li><li><a href="/wiki/Category:Amortized_data_structures" title="Category:Amortized data structures">Amortized data structures</a></li><li><a href="/wiki/Category:1972_in_computing" title="Category:1972 in computing">1972 in computing</a></li></ul></div><div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden categories: <ul><li><a href="/wiki/Category:Articles_with_short_description" title="Category:Articles with short description">Articles with short description</a></li><li><a href="/wiki/Category:Short_description_matches_Wikidata" title="Category:Short description matches Wikidata">Short description matches Wikidata</a></li><li><a href="/wiki/Category:All_articles_with_unsourced_statements" title="Category:All articles with unsourced statements">All articles with unsourced statements</a></li><li><a href="/wiki/Category:Articles_with_unsourced_statements_from_April_2024" title="Category:Articles with unsourced statements from April 2024">Articles with unsourced statements from April 2024</a></li><li><a href="/wiki/Category:Pages_using_multiple_image_with_unknown_parameters" title="Category:Pages using multiple image with unknown parameters">Pages using multiple image with unknown parameters</a></li><li><a href="/wiki/Category:Articles_containing_proofs" title="Category:Articles containing proofs">Articles containing proofs</a></li><li><a href="/wiki/Category:Articles_with_example_C_code" title="Category:Articles with example C code">Articles with example C code</a></li></ul></div></div>
				</div>
			</main>
			
		</div>
		<div class="mw-footer-container">
			
<footer id="footer" class="mw-footer" >
	<ul id="footer-info">
	<li id="footer-info-lastmod"> This page was last edited on 19 February 2026, at 19:52<span class="anonymous-show">&#160;(UTC)</span>.</li>
	<li id="footer-info-copyright">Text is available under the <a href="/wiki/Wikipedia:Text_of_the_Creative_Commons_Attribution-ShareAlike_4.0_International_License" title="Wikipedia:Text of the Creative Commons Attribution-ShareAlike 4.0 International License">Creative Commons Attribution-ShareAlike 4.0 License</a>;
additional terms may apply. By using this site, you agree to the <a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Terms_of_Use" class="extiw" title="foundation:Special:MyLanguage/Policy:Terms of Use">Terms of Use</a> and <a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Privacy_policy" class="extiw" title="foundation:Special:MyLanguage/Policy:Privacy policy">Privacy Policy</a>. Wikipedia® is a registered trademark of the <a rel="nofollow" class="external text" href="https://wikimediafoundation.org/">Wikimedia Foundation, Inc.</a>, a non-profit organization.</li>
</ul>

	<ul id="footer-places">
	<li id="footer-places-privacy"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Privacy_policy">Privacy policy</a></li>
	<li id="footer-places-about"><a href="/wiki/Wikipedia:About">About Wikipedia</a></li>
	<li id="footer-places-disclaimers"><a href="/wiki/Wikipedia:General_disclaimer">Disclaimers</a></li>
	<li id="footer-places-contact"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us">Contact Wikipedia</a></li>
	<li id="footer-places-legal-safety-contacts"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Legal:Wikimedia_Foundation_Legal_and_Safety_Contact_Information">Legal &amp; safety contacts</a></li>
	<li id="footer-places-wm-codeofconduct"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Universal_Code_of_Conduct">Code of Conduct</a></li>
	<li id="footer-places-developers"><a href="https://developer.wikimedia.org">Developers</a></li>
	<li id="footer-places-statslink"><a href="https://stats.wikimedia.org/#/en.wikipedia.org">Statistics</a></li>
	<li id="footer-places-cookiestatement"><a href="https://foundation.wikimedia.org/wiki/Special:MyLanguage/Policy:Cookie_statement">Cookie statement</a></li>
	<li id="footer-places-mobileview"><a href="//en.wikipedia.org/w/index.php?title=Red%E2%80%93black_tree&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
</ul>

	<ul id="footer-icons" class="noprint">
	<li id="footer-copyrightico"><a href="https://www.wikimedia.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><picture><source media="(min-width: 500px)" srcset="/static/images/footer/wikimedia-button.svg" width="84" height="29"><img src="/static/images/footer/wikimedia.svg" width="25" height="25" alt="Wikimedia Foundation" lang="en" loading="lazy"></picture></a></li>
	<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/" class="cdx-button cdx-button--fake-button cdx-button--size-large cdx-button--fake-button--enabled"><picture><source media="(min-width: 500px)" srcset="/w/resources/assets/poweredby_mediawiki.svg" width="88" height="31"><img src="/w/resources/assets/mediawiki_compact.svg" alt="Powered by MediaWiki" lang="en" width="25" height="25" loading="lazy"></picture></a></li>
</ul>

</footer>

		</div>
	</div> 
</div> 
<div class="vector-header-container vector-sticky-header-container no-font-mode-scale">
	<div id="vector-sticky-header" class="vector-sticky-header">
		<div class="vector-sticky-header-start">
			<div class="vector-sticky-header-icon-start vector-button-flush-left" aria-hidden="true">
				<button class="cdx-button cdx-button--weight-quiet cdx-button--icon-only vector-sticky-header-search-toggle" tabindex="-1" data-event-name="ui.vector-sticky-search-form.icon"><span class="vector-icon mw-ui-icon-search mw-ui-icon-wikimedia-search"></span>

<span>Search</span>
			</button>
		</div>
			
		<div role="search" class="vector-search-box-vue  vector-search-box-show-thumbnail vector-search-box">
			<div class="vector-typeahead-search-container">
				<div class="cdx-typeahead-search cdx-typeahead-search--show-thumbnail">
					<form action="/w/index.php" id="vector-sticky-search-form" class="cdx-search-input cdx-search-input--has-end-button">
						<div  class="cdx-search-input__input-wrapper"  data-search-loc="header-moved">
							<div class="cdx-text-input cdx-text-input--has-start-icon">
								<input
									class="cdx-text-input__input mw-searchInput" autocomplete="off"
									
									type="search" name="search" placeholder="Search Wikipedia">
								<span class="cdx-text-input__icon cdx-text-input__start-icon"></span>
							</div>
							<input type="hidden" name="title" value="Special:Search">
						</div>
						<button class="cdx-button cdx-search-input__end-button">Search</button>
					</form>
				</div>
			</div>
		</div>
		<div class="vector-sticky-header-context-bar">
				<nav aria-label="Contents" class="vector-toc-landmark">
						
					<div id="vector-sticky-header-toc" class="vector-dropdown mw-portlet mw-portlet-sticky-header-toc vector-sticky-header-toc vector-button-flush-left"  >
						<input type="checkbox" id="vector-sticky-header-toc-checkbox" role="button" aria-haspopup="true" data-event-name="ui.dropdown-vector-sticky-header-toc" class="vector-dropdown-checkbox "  aria-label="Toggle the table of contents"  >
						<label id="vector-sticky-header-toc-label" for="vector-sticky-header-toc-checkbox" class="vector-dropdown-label cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only " aria-hidden="true"  ><span class="vector-icon mw-ui-icon-listBullet mw-ui-icon-wikimedia-listBullet"></span>

<span class="vector-dropdown-label-text">Toggle the table of contents</span>
						</label>
						<div class="vector-dropdown-content">
					
						<div id="vector-sticky-header-toc-unpinned-container" class="vector-unpinned-container">
						</div>
					
						</div>
					</div>
			</nav>
				<div class="vector-sticky-header-context-bar-primary" aria-hidden="true" ><span class="mw-page-title-main">Red–black tree</span></div>
			</div>
		</div>
		<div class="vector-sticky-header-end" aria-hidden="true">
			<div class="vector-sticky-header-icons">
				<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-talk-sticky-header" tabindex="-1" data-event-name="talk-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbles mw-ui-icon-wikimedia-speechBubbles"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-subject-sticky-header" tabindex="-1" data-event-name="subject-sticky-header"><span class="vector-icon mw-ui-icon-article mw-ui-icon-wikimedia-article"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-history-sticky-header" tabindex="-1" data-event-name="history-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-history mw-ui-icon-wikimedia-wikimedia-history"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only mw-watchlink" id="ca-watchstar-sticky-header" tabindex="-1" data-event-name="watch-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-star mw-ui-icon-wikimedia-wikimedia-star"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-edit-sticky-header" tabindex="-1" data-event-name="wikitext-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-wikiText mw-ui-icon-wikimedia-wikimedia-wikiText"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-ve-edit-sticky-header" tabindex="-1" data-event-name="ve-edit-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-edit mw-ui-icon-wikimedia-wikimedia-edit"></span>

<span></span>
			</a>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--icon-only" id="ca-viewsource-sticky-header" tabindex="-1" data-event-name="ve-edit-protected-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-editLock mw-ui-icon-wikimedia-wikimedia-editLock"></span>

<span></span>
			</a>
		</div>
			<div class="vector-sticky-header-buttons">
				<button class="cdx-button cdx-button--weight-quiet mw-interlanguage-selector" id="p-lang-btn-sticky-header" tabindex="-1" data-event-name="ui.dropdown-p-lang-btn-sticky-header"><span class="vector-icon mw-ui-icon-wikimedia-language mw-ui-icon-wikimedia-wikimedia-language"></span>

<span>33 languages</span>
			</button>
			<a href="#" class="cdx-button cdx-button--fake-button cdx-button--fake-button--enabled cdx-button--weight-quiet cdx-button--action-progressive" id="ca-addsection-sticky-header" tabindex="-1" data-event-name="addsection-sticky-header"><span class="vector-icon mw-ui-icon-speechBubbleAdd-progressive mw-ui-icon-wikimedia-speechBubbleAdd-progressive"></span>

<span>Add topic</span>
			</a>
		</div>
			<div class="vector-sticky-header-icon-end">
				<div class="vector-user-links">
				</div>
			</div>
		</div>
	</div>
</div>
<div class="mw-portlet mw-portlet-dock-bottom emptyPortlet" id="p-dock-bottom">
	<ul>
		
	</ul>
</div>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgHostname":"mw-web.eqiad.main-7b5496b6b9-nbvmn","wgBackendResponseTime":164,"wgPageParseReport":{"limitreport":{"cputime":"1.243","walltime":"1.988","ppvisitednodes":{"value":7256,"limit":1000000},"revisionsize":{"value":80068,"limit":2097152},"postexpandincludesize":{"value":128470,"limit":2097152},"templateargumentsize":{"value":5334,"limit":2097152},"expansiondepth":{"value":16,"limit":100},"expensivefunctioncount":{"value":5,"limit":500},"unstrip-depth":{"value":1,"limit":20},"unstrip-size":{"value":220893,"limit":5000000},"entityaccesscount":{"value":0,"limit":500},"timingprofile":["100.00% 1089.319      1 -total"," 32.97%  359.130      1 Template:Reflist"," 18.28%  199.083     12 Template:Cite_book"," 10.63%  115.743      1 Template:Short_description","  7.46%   81.290      2 Template:Pagetype","  7.12%   77.580      2 Template:Navbox","  7.11%   77.487      1 Template:CS-Trees","  6.11%   66.511     12 Template:Cite_web","  4.39%   47.838      6 Template:Rp","  4.28%   46.636      1 Template:Cn"]},"scribunto":{"limitreport-timeusage":{"value":"0.545","limit":"10.000"},"limitreport-memusage":{"value":9316087,"limit":52428800},"limitreport-logs":"anchor_id_list = table#1 {\n    [\"C-eval\"] = 1,\n    [\"CITEREFAkhremtsevSanders2016\"] = 1,\n    [\"CITEREFAndersson1993\"] = 1,\n    [\"CITEREFBayer1972\"] = 1,\n    [\"CITEREFBlellochFerizovicSun2016\"] = 1,\n    [\"CITEREFCormenLeisersonRivestStein2001\"] = 1,\n    [\"CITEREFCormenLeisersonRivestStein2022\"] = 1,\n    [\"CITEREFDemaineHarmonIaconoPătraşcu2007\"] = 1,\n    [\"CITEREFDrozdek2001\"] = 1,\n    [\"CITEREFGuibasSedgewick1978\"] = 1,\n    [\"CITEREFJájá1992\"] = 1,\n    [\"CITEREFMehlhornSanders2008\"] = 1,\n    [\"CITEREFMorris1998\"] = 1,\n    [\"CITEREFOkasaki1999\"] = 1,\n    [\"CITEREFParkPark2001\"] = 1,\n    [\"CITEREFPaton\"] = 1,\n    [\"CITEREFSanders2019\"] = 1,\n    [\"CITEREFSedgewick1983\"] = 1,\n    [\"CITEREFSedgewick1998\"] = 1,\n    [\"CITEREFSedgewick2008\"] = 1,\n    [\"CITEREFSedgewick2012\"] = 1,\n    [\"CITEREFSedgewickWayne\"] = 1,\n    [\"CITEREFSedgewickWayne2011\"] = 1,\n    [\"CITEREFTarjan1985\"] = 1,\n    [\"Cormen\"] = 1,\n    [\"Pfaff_a\"] = 1,\n    [\"Pfaff_b\"] = 1,\n    [\"ViolB\"] = 1,\n    [\"ViolR\"] = 1,\n    [\"amortized\"] = 1,\n    [\"con5\"] = 1,\n    [\"consideredBlack\"] = 1,\n    [\"explan\"] = 1,\n    [\"loopInvariantD\"] = 1,\n    [\"loopInvariantI\"] = 1,\n    [\"req3\"] = 1,\n    [\"req4\"] = 1,\n}\ntemplate_list = table#1 {\n    [\"Anchor\"] = 14,\n    [\"CS-Trees\"] = 1,\n    [\"Cite AV media\"] = 1,\n    [\"Cite book\"] = 12,\n    [\"Cite conference\"] = 1,\n    [\"Cite journal\"] = 5,\n    [\"Cite web\"] = 12,\n    [\"Cn\"] = 1,\n    [\"DEFAULTSORT:Red-Black Tree\"] = 1,\n    [\"Data structures\"] = 1,\n    [\"Dunno\"] = 4,\n    [\"Harvtxt\"] = 1,\n    [\"Infobox data structure-amortized\"] = 1,\n    [\"Math\"] = 19,\n    [\"Multiple image\"] = 8,\n    [\"Mvar\"] = 49,\n    [\"Nowrap\"] = 13,\n    [\"OEIS\"] = 1,\n    [\"Reflist\"] = 1,\n    [\"Rp\"] = 6,\n    [\"Short description\"] = 1,\n    [\"Single+single\"] = 1,\n    [\"TOC limit\"] = 1,\n    [\"Verth\"] = 4,\n    [\"Ya\"] = 7,\n    [\"YouTube\"] = 1,\n}\narticle_whitelist = table#1 {\n}\nciteref_patterns = table#1 {\n}\n"},"cachereport":{"origin":"mw-api-ext.eqiad.main-65d58998c7-q6kk7","timestamp":"20260219195302","ttl":14834,"transientcontent":true}}});});</script>
<script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Article","name":"Red\u2013black tree","url":"https:\/\/en.wikipedia.org\/wiki\/Red%E2%80%93black_tree","sameAs":"http:\/\/www.wikidata.org\/entity\/Q506496","mainEntity":"http:\/\/www.wikidata.org\/entity\/Q506496","author":{"@type":"Organization","name":"Contributors to Wikimedia projects"},"publisher":{"@type":"Organization","name":"Wikimedia Foundation, Inc.","logo":{"@type":"ImageObject","url":"https:\/\/www.wikimedia.org\/static\/images\/wmf-hor-googpub.png"}},"datePublished":"2001-12-14T21:46:14Z","dateModified":"2026-02-19T19:52:54Z","image":"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/c\/ce\/Red-black_tree_example_with_sockets.svg","headline":"self-balancing binary search tree data structure"}</script>
</body>
</html>